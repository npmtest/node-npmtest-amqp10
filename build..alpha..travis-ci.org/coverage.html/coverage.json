{"/home/travis/build/npmtest/node-npmtest-amqp10/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":33}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_amqp10 */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - post-init","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - post-init","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/lib.npmtest_amqp10.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/lib.npmtest_amqp10.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":51}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":57}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_amqp10 */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_amqp10 = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_amqp10 = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":50}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":64},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-amqp10 && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_amqp10 */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_amqp10","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // post-init","    // run browser js-env code - post-init","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_amqp10.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_amqp10.rollup.js'] =","            local.assetsDict['/assets.npmtest_amqp10.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_amqp10.__dirname + '/lib.npmtest_amqp10.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/index.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":27,"loc":{"start":{"line":27,"column":11},"end":{"line":27,"column":37}}},"2":{"name":"(anonymous_2)","line":44,"loc":{"start":{"line":44,"column":7},"end":{"line":44,"column":24}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":5,"column":31}},"2":{"start":{"line":7,"column":0},"end":{"line":51,"column":2}},"3":{"start":{"line":27,"column":39},"end":{"line":27,"column":88}},"4":{"start":{"line":45,"column":4},"end":{"line":47,"column":5}},"5":{"start":{"line":46,"column":6},"end":{"line":46,"column":50}},"6":{"start":{"line":49,"column":4},"end":{"line":49,"column":19}}},"branchMap":{"1":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":66},"end":{"line":27,"column":70}},{"start":{"line":27,"column":74},"end":{"line":27,"column":86}}]},"2":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":4},"end":{"line":45,"column":4}},{"start":{"line":45,"column":4},"end":{"line":45,"column":4}}]}},"code":["'use strict';","var Policy = require('./policies/policy'),","    Client = require('./amqp_client'),","    pu = require('./policies/policy_utilities'),","    types = require('./types');","","module.exports = {","  Client: Client,","  Constants: require('./constants'),","  Errors: require('./errors'),","  Type: types.Type,","","  /**","   * Policies encode many of the optional behaviors and settings of AMQP into a","   * cohesive place that could potentially be standardized, could be loaded from","   * JSON, etc.","   */","  Policy: {","    PolicyBase: Policy,","    Default: new Policy(),","    EventHub: require('./policies/event_hub_policy'),","    ServiceBusQueue: require('./policies/service_bus_queue_policy'),","    ServiceBusTopic: require('./policies/service_bus_topic_policy'),","    QpidJava: require('./policies/qpid_java_policy'),","    ActiveMQ: require('./policies/activemq_policy'),","    Utils: pu,","    merge: function(overrides, base) { return pu.Merge(overrides, base || new Policy()); }","  },","","  TransportProvider: require('./transport'),","  AbstractTransport: require('./transport/abstract_transport'),","  DescribedType: require('./types/described_type'),","","  /**","   * translator, which allows you to translate from node-amqp-encoder'd","   * values into the internal types used in this library. (e.g.","   * [ 'symbol', 'symval' ] => Symbol('symval') ).","   */","  translator: require('./adapters/translate_encoder'),","","  /**","   * Syntactic sugar for pluggable amqp10 Client behaviors","   */","  use: function(plugin) {","    if (typeof plugin !== 'function') {","      throw new Error('Plugin is not a function');","    }","","    plugin(Client);","  }","};",""],"l":{"2":1,"7":1,"27":0,"45":0,"46":0,"49":0}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/policies/policy.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/policies/policy.js","s":{"1":1,"2":1,"3":4,"4":0,"5":1,"6":8,"7":8,"8":8,"9":0,"10":1,"11":4,"12":0,"13":4,"14":4,"15":4,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":1},"b":{"1":[0,4],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":4,"2":0,"3":8,"4":0,"5":4,"6":0,"7":0},"fnMap":{"1":{"name":"containerName","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":25}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":9},"end":{"line":8,"column":20}}},"3":{"name":"linkName","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":26}}},"4":{"name":"(anonymous_4)","line":14,"loc":{"start":{"line":14,"column":9},"end":{"line":14,"column":20}}},"5":{"name":"Policy","line":25,"loc":{"start":{"line":25,"column":0},"end":{"line":25,"column":27}}},"6":{"name":"(anonymous_6)","line":198,"loc":{"start":{"line":198,"column":36},"end":{"line":198,"column":54}}},"7":{"name":"(anonymous_7)","line":217,"loc":{"start":{"line":217,"column":32},"end":{"line":217,"column":50}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":5,"column":32}},"2":{"start":{"line":7,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":8,"column":2},"end":{"line":8,"column":52}},"4":{"start":{"line":8,"column":22},"end":{"line":8,"column":49}},"5":{"start":{"line":11,"column":0},"end":{"line":17,"column":1}},"6":{"start":{"line":12,"column":2},"end":{"line":12,"column":13}},"7":{"start":{"line":13,"column":2},"end":{"line":13,"column":19}},"8":{"start":{"line":14,"column":2},"end":{"line":16,"column":4}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":24}},"10":{"start":{"line":25,"column":0},"end":{"line":184,"column":1}},"11":{"start":{"line":26,"column":2},"end":{"line":27,"column":33}},"12":{"start":{"line":27,"column":4},"end":{"line":27,"column":33}},"13":{"start":{"line":29,"column":2},"end":{"line":180,"column":5}},"14":{"start":{"line":182,"column":2},"end":{"line":182,"column":36}},"15":{"start":{"line":183,"column":2},"end":{"line":183,"column":14}},"16":{"start":{"line":198,"column":0},"end":{"line":208,"column":2}},"17":{"start":{"line":200,"column":2},"end":{"line":202,"column":3}},"18":{"start":{"line":201,"column":4},"end":{"line":201,"column":29}},"19":{"start":{"line":204,"column":2},"end":{"line":204,"column":33}},"20":{"start":{"line":205,"column":2},"end":{"line":205,"column":39}},"21":{"start":{"line":206,"column":2},"end":{"line":206,"column":51}},"22":{"start":{"line":206,"column":20},"end":{"line":206,"column":51}},"23":{"start":{"line":207,"column":2},"end":{"line":207,"column":16}},"24":{"start":{"line":217,"column":0},"end":{"line":248,"column":2}},"25":{"start":{"line":218,"column":2},"end":{"line":218,"column":41}},"26":{"start":{"line":219,"column":2},"end":{"line":226,"column":4}},"27":{"start":{"line":228,"column":2},"end":{"line":235,"column":3}},"28":{"start":{"line":229,"column":4},"end":{"line":229,"column":47}},"29":{"start":{"line":231,"column":4},"end":{"line":234,"column":5}},"30":{"start":{"line":232,"column":19},"end":{"line":232,"column":55}},"31":{"start":{"line":232,"column":56},"end":{"line":232,"column":62}},"32":{"start":{"line":233,"column":20},"end":{"line":233,"column":59}},"33":{"start":{"line":233,"column":60},"end":{"line":233,"column":66}},"34":{"start":{"line":237,"column":2},"end":{"line":237,"column":43}},"35":{"start":{"line":238,"column":2},"end":{"line":244,"column":3}},"36":{"start":{"line":239,"column":4},"end":{"line":239,"column":47}},"37":{"start":{"line":241,"column":4},"end":{"line":241,"column":52}},"38":{"start":{"line":242,"column":4},"end":{"line":242,"column":30}},"39":{"start":{"line":243,"column":4},"end":{"line":243,"column":38}},"40":{"start":{"line":246,"column":2},"end":{"line":246,"column":52}},"41":{"start":{"line":247,"column":2},"end":{"line":247,"column":16}},"42":{"start":{"line":250,"column":0},"end":{"line":250,"column":24}}},"branchMap":{"1":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":2},"end":{"line":26,"column":2}},{"start":{"line":26,"column":2},"end":{"line":26,"column":2}}]},"2":{"line":200,"type":"if","locations":[{"start":{"line":200,"column":2},"end":{"line":200,"column":2}},{"start":{"line":200,"column":2},"end":{"line":200,"column":2}}]},"3":{"line":206,"type":"if","locations":[{"start":{"line":206,"column":2},"end":{"line":206,"column":2}},{"start":{"line":206,"column":2},"end":{"line":206,"column":2}}]},"4":{"line":220,"type":"binary-expr","locations":[{"start":{"line":220,"column":10},"end":{"line":220,"column":32}},{"start":{"line":220,"column":36},"end":{"line":220,"column":54}}]},"5":{"line":221,"type":"cond-expr","locations":[{"start":{"line":222,"column":6},"end":{"line":222,"column":24}},{"start":{"line":222,"column":27},"end":{"line":222,"column":30}}]},"6":{"line":221,"type":"binary-expr","locations":[{"start":{"line":221,"column":11},"end":{"line":221,"column":29}},{"start":{"line":221,"column":33},"end":{"line":221,"column":63}}]},"7":{"line":223,"type":"cond-expr","locations":[{"start":{"line":224,"column":6},"end":{"line":224,"column":55}},{"start":{"line":224,"column":58},"end":{"line":224,"column":64}}]},"8":{"line":228,"type":"if","locations":[{"start":{"line":228,"column":2},"end":{"line":228,"column":2}},{"start":{"line":228,"column":2},"end":{"line":228,"column":2}}]},"9":{"line":231,"type":"switch","locations":[{"start":{"line":232,"column":6},"end":{"line":232,"column":62}},{"start":{"line":233,"column":6},"end":{"line":233,"column":66}}]},"10":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":2},"end":{"line":238,"column":2}},{"start":{"line":238,"column":2},"end":{"line":238,"column":2}}]},"11":{"line":243,"type":"binary-expr","locations":[{"start":{"line":243,"column":18},"end":{"line":243,"column":29}},{"start":{"line":243,"column":33},"end":{"line":243,"column":37}}]}},"code":["'use strict';","var url = require('url'),","    constants = require('../constants'),","    putils = require('./policy_utilities'),","    u = require('../utilities');","","function containerName() {","  return function() { return 'conn' + Date.now(); };","}","","function linkName(prefix) {","  var id = 1;","  var pre = prefix;","  return function() {","    return pre + (id++);","  };","}","","/**"," * The default policy for amqp10 clients"," *"," * @class"," * @param {object} overrides    override values for the default policy"," */","function Policy(overrides) {","  if (!(this instanceof Policy))","    return new Policy(overrides);","","  u.defaults(this, overrides, {","    /**","     * support subjects in link names with the following characteristics:","     * receiver: \"amq.topic/news\", means a filter on the ReceiverLink will be made","     *           for messages send with a subject \"news\"","     *","     * sender: \"amq.topic/news\", will automatically set \"news\" as the subject for","     *         messages sent on this link, unless the user explicitly overrides","     *         the subject.","     *","     * @name Policy#defaultSubjects","     * @property {boolean}","     */","    defaultSubjects: true,","","    /**","     * Options related to the reconnect behavior of the client. If this value is `null` reconnect","     * is effectively disabled","     *","     * @name Policy#reconnect","     * @type {Object|null}","     * @property {number|null} [retries] How many times to attempt reconnection","     * @property {string} [strategy='fibonacci'] The algorithm used for backoff. Can be `fibonacci` or `exponential`","     * @property {boolean} [forever] Whether or not to attempt reconnection forever","     */","    reconnect: {","      retries: 10,","      strategy: 'fibonacci', // || 'exponential'","      forever: true","    },","","    /**","     * @name Policy#connect","     * @type {object}","     * @property {object} options Options passed into the open performative on initial connection","     * @property {string|function} options.containerId The id of the source container","     * @property {string} options.hostname The name of the target host","     * @property {number} options.maxFrameSize The largest frame size that the sending peer is able to accept on this connection","     * @property {number} options.channelMax The channel-max value is the highest channel number that can be used on the connection","     * @property {number} options.idleTimeout The idle timeout required by the sender","     * @property {array<string>|null} options.outgoingLocales A list of the locales that the peer supports for sending informational text","     * @property {array<string>|null} options.incomingLocales A list of locales that the sending peer permits for incoming informational text","     * @property {array<string>|null} options.offeredCapabilities A list of extension capabilities the peer may use if the sender offers them","     * @property {array|null} options.desiredCapabilities The desired-capability list defines which extension capabilities the sender may use if the receiver offers them","     * @property {object|null} options.properties The properties map contains a set of fields intended to indicate information about the connection and its container","     * @property {object} sslOptions Options used to initiate a TLS/SSL connection, with the exception of the following options all options in this object are passed directly to node's [tls.connect](https://nodejs.org/api/tls.html#tls_tls_connect_options_callback) method.","     * @property {string|null} sslOptions.keyFile Path to the file containing the private key for the client","     * @property {string|null} sslOptions.certFile Path to the file containing the certificate key for the client","     * @property {string|null} sslOptions.caFile Path to the file containing the trusted cert for the client","     * @property {boolean} sslOptions.rejectUnauthorized","     * @property {string|null} saslMechanism Allows the sasl mechanism to be overriden by policy","     */","    connect: {","      options: {","        containerId: containerName(),","        hostname: 'localhost',","        maxFrameSize: constants.defaultMaxFrameSize,","        channelMax: constants.defaultChannelMax,","        idleTimeout: constants.defaultIdleTimeout,","        outgoingLocales: constants.defaultOutgoingLocales,","        incomingLocales: constants.defaultIncomingLocales,","        offeredCapabilities: null,","        desiredCapabilities: null,","        properties: {},","      },","      sslOptions: {","        keyFile: null,","        certFile: null,","        caFile: null,","        rejectUnauthorized: false","      },","      saslMechanism: null","    },","","    /**","     * @name Policy#session","     * @type {object}","     * @property {object} options Options passed into the `begin` performative on session start","     * @property {number} options.nextOutgoingId The transfer-id to assign to the next transfer frame","     * @property {number} options.incomingWindow The maximum number of incoming transfer frames that the endpoint can currently receive","     * @property {number} options.outgoingWindow The maximum number of outgoing transfer frames that the endpoint can currently send","     * @property {function} window A function used to calculate how/when the flow control window should change","     * @property {number} windowQuantum Quantum used in predefined window policies","     * @property {boolean} enableSessionFlowControl Whether or not session flow control should be performed at all","     */","    session: {","      options: {","        nextOutgoingId: constants.session.defaultOutgoingId,","        incomingWindow: constants.session.defaultIncomingWindow,","        outgoingWindow: constants.session.defaultOutgoingWindow","      },","","      window: putils.WindowPolicies.RefreshAtHalf,","      windowQuantum: constants.session.defaultIncomingWindow,","      enableSessionFlowControl: true","    },","","    /**","     * @name Policy#senderLink","     * @type {object}","     * @property {object} attach Options passed into the `attach` performative on link attachment","     * @property {string|function} attach.name This name uniquely identifies the link from the container of the source to the container of the target node","     * @property {string|boolean} attach.role The role being played by the peer","     * @property {string|number} attach.sndSettleMode The delivery settlement policy for the sender","     * @property {number} attach.maxMessageSize The maximum message size supported by the link endpoint","     * @property {number} attach.initialDeliveryCount This must not be null if role is sender, and it is ignored if the role is receiver.","     * @property {string} callback Determines when a send should call its callback ('settle', 'sent', 'none')","     * @property {function|null} encoder=null The optional encoder used for all outgoing sends","     * @property {boolean|null} reattach=null Whether the link should attempt reattach on detach","     */","    senderLink: {","      attach: {","        name: linkName('sender'),","        role: constants.linkRole.sender,","        sndSettleMode: constants.senderSettleMode.mixed,","        maxMessageSize: 0,","        initialDeliveryCount: 1","      },","","      callback: putils.SenderCallbackPolicies.OnSettle,","      encoder: null,","      reattach: null","    },","","    /**","     * @name Policy#receiverLink","     * @type {object}","     * @property {object} attach Options passed into the `attach` performative on link attachment","     * @property {string|function} attach.name This name uniquely identifies the link from the container of the source to the container of the target node","     * @property {boolean} attach.role The role being played by the peer","     * @property {number|string} attach.rcvSettleMode The delivery settlement policy for the receiver","     * @property {number} attach.maxMessageSize The maximum message size supported by the link endpoint","     * @property {number} attach.initialDeliveryCount This must not be null if role is sender, and it is ignored if the role is receiver.","     * @property {function} credit A function that determines when (if ever) to refresh the receiver link's credit","     * @property {number} creditQuantum Quantum used in pre-defined credit policy functions","     * @property {function|null} decoder=null The optional decoder used for all incoming data","     * @property {boolean|null} reattach=null Whether the link should attempt reattach on detach","     */","    receiverLink: {","      attach: {","        name: linkName('receiver'),","        role: constants.linkRole.receiver,","        rcvSettleMode: constants.receiverSettleMode.autoSettle,","        maxMessageSize: 10000, // Arbitrary choice","        initialDeliveryCount: 1","      },","      credit: putils.CreditPolicies.RefreshAtHalf,","      creditQuantum: 100,","      decoder: null,","      reattach: null","    },","  });","","  putils.fixDeprecatedOptions(this);","  return this;","}","","","/**"," * Parses a link address used for creating Sender and Receiver links."," *"," * The resulting object has a required `name` property (used as the source"," * address in the attach performative), as well as an optional `subject` property"," * which (if specified) will automatically create a source filter."," *"," * @inner @memberof Policy"," * @param {string} address the address to parse"," * @return {object}"," */","Policy.prototype.parseLinkAddress = function(address) {","  // @todo: this \"parsing\" should be far more rigorous","  if (!this.defaultSubjects) {","    return { name: address };","  }","","  var parts = address.split('/');","  var result = { name: parts.shift() };","  if (parts.length) result.subject = parts.shift();","  return result;","};","","/**"," * Parses an address for use when connecting to an AMQP 1.0 broker"," *"," * @inner @memberof Policy"," * @param {string} address the address to parse"," * @return {object}"," */","Policy.prototype.parseAddress = function(address) {","  var parsedAddress = url.parse(address);","  var result = {","    host: parsedAddress.hostname || parsedAddress.href,","    path: (parsedAddress.path && parsedAddress.path !== address) ?","      parsedAddress.path : '/',","    protocol: parsedAddress.protocol ?","      parsedAddress.protocol.slice(0, -1).toLowerCase() : 'amqp',","    href: parsedAddress.href","  };","","  if (!!parsedAddress.port) {","    result.port = parseInt(parsedAddress.port);","  } else {","    switch (result.protocol.toLowerCase()) {","      case 'amqp': result.port = constants.defaultPort; break;","      case 'amqps': result.port = constants.defaultTlsPort; break;","    }","  }","","  result.rootUri = result.protocol + '://';","  if (!!parsedAddress.auth) {","    result.rootUri += parsedAddress.auth + '@';","","    var userPass = parsedAddress.auth.split(':', 2);","    result.user = userPass[0];","    result.pass = userPass[1] || null;","  }","","  result.rootUri += result.host + ':' + result.port;","  return result;","};","","module.exports = Policy;",""],"l":{"2":1,"7":1,"8":4,"11":1,"12":8,"13":8,"14":8,"15":0,"25":1,"26":4,"27":0,"29":4,"182":4,"183":4,"198":1,"200":0,"201":0,"204":0,"205":0,"206":0,"207":0,"217":1,"218":0,"219":0,"228":0,"229":0,"231":0,"232":0,"233":0,"237":0,"238":0,"239":0,"241":0,"242":0,"243":0,"246":0,"247":0,"250":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/constants.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/constants.js","s":{"1":1,"2":1,"3":2,"4":2,"5":2,"6":8,"7":2,"8":1,"9":1},"b":{},"f":{"1":2,"2":8},"fnMap":{"1":{"name":"amqpify","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":22}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":14},"end":{"line":8,"column":27}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"2":{"start":{"line":5,"column":0},"end":{"line":11,"column":1}},"3":{"start":{"line":6,"column":2},"end":{"line":6,"column":24}},"4":{"start":{"line":7,"column":2},"end":{"line":7,"column":25}},"5":{"start":{"line":8,"column":2},"end":{"line":8,"column":50}},"6":{"start":{"line":8,"column":29},"end":{"line":8,"column":46}},"7":{"start":{"line":10,"column":2},"end":{"line":10,"column":17}},"8":{"start":{"line":13,"column":0},"end":{"line":74,"column":2}},"9":{"start":{"line":76,"column":0},"end":{"line":76,"column":27}}},"branchMap":{},"code":["'use strict';","","var Builder = require('buffer-builder');","","function amqpify(arr) {","  var b = new Builder();","  b.appendString('AMQP');","  arr.forEach(function (c) { b.appendUInt8(c); });","","  return b.get();","}","","var Constants = {","  defaultPort: 5672,","  defaultTlsPort: 5671,","  minMaxFrameSize: 512,","  defaultMaxFrameSize: 4294967295,","  defaultChannelMax: 65535,","  defaultIdleTimeout: 120000,","  requiredLocale: 'en-US',","  defaultOutgoingLocales: 'en-US',","  defaultIncomingLocales: 'en-US',","  defaultHandleMax: 4294967295,","  amqpVersion: amqpify([0, 1, 0, 0]),","  saslVersion: amqpify([3, 1, 0, 0]),","  session: {","    defaultIncomingWindow: 100,","    defaultOutgoingWindow: 100,","    defaultOutgoingId: 1","  },","  frameType: {","    amqp: 0x0, sasl: 0x1","  },","  saslOutcomes: {","    ok: 0,","    auth: 1,","    sys: 2,","    sys_perm: 3,","    sys_temp: 4,","    0: 'OK',","    1: 'Authentication failed due to issue with credentials',","    2: 'Authentication failed due to a system error',","    3: 'Authentication failed due to a permanent system error',","    4: 'Authentication failed due to a transient system error'","  },","  linkRole: {","    sender: false,","    receiver: true","  },","  senderSettleMode: {","    unsettled: 0,","    settled: 1,","    mixed: 2","  },","  receiverSettleMode: {","    autoSettle: 0,","    settleOnDisposition: 1","  },","  terminusDurability: {","    none: 0,","    configuration: 1,","    unsettledState: 2","  },","  terminusExpiryPolicy: {","    linkDetach: 'link-detach',","    sessionEnd: 'session-end',","    connectionClose: 'connection-close',","    never: 'never'","  },","  distributionMode: {","    move: 'move',","    copy: 'copy'","  }","};","","module.exports = Constants;",""],"l":{"3":1,"5":1,"6":2,"7":2,"8":8,"10":2,"13":1,"76":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/policies/policy_utilities.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/policies/policy_utilities.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":4,"30":0,"31":4,"32":0,"33":0,"34":4,"35":0,"36":0,"37":1,"38":1,"39":0,"40":0,"41":0,"42":1,"43":1,"44":0,"45":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,4],"11":[4,4],"12":[0,4],"13":[4,4,4],"14":[0,4],"15":[4,4,4],"16":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":4,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":17},"end":{"line":9,"column":35}}},"2":{"name":"(anonymous_2)","line":15,"loc":{"start":{"line":15,"column":18},"end":{"line":15,"column":36}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":16},"end":{"line":21,"column":34}}},"4":{"name":"(anonymous_4)","line":29,"loc":{"start":{"line":29,"column":17},"end":{"line":29,"column":32}}},"5":{"name":"(anonymous_5)","line":35,"loc":{"start":{"line":35,"column":18},"end":{"line":35,"column":33}}},"6":{"name":"(anonymous_6)","line":41,"loc":{"start":{"line":41,"column":18},"end":{"line":41,"column":39}}},"7":{"name":"(anonymous_7)","line":42,"loc":{"start":{"line":42,"column":11},"end":{"line":42,"column":36}}},"8":{"name":"(anonymous_8)","line":53,"loc":{"start":{"line":53,"column":16},"end":{"line":53,"column":31}}},"9":{"name":"fixDeprecatedOptions","line":77,"loc":{"start":{"line":77,"column":0},"end":{"line":77,"column":38}}},"10":{"name":"merge","line":98,"loc":{"start":{"line":98,"column":0},"end":{"line":98,"column":32}}},"11":{"name":"(anonymous_11)","line":107,"loc":{"start":{"line":107,"column":31},"end":{"line":107,"column":78}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":6,"column":32}},"2":{"start":{"line":8,"column":0},"end":{"line":24,"column":2}},"3":{"start":{"line":10,"column":4},"end":{"line":13,"column":5}},"4":{"start":{"line":11,"column":6},"end":{"line":11,"column":139}},"5":{"start":{"line":12,"column":6},"end":{"line":12,"column":54}},"6":{"start":{"line":16,"column":4},"end":{"line":19,"column":5}},"7":{"start":{"line":17,"column":6},"end":{"line":17,"column":139}},"8":{"start":{"line":18,"column":6},"end":{"line":18,"column":54}},"9":{"start":{"line":26,"column":0},"end":{"line":26,"column":47}},"10":{"start":{"line":28,"column":0},"end":{"line":56,"column":2}},"11":{"start":{"line":30,"column":4},"end":{"line":33,"column":5}},"12":{"start":{"line":31,"column":6},"end":{"line":31,"column":129}},"13":{"start":{"line":32,"column":6},"end":{"line":32,"column":49}},"14":{"start":{"line":36,"column":4},"end":{"line":39,"column":5}},"15":{"start":{"line":37,"column":6},"end":{"line":37,"column":129}},"16":{"start":{"line":38,"column":6},"end":{"line":38,"column":49}},"17":{"start":{"line":42,"column":4},"end":{"line":51,"column":6}},"18":{"start":{"line":43,"column":6},"end":{"line":45,"column":7}},"19":{"start":{"line":44,"column":8},"end":{"line":44,"column":128}},"20":{"start":{"line":46,"column":6},"end":{"line":46,"column":123}},"21":{"start":{"line":47,"column":6},"end":{"line":50,"column":7}},"22":{"start":{"line":48,"column":8},"end":{"line":48,"column":119}},"23":{"start":{"line":49,"column":8},"end":{"line":49,"column":39}},"24":{"start":{"line":58,"column":0},"end":{"line":58,"column":47}},"25":{"start":{"line":64,"column":0},"end":{"line":72,"column":2}},"26":{"start":{"line":74,"column":0},"end":{"line":74,"column":61}},"27":{"start":{"line":75,"column":0},"end":{"line":75,"column":59}},"28":{"start":{"line":77,"column":0},"end":{"line":94,"column":1}},"29":{"start":{"line":78,"column":2},"end":{"line":78,"column":54}},"30":{"start":{"line":78,"column":47},"end":{"line":78,"column":54}},"31":{"start":{"line":80,"column":2},"end":{"line":86,"column":3}},"32":{"start":{"line":83,"column":4},"end":{"line":84,"column":48}},"33":{"start":{"line":85,"column":4},"end":{"line":85,"column":53}},"34":{"start":{"line":88,"column":2},"end":{"line":93,"column":3}},"35":{"start":{"line":91,"column":4},"end":{"line":91,"column":93}},"36":{"start":{"line":92,"column":4},"end":{"line":92,"column":57}},"37":{"start":{"line":96,"column":0},"end":{"line":96,"column":59}},"38":{"start":{"line":98,"column":0},"end":{"line":102,"column":1}},"39":{"start":{"line":99,"column":2},"end":{"line":99,"column":44}},"40":{"start":{"line":100,"column":2},"end":{"line":100,"column":31}},"41":{"start":{"line":101,"column":2},"end":{"line":101,"column":16}},"42":{"start":{"line":104,"column":0},"end":{"line":104,"column":29}},"43":{"start":{"line":107,"column":0},"end":{"line":119,"column":2}},"44":{"start":{"line":108,"column":2},"end":{"line":108,"column":32}},"45":{"start":{"line":110,"column":2},"end":{"line":118,"column":17}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":4}},{"start":{"line":10,"column":4},"end":{"line":10,"column":4}}]},"2":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":16,"column":4}},{"start":{"line":16,"column":4},"end":{"line":16,"column":4}}]},"3":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":4}},{"start":{"line":30,"column":4},"end":{"line":30,"column":4}}]},"4":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":36,"column":4}},{"start":{"line":36,"column":4},"end":{"line":36,"column":4}}]},"5":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":6},"end":{"line":43,"column":6}},{"start":{"line":43,"column":6},"end":{"line":43,"column":6}}]},"6":{"line":46,"type":"cond-expr","locations":[{"start":{"line":46,"column":59},"end":{"line":46,"column":84}},{"start":{"line":46,"column":87},"end":{"line":46,"column":122}}]},"7":{"line":46,"type":"binary-expr","locations":[{"start":{"line":46,"column":27},"end":{"line":46,"column":36}},{"start":{"line":46,"column":40},"end":{"line":46,"column":55}}]},"8":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":6},"end":{"line":47,"column":6}},{"start":{"line":47,"column":6},"end":{"line":47,"column":6}}]},"9":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":10},"end":{"line":47,"column":27}},{"start":{"line":47,"column":31},"end":{"line":47,"column":58}}]},"10":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":2},"end":{"line":78,"column":2}},{"start":{"line":78,"column":2},"end":{"line":78,"column":2}}]},"11":{"line":78,"type":"binary-expr","locations":[{"start":{"line":78,"column":6},"end":{"line":78,"column":26}},{"start":{"line":78,"column":30},"end":{"line":78,"column":45}}]},"12":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":2},"end":{"line":80,"column":2}},{"start":{"line":80,"column":2},"end":{"line":80,"column":2}}]},"13":{"line":80,"type":"binary-expr","locations":[{"start":{"line":80,"column":6},"end":{"line":80,"column":23}},{"start":{"line":81,"column":6},"end":{"line":81,"column":30}},{"start":{"line":82,"column":6},"end":{"line":82,"column":65}}]},"14":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":2},"end":{"line":88,"column":2}},{"start":{"line":88,"column":2},"end":{"line":88,"column":2}}]},"15":{"line":88,"type":"binary-expr","locations":[{"start":{"line":88,"column":6},"end":{"line":88,"column":25}},{"start":{"line":89,"column":6},"end":{"line":89,"column":32}},{"start":{"line":90,"column":6},"end":{"line":90,"column":69}}]},"16":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":15},"end":{"line":108,"column":25}},{"start":{"line":108,"column":29},"end":{"line":108,"column":31}}]}},"code":["'use strict';","","var debug = require('debug')('amqp10:policy:utils'),","    constants = require('../constants'),","    errors = require('../errors'),","    u = require('../utilities');","","var WindowPolicies = {","  RefreshAtHalf: function(session) {","    if (session._sessionParams.incomingWindow < (session.policy.windowQuantum / 2)) {","      debug('Refreshing session window by ' + session.policy.windowQuantum + ': ' + session._sessionParams.incomingWindow + ' remaining.');","      session.addWindow(session.policy.windowQuantum);","    }","  },","  RefreshAtEmpty: function(session) {","    if (session._sessionParams.incomingWindow <= 0) {","      debug('Refreshing session window by ' + session.policy.windowQuantum + ': ' + session._sessionParams.incomingWindow + ' remaining.');","      session.addWindow(session.policy.windowQuantum);","    }","  },","  DoNotRefresh: function(session) {","    // Do Nothing","  }","};","","module.exports.WindowPolicies = WindowPolicies;","","var CreditPolicies = {","  RefreshAtHalf: function(link) {","    if (link.linkCredit < (link.policy.creditQuantum / 2)) {","      debug('Refreshing link ' + link.name + ' credit by ' + link.policy.creditQuantum + ': ' + link.linkCredit + ' remaining.');","      link.addCredits(link.policy.creditQuantum);","    }","  },","  RefreshAtEmpty: function(link) {","    if (link.linkCredit <= 0) {","      debug('Refreshing link ' + link.name + ' credit by ' + link.policy.creditQuantum + ': ' + link.linkCredit + ' remaining.');","      link.addCredits(link.policy.creditQuantum);","    }","  },","  RefreshSettled: function (threshold) {","    return function (link, options) {","      if (link.policy.rcvSettleMode === constants.receiverSettleMode.autoSettle) {","        throw new errors.InvalidStateError('Cannot specify RefreshSettled as link refresh policy when auto-settling messages.');","      }","      var creditQuantum = (!!options && options.initial) ? link.policy.creditQuantum : link.settledMessagesSinceLastCredit;","      if (creditQuantum > 0 && link.linkCredit < threshold) {","        debug('Refreshing link ' + link.name + ' credit by ' + creditQuantum + ': ' + link.linkCredit + ' remaining.');","        link.addCredits(creditQuantum);","      }","    };","  },","  DoNotRefresh: function(link) {","    // Do Nothing","  }","};","","module.exports.CreditPolicies = CreditPolicies;","","/**"," * Defines the behavior of the return value of `SenderLink.send`"," * @enum"," */","var SenderCallbackPolicy = {","  /** Callback immediately after sending, no promise is created */","  None: 'none',","  /** Only callback when settled Disposition received from recipient */","  OnSettle: 'settled',","  /** Callback as soon as sent, will not call-back again if future disposition","   *  results in error. */","  OnSent: 'sent',","};","","module.exports.SenderCallbackPolicies = SenderCallbackPolicy; // deprecated","module.exports.SenderCallbackPolicy = SenderCallbackPolicy;","","function fixDeprecatedOptions(policy) {","  if (policy === undefined || policy === null) return;","","  if (policy.senderLink &&","      policy.senderLink.attach &&","      policy.senderLink.attach.hasOwnProperty('senderSettleMode')) {","    policy.senderLink.attach.sndSettleMode =","      policy.senderLink.attach.senderSettleMode;","    delete policy.senderLink.attach.senderSettleMode;","  }","","  if (policy.receiverLink &&","      policy.receiverLink.attach &&","      policy.receiverLink.attach.hasOwnProperty('receiverSettleMode')) {","    policy.receiverLink.attach.rcvSettleMode = policy.receiverLink.attach.receiverSettleMode;","    delete policy.receiverLink.attach.receiverSettleMode;","  }","}","","module.exports.fixDeprecatedOptions = fixDeprecatedOptions;","","function merge(newPolicy, base) {","  var policy = u.deepMerge(newPolicy, base);","  fixDeprecatedOptions(policy);","  return policy;","}","","module.exports.Merge = merge;","","// Receiver links process messages N at a time, only renewing credits on ack.","module.exports.RenewOnSettle = function(initialCredit, threshold, basePolicy) {","  basePolicy = basePolicy || {};","","  return merge({","    receiverLink: {","      credit: CreditPolicies.RefreshSettled(threshold),","      creditQuantum: initialCredit,","      attach: {","        rcvSettleMode: constants.receiverSettleMode.settleOnDisposition","      }","    }","  }, basePolicy);","};",""],"l":{"3":1,"8":1,"10":0,"11":0,"12":0,"16":0,"17":0,"18":0,"26":1,"28":1,"30":0,"31":0,"32":0,"36":0,"37":0,"38":0,"42":0,"43":0,"44":0,"46":0,"47":0,"48":0,"49":0,"58":1,"64":1,"74":1,"75":1,"77":1,"78":4,"80":4,"83":0,"85":0,"88":4,"91":0,"92":0,"96":1,"98":1,"99":0,"100":0,"101":0,"104":1,"107":1,"108":0,"110":0}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/errors.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/errors.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":1,"22":0,"23":0,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":0,"31":0,"32":1,"33":1,"34":0,"35":0,"36":0,"37":0,"38":1,"39":1,"40":0,"41":0,"42":1,"43":1,"44":0,"45":0,"46":1,"47":1,"48":0,"49":0,"50":1,"51":1,"52":0,"53":0,"54":1,"55":1,"56":0,"57":0,"58":1,"59":1,"60":0,"61":0,"62":1,"63":1,"64":0,"65":0,"66":1,"67":1,"68":0,"69":0,"70":1,"71":1,"72":0,"73":0,"74":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"fnMap":{"1":{"name":"(anonymous_1)","line":8,"loc":{"start":{"line":8,"column":27},"end":{"line":8,"column":41}}},"2":{"name":"(anonymous_2)","line":22,"loc":{"start":{"line":22,"column":19},"end":{"line":22,"column":30}}},"3":{"name":"(anonymous_3)","line":32,"loc":{"start":{"line":32,"column":23},"end":{"line":32,"column":67}}},"4":{"name":"(anonymous_4)","line":49,"loc":{"start":{"line":49,"column":30},"end":{"line":49,"column":47}}},"5":{"name":"(anonymous_5)","line":62,"loc":{"start":{"line":62,"column":29},"end":{"line":62,"column":47}}},"6":{"name":"(anonymous_6)","line":75,"loc":{"start":{"line":75,"column":31},"end":{"line":75,"column":49}}},"7":{"name":"(anonymous_7)","line":89,"loc":{"start":{"line":89,"column":23},"end":{"line":89,"column":48}}},"8":{"name":"(anonymous_8)","line":104,"loc":{"start":{"line":104,"column":27},"end":{"line":104,"column":41}}},"9":{"name":"(anonymous_9)","line":117,"loc":{"start":{"line":117,"column":29},"end":{"line":117,"column":43}}},"10":{"name":"(anonymous_10)","line":130,"loc":{"start":{"line":130,"column":27},"end":{"line":130,"column":41}}},"11":{"name":"(anonymous_11)","line":143,"loc":{"start":{"line":143,"column":25},"end":{"line":143,"column":39}}},"12":{"name":"(anonymous_12)","line":156,"loc":{"start":{"line":156,"column":27},"end":{"line":156,"column":41}}},"13":{"name":"(anonymous_13)","line":169,"loc":{"start":{"line":169,"column":22},"end":{"line":169,"column":36}}},"14":{"name":"(anonymous_14)","line":182,"loc":{"start":{"line":182,"column":29},"end":{"line":182,"column":47}}},"15":{"name":"(anonymous_15)","line":194,"loc":{"start":{"line":194,"column":24},"end":{"line":194,"column":38}}},"16":{"name":"(anonymous_16)","line":206,"loc":{"start":{"line":206,"column":27},"end":{"line":206,"column":41}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":4,"column":46}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":33}},"3":{"start":{"line":8,"column":0},"end":{"line":14,"column":2}},"4":{"start":{"line":9,"column":2},"end":{"line":11,"column":3}},"5":{"start":{"line":10,"column":4},"end":{"line":10,"column":78}},"6":{"start":{"line":13,"column":2},"end":{"line":13,"column":13}},"7":{"start":{"line":22,"column":0},"end":{"line":29,"column":2}},"8":{"start":{"line":23,"column":2},"end":{"line":23,"column":41}},"9":{"start":{"line":24,"column":2},"end":{"line":24,"column":37}},"10":{"start":{"line":26,"column":2},"end":{"line":26,"column":29}},"11":{"start":{"line":27,"column":2},"end":{"line":28,"column":52}},"12":{"start":{"line":28,"column":4},"end":{"line":28,"column":52}},"13":{"start":{"line":30,"column":0},"end":{"line":30,"column":39}},"14":{"start":{"line":32,"column":0},"end":{"line":39,"column":2}},"15":{"start":{"line":33,"column":2},"end":{"line":33,"column":83}},"16":{"start":{"line":34,"column":2},"end":{"line":34,"column":34}},"17":{"start":{"line":36,"column":2},"end":{"line":36,"column":29}},"18":{"start":{"line":37,"column":2},"end":{"line":37,"column":33}},"19":{"start":{"line":38,"column":2},"end":{"line":38,"column":29}},"20":{"start":{"line":40,"column":0},"end":{"line":40,"column":54}},"21":{"start":{"line":49,"column":0},"end":{"line":52,"column":2}},"22":{"start":{"line":50,"column":2},"end":{"line":50,"column":61}},"23":{"start":{"line":51,"column":2},"end":{"line":51,"column":41}},"24":{"start":{"line":53,"column":0},"end":{"line":53,"column":61}},"25":{"start":{"line":62,"column":0},"end":{"line":65,"column":2}},"26":{"start":{"line":63,"column":2},"end":{"line":63,"column":64}},"27":{"start":{"line":64,"column":2},"end":{"line":64,"column":40}},"28":{"start":{"line":66,"column":0},"end":{"line":66,"column":60}},"29":{"start":{"line":75,"column":0},"end":{"line":78,"column":2}},"30":{"start":{"line":76,"column":2},"end":{"line":76,"column":63}},"31":{"start":{"line":77,"column":2},"end":{"line":77,"column":42}},"32":{"start":{"line":79,"column":0},"end":{"line":79,"column":62}},"33":{"start":{"line":89,"column":0},"end":{"line":94,"column":2}},"34":{"start":{"line":90,"column":2},"end":{"line":90,"column":42}},"35":{"start":{"line":91,"column":2},"end":{"line":91,"column":39}},"36":{"start":{"line":92,"column":2},"end":{"line":92,"column":34}},"37":{"start":{"line":93,"column":2},"end":{"line":93,"column":21}},"38":{"start":{"line":95,"column":0},"end":{"line":95,"column":54}},"39":{"start":{"line":104,"column":0},"end":{"line":107,"column":2}},"40":{"start":{"line":105,"column":2},"end":{"line":105,"column":35}},"41":{"start":{"line":106,"column":2},"end":{"line":106,"column":38}},"42":{"start":{"line":108,"column":0},"end":{"line":108,"column":58}},"43":{"start":{"line":117,"column":0},"end":{"line":120,"column":2}},"44":{"start":{"line":118,"column":2},"end":{"line":118,"column":35}},"45":{"start":{"line":119,"column":2},"end":{"line":119,"column":40}},"46":{"start":{"line":121,"column":0},"end":{"line":121,"column":60}},"47":{"start":{"line":130,"column":0},"end":{"line":133,"column":2}},"48":{"start":{"line":131,"column":2},"end":{"line":131,"column":35}},"49":{"start":{"line":132,"column":2},"end":{"line":132,"column":38}},"50":{"start":{"line":134,"column":0},"end":{"line":134,"column":58}},"51":{"start":{"line":143,"column":0},"end":{"line":146,"column":2}},"52":{"start":{"line":144,"column":2},"end":{"line":144,"column":35}},"53":{"start":{"line":145,"column":2},"end":{"line":145,"column":36}},"54":{"start":{"line":147,"column":0},"end":{"line":147,"column":56}},"55":{"start":{"line":156,"column":0},"end":{"line":159,"column":2}},"56":{"start":{"line":157,"column":2},"end":{"line":157,"column":41}},"57":{"start":{"line":158,"column":2},"end":{"line":158,"column":38}},"58":{"start":{"line":160,"column":0},"end":{"line":160,"column":64}},"59":{"start":{"line":169,"column":0},"end":{"line":172,"column":2}},"60":{"start":{"line":170,"column":2},"end":{"line":170,"column":35}},"61":{"start":{"line":171,"column":2},"end":{"line":171,"column":33}},"62":{"start":{"line":173,"column":0},"end":{"line":173,"column":53}},"63":{"start":{"line":182,"column":0},"end":{"line":185,"column":2}},"64":{"start":{"line":183,"column":2},"end":{"line":183,"column":61}},"65":{"start":{"line":184,"column":2},"end":{"line":184,"column":40}},"66":{"start":{"line":186,"column":0},"end":{"line":186,"column":60}},"67":{"start":{"line":194,"column":0},"end":{"line":197,"column":2}},"68":{"start":{"line":195,"column":2},"end":{"line":195,"column":35}},"69":{"start":{"line":196,"column":2},"end":{"line":196,"column":35}},"70":{"start":{"line":198,"column":0},"end":{"line":198,"column":55}},"71":{"start":{"line":206,"column":0},"end":{"line":209,"column":2}},"72":{"start":{"line":207,"column":2},"end":{"line":207,"column":35}},"73":{"start":{"line":208,"column":2},"end":{"line":208,"column":38}},"74":{"start":{"line":210,"column":0},"end":{"line":210,"column":58}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]},"2":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":27,"column":2}},{"start":{"line":27,"column":2},"end":{"line":27,"column":2}}]},"3":{"line":33,"type":"binary-expr","locations":[{"start":{"line":33,"column":49},"end":{"line":33,"column":60}},{"start":{"line":33,"column":64},"end":{"line":33,"column":80}}]},"4":{"line":90,"type":"binary-expr","locations":[{"start":{"line":90,"column":12},"end":{"line":90,"column":19}},{"start":{"line":90,"column":23},"end":{"line":90,"column":41}}]}},"code":["'use strict';","","var util = require('util'),","    AMQPError = require('./types/amqp_error');","","var errors = module.exports = {};","","errors.wrapProtocolError = function(err) {","  if (err instanceof AMQPError) {","    return new errors.ProtocolError(err.condition, err.description, err.info);","  }","","  return err;","};","","/**"," * The base error all amqp10 Errors inherit from."," *"," * @constructor"," * @alias Error"," */","errors.BaseError = function() {","  var tmp = Error.apply(this, arguments);","  tmp.name = this.name = 'AmqpError';","","  this.message = tmp.message;","  if (Error.captureStackTrace)","    Error.captureStackTrace(this, this.constructor);","};","util.inherits(errors.BaseError, Error);","","errors.ProtocolError = function(condition, description, errorInfo) {","  errors.BaseError.call(this, condition + ':' + (description || 'no description'));","  this.name = 'AmqpProtocolError';","","  this.condition = condition;","  this.description = description;","  this.errorInfo = errorInfo;","};","util.inherits(errors.ProtocolError, errors.BaseError);","","/**"," * AMQP Header is malformed."," *"," * @param header"," * @extends BaseError"," * @constructor"," */","errors.MalformedHeaderError = function(header) {","  errors.BaseError.call(this, 'malformed header: ' + header);","  this.name = 'AmqpMalformedHeaderError';","};","util.inherits(errors.MalformedHeaderError, errors.BaseError);","","/**"," * Method or feature is not yet implemented."," *"," * @param feature"," * @extends BaseError"," * @constructor"," */","errors.NotImplementedError = function(feature) {","  errors.BaseError.call(this, feature + ' not yet implemented');","  this.name = 'AmqpNotImplementedError';","};","util.inherits(errors.NotImplementedError, errors.BaseError);","","/**"," * Payload is malformed or cannot be parsed."," *"," * @param payload"," * @extends BaseError"," * @constructor"," */","errors.MalformedPayloadError = function(payload) {","  errors.BaseError.call(this, 'malformed payload: ' + payload);","  this.name = 'AmqpMalformedPayloadError';","};","util.inherits(errors.MalformedPayloadError, errors.BaseError);","","/**"," * Given object cannot be encoded successfully."," *"," * @param value         the value that caused the encoding error"," * @param message       an optional message giving context to the error"," * @extends BaseError"," * @constructor"," */","errors.EncodingError = function(value, message) {","  message = message || 'encoding failure';","  errors.BaseError.call(this, message);","  this.name = 'AmqpEncodingError';","  this.value = value;","};","util.inherits(errors.EncodingError, errors.BaseError);","","/**"," * Violation of AMQP flow control."," *"," * @param msg"," * @extends BaseError"," * @constructor"," */","errors.OverCapacityError = function(msg) {","  errors.BaseError.call(this, msg);","  this.name = 'AmqpOverCapacityError';","};","util.inherits(errors.OverCapacityError, errors.BaseError);","","/**"," * Authentication failure."," *"," * @param msg"," * @extends BaseError"," * @constructor"," */","errors.AuthenticationError = function(msg) {","  errors.BaseError.call(this, msg);","  this.name = 'AmqpAuthenticationError';","};","util.inherits(errors.AuthenticationError, errors.BaseError);","","/**"," * Invalid state."," *"," * @param msg"," * @extends BaseError"," * @constructor"," */","errors.InvalidStateError = function(msg) {","  errors.BaseError.call(this, msg);","  this.name = 'AmqpInvalidStateError';","};","util.inherits(errors.InvalidStateError, errors.BaseError);","","/**"," * Connection error"," *"," * @param msg"," * @extends BaseError"," * @constructor"," */","errors.ConnectionError = function(msg) {","  errors.BaseError.call(this, msg);","  this.name = 'AmqpConnectionError';","};","util.inherits(errors.ConnectionError, errors.BaseError);","","/**"," * Disconnected error"," *"," * @param msg"," * @extends ConnectionError"," * @constructor"," */","errors.DisconnectedError = function(msg) {","  errors.ConnectionError.call(this, msg);","  this.name = 'AmqpDisconnectedError';","};","util.inherits(errors.DisconnectedError, errors.ConnectionError);","","/**"," * AMQP Version error"," *"," * @param msg"," * @extends BaseError"," * @constructor"," */","errors.VersionError = function(msg) {","  errors.BaseError.call(this, msg);","  this.name = 'AmqpVersionError';","};","util.inherits(errors.VersionError, errors.BaseError);","","/**"," * Invalid subject specified for receiver or sender link creation."," *"," * @param subject the subject specified"," * @extends BaseError"," * @constructor"," */","errors.InvalidSubjectError = function(subject) {","  errors.BaseError.call(this, 'Invalid subject: ' + subject);","  this.name = 'AmqpInvalidSubjectError';","};","util.inherits(errors.InvalidSubjectError, errors.BaseError);","","/**"," * Used to signal transport-related errors"," *"," * @extends BaseError"," * @constructor"," */","errors.TransportError = function(msg) {","  errors.BaseError.call(this, msg);","  this.name = 'AmqpTransportError';","};","util.inherits(errors.TransportError, errors.BaseError);","","/**"," * Used to indicate that a link requires an active connection"," *"," * @extends BaseError"," * @constructor"," */","errors.NotConnectedError = function(msg) {","  errors.BaseError.call(this, msg);","  this.name = 'AmqpNotConnectedError';","};","util.inherits(errors.NotConnectedError, errors.BaseError);",""],"l":{"3":1,"6":1,"8":1,"9":0,"10":0,"13":0,"22":1,"23":0,"24":0,"26":0,"27":0,"28":0,"30":1,"32":1,"33":0,"34":0,"36":0,"37":0,"38":0,"40":1,"49":1,"50":0,"51":0,"53":1,"62":1,"63":0,"64":0,"66":1,"75":1,"76":0,"77":0,"79":1,"89":1,"90":0,"91":0,"92":0,"93":0,"95":1,"104":1,"105":0,"106":0,"108":1,"117":1,"118":0,"119":0,"121":1,"130":1,"131":0,"132":0,"134":1,"143":1,"144":0,"145":0,"147":1,"156":1,"157":0,"158":0,"160":1,"169":1,"170":0,"171":0,"173":1,"182":1,"183":0,"184":0,"186":1,"194":1,"195":0,"196":0,"198":1,"206":1,"207":0,"208":0,"210":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types/amqp_error.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types/amqp_error.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"errorCondition","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":3,"column":66}},"2":{"start":{"line":5,"column":0},"end":{"line":13,"column":1}},"3":{"start":{"line":6,"column":2},"end":{"line":8,"column":3}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"5":{"start":{"line":10,"column":2},"end":{"line":12,"column":26}},"6":{"start":{"line":15,"column":0},"end":{"line":22,"column":3}},"7":{"start":{"line":24,"column":0},"end":{"line":24,"column":27}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":2}},{"start":{"line":6,"column":2},"end":{"line":6,"column":2}}]},"2":{"line":10,"type":"cond-expr","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":41}},{"start":{"line":12,"column":4},"end":{"line":12,"column":25}}]}},"code":["'use strict';","var ErrorCondition = require('./error_condition'),","    defineComposite = require('./composite_type').defineComposite;","","function errorCondition(value) {","  if (!ErrorCondition.hasOwnProperty(value)) {","    return value;","  }","","  return ErrorCondition.hasOwnProperty(ErrorCondition[value]) ?","    ErrorCondition[ErrorCondition[value]] :","    ErrorCondition[value];","}","","var AMQPError = defineComposite({","  name: 'error', code: 0x1d,","  fields: [","    { name: 'condition', type: 'symbol', requires: errorCondition, mandatory: true },","    { name: 'description', type: 'string' },","    { name: 'info', type: 'fields', default: {} }","  ]","});","","module.exports = AMQPError;",""],"l":{"2":1,"5":1,"6":0,"7":0,"10":0,"15":1,"24":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types/error_condition.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types/error_condition.js","s":{"1":1,"2":1,"3":25,"4":25,"5":25,"6":25,"7":25,"8":25,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1},"b":{},"f":{"1":25},"fnMap":{"1":{"name":"defineErrorCondition","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":38}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":3,"column":41}},"2":{"start":{"line":5,"column":0},"end":{"line":12,"column":1}},"3":{"start":{"line":6,"column":2},"end":{"line":6,"column":52}},"4":{"start":{"line":7,"column":2},"end":{"line":7,"column":51}},"5":{"start":{"line":8,"column":2},"end":{"line":8,"column":81}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":43}},"7":{"start":{"line":10,"column":2},"end":{"line":10,"column":50}},"8":{"start":{"line":11,"column":2},"end":{"line":11,"column":34}},"9":{"start":{"line":15,"column":0},"end":{"line":15,"column":44}},"10":{"start":{"line":16,"column":0},"end":{"line":16,"column":39}},"11":{"start":{"line":17,"column":0},"end":{"line":17,"column":49}},"12":{"start":{"line":18,"column":0},"end":{"line":18,"column":42}},"13":{"start":{"line":19,"column":0},"end":{"line":19,"column":53}},"14":{"start":{"line":20,"column":0},"end":{"line":20,"column":41}},"15":{"start":{"line":21,"column":0},"end":{"line":21,"column":43}},"16":{"start":{"line":22,"column":0},"end":{"line":22,"column":45}},"17":{"start":{"line":23,"column":0},"end":{"line":23,"column":45}},"18":{"start":{"line":24,"column":0},"end":{"line":24,"column":49}},"19":{"start":{"line":25,"column":0},"end":{"line":25,"column":46}},"20":{"start":{"line":26,"column":0},"end":{"line":26,"column":43}},"21":{"start":{"line":27,"column":0},"end":{"line":27,"column":50}},"22":{"start":{"line":30,"column":0},"end":{"line":30,"column":47}},"23":{"start":{"line":31,"column":0},"end":{"line":31,"column":54}},"24":{"start":{"line":32,"column":0},"end":{"line":32,"column":49}},"25":{"start":{"line":35,"column":0},"end":{"line":35,"column":54}},"26":{"start":{"line":36,"column":0},"end":{"line":36,"column":49}},"27":{"start":{"line":37,"column":0},"end":{"line":37,"column":51}},"28":{"start":{"line":38,"column":0},"end":{"line":38,"column":55}},"29":{"start":{"line":41,"column":0},"end":{"line":41,"column":48}},"30":{"start":{"line":42,"column":0},"end":{"line":42,"column":58}},"31":{"start":{"line":43,"column":0},"end":{"line":43,"column":56}},"32":{"start":{"line":44,"column":0},"end":{"line":44,"column":43}},"33":{"start":{"line":45,"column":0},"end":{"line":45,"column":41}}},"branchMap":{},"code":["'use strict';","var u = require('../utilities'),","    ErrorCondition = module.exports = {};","","function defineErrorCondition(symbol) {","  var stringReference = symbol.replace(/amqp:/, '');","  var enumReference = u.camelCase(stringReference);","  enumReference = enumReference.charAt(0).toUpperCase() + enumReference.slice(1);","  ErrorCondition[stringReference] = symbol;","  ErrorCondition[enumReference] = stringReference;","  ErrorCondition[symbol] = symbol;","}","","// shared","defineErrorCondition('amqp:internal-error');","defineErrorCondition('amqp:not-found');","defineErrorCondition('amqp:unauthorized-access');","defineErrorCondition('amqp:decode-error');","defineErrorCondition('amqp:resource-limit-exceeded');","defineErrorCondition('amqp:not-allowed');","defineErrorCondition('amqp:invalid-field');","defineErrorCondition('amqp:not-implemented');","defineErrorCondition('amqp:resource-locked');","defineErrorCondition('amqp:precondition-failed');","defineErrorCondition('amqp:resource-deleted');","defineErrorCondition('amqp:illegal-state');","defineErrorCondition('amqp:frame-size-too-small');","","// connection","defineErrorCondition('amqp:connection:forced');","defineErrorCondition('amqp:connection:framing-error');","defineErrorCondition('amqp:connection:redirect');","","// session","defineErrorCondition('amqp:session:window-violation');","defineErrorCondition('amqp:session:errant-link');","defineErrorCondition('amqp:session:handle-in-use');","defineErrorCondition('amqp:session:unattached-handle');","","// link","defineErrorCondition('amqp:link:detach-forced');","defineErrorCondition('amqp:link:transfer-limit-exceeded');","defineErrorCondition('amqp:link:message-size-exceeded');","defineErrorCondition('amqp:link:redirect');","defineErrorCondition('amqp:link:stolen');",""],"l":{"2":1,"5":1,"6":25,"7":25,"8":25,"9":25,"10":25,"11":25,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"30":1,"31":1,"32":1,"35":1,"36":1,"37":1,"38":1,"41":1,"42":1,"43":1,"44":1,"45":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/utilities.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/utilities.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":1,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1,"50":1,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1,"60":1,"61":0,"62":0,"63":1,"64":1,"65":0,"66":0,"67":0,"68":0,"69":1,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":1,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":1,"89":0,"90":0,"91":0,"92":0,"93":1,"94":29,"95":42,"96":1,"97":1,"98":1,"99":256,"100":256,"101":1,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":1,"111":0,"112":0,"113":1,"114":0,"115":0,"116":0,"117":0,"118":1,"119":1,"120":1},"b":{"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[1,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0,0,0],"33":[0,0,0],"34":[0,0],"35":[0,0],"36":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":29,"16":42,"17":0,"18":0,"19":0,"20":0},"fnMap":{"1":{"name":"bufferEqualsLegacy","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":62}}},"2":{"name":"bufferEquals","line":29,"loc":{"start":{"line":29,"column":0},"end":{"line":29,"column":32}}},"3":{"name":"deepMerge","line":36,"loc":{"start":{"line":36,"column":0},"end":{"line":36,"column":21}}},"4":{"name":"(anonymous_4)","line":38,"loc":{"start":{"line":38,"column":15},"end":{"line":38,"column":39}}},"5":{"name":"assertArguments","line":87,"loc":{"start":{"line":87,"column":0},"end":{"line":87,"column":44}}},"6":{"name":"(anonymous_6)","line":90,"loc":{"start":{"line":90,"column":19},"end":{"line":90,"column":38}}},"7":{"name":"assertArgument","line":99,"loc":{"start":{"line":99,"column":0},"end":{"line":99,"column":38}}},"8":{"name":"range","line":105,"loc":{"start":{"line":105,"column":0},"end":{"line":105,"column":27}}},"9":{"name":"(anonymous_9)","line":111,"loc":{"start":{"line":111,"column":29},"end":{"line":111,"column":47}}},"10":{"name":"(anonymous_10)","line":114,"loc":{"start":{"line":114,"column":11},"end":{"line":114,"column":23}}},"11":{"name":"(anonymous_11)","line":118,"loc":{"start":{"line":118,"column":12},"end":{"line":118,"column":41}}},"12":{"name":"(anonymous_12)","line":129,"loc":{"start":{"line":129,"column":9},"end":{"line":129,"column":21}}},"13":{"name":"(anonymous_13)","line":138,"loc":{"start":{"line":138,"column":29},"end":{"line":138,"column":47}}},"14":{"name":"(anonymous_14)","line":160,"loc":{"start":{"line":160,"column":21},"end":{"line":160,"column":56}}},"15":{"name":"(anonymous_15)","line":173,"loc":{"start":{"line":173,"column":22},"end":{"line":173,"column":37}}},"16":{"name":"(anonymous_16)","line":177,"loc":{"start":{"line":177,"column":22},"end":{"line":177,"column":35}}},"17":{"name":"parseUuid","line":189,"loc":{"start":{"line":189,"column":0},"end":{"line":189,"column":35}}},"18":{"name":"(anonymous_18)","line":192,"loc":{"start":{"line":192,"column":42},"end":{"line":192,"column":56}}},"19":{"name":"unparseUuid","line":206,"loc":{"start":{"line":206,"column":0},"end":{"line":206,"column":34}}},"20":{"name":"uuidV4","line":218,"loc":{"start":{"line":218,"column":0},"end":{"line":218,"column":18}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":4,"column":31}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":36}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":36}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":32}},"5":{"start":{"line":11,"column":0},"end":{"line":11,"column":32}},"6":{"start":{"line":12,"column":0},"end":{"line":12,"column":32}},"7":{"start":{"line":13,"column":0},"end":{"line":13,"column":28}},"8":{"start":{"line":14,"column":0},"end":{"line":14,"column":26}},"9":{"start":{"line":15,"column":0},"end":{"line":15,"column":30}},"10":{"start":{"line":17,"column":0},"end":{"line":27,"column":1}},"11":{"start":{"line":18,"column":2},"end":{"line":20,"column":3}},"12":{"start":{"line":19,"column":4},"end":{"line":19,"column":48}},"13":{"start":{"line":19,"column":35},"end":{"line":19,"column":48}},"14":{"start":{"line":21,"column":2},"end":{"line":21,"column":113}},"15":{"start":{"line":22,"column":2},"end":{"line":22,"column":113}},"16":{"start":{"line":23,"column":2},"end":{"line":25,"column":3}},"17":{"start":{"line":24,"column":4},"end":{"line":24,"column":50}},"18":{"start":{"line":24,"column":37},"end":{"line":24,"column":50}},"19":{"start":{"line":26,"column":2},"end":{"line":26,"column":14}},"20":{"start":{"line":29,"column":0},"end":{"line":31,"column":1}},"21":{"start":{"line":30,"column":2},"end":{"line":30,"column":32}},"22":{"start":{"line":33,"column":0},"end":{"line":34,"column":76}},"23":{"start":{"line":36,"column":0},"end":{"line":76,"column":1}},"24":{"start":{"line":37,"column":2},"end":{"line":37,"column":51}},"25":{"start":{"line":38,"column":2},"end":{"line":65,"column":4}},"26":{"start":{"line":39,"column":4},"end":{"line":39,"column":15}},"27":{"start":{"line":40,"column":4},"end":{"line":53,"column":5}},"28":{"start":{"line":41,"column":6},"end":{"line":41,"column":15}},"29":{"start":{"line":42,"column":6},"end":{"line":42,"column":15}},"30":{"start":{"line":44,"column":6},"end":{"line":50,"column":7}},"31":{"start":{"line":45,"column":8},"end":{"line":49,"column":9}},"32":{"start":{"line":46,"column":10},"end":{"line":46,"column":42}},"33":{"start":{"line":48,"column":10},"end":{"line":48,"column":48}},"34":{"start":{"line":51,"column":6},"end":{"line":51,"column":20}},"35":{"start":{"line":52,"column":6},"end":{"line":52,"column":20}},"36":{"start":{"line":55,"column":4},"end":{"line":64,"column":5}},"37":{"start":{"line":56,"column":6},"end":{"line":63,"column":7}},"38":{"start":{"line":57,"column":8},"end":{"line":57,"column":24}},"39":{"start":{"line":58,"column":8},"end":{"line":62,"column":9}},"40":{"start":{"line":59,"column":10},"end":{"line":59,"column":29}},"41":{"start":{"line":61,"column":10},"end":{"line":61,"column":26}},"42":{"start":{"line":67,"column":2},"end":{"line":67,"column":20}},"43":{"start":{"line":68,"column":2},"end":{"line":74,"column":3}},"44":{"start":{"line":69,"column":4},"end":{"line":69,"column":27}},"45":{"start":{"line":70,"column":4},"end":{"line":72,"column":5}},"46":{"start":{"line":71,"column":6},"end":{"line":71,"column":36}},"47":{"start":{"line":73,"column":4},"end":{"line":73,"column":27}},"48":{"start":{"line":75,"column":2},"end":{"line":75,"column":16}},"49":{"start":{"line":78,"column":0},"end":{"line":78,"column":32}},"50":{"start":{"line":79,"column":0},"end":{"line":79,"column":31}},"51":{"start":{"line":87,"column":0},"end":{"line":95,"column":1}},"52":{"start":{"line":88,"column":2},"end":{"line":88,"column":24}},"53":{"start":{"line":88,"column":17},"end":{"line":88,"column":24}},"54":{"start":{"line":89,"column":2},"end":{"line":89,"column":70}},"55":{"start":{"line":89,"column":16},"end":{"line":89,"column":70}},"56":{"start":{"line":90,"column":2},"end":{"line":94,"column":5}},"57":{"start":{"line":91,"column":4},"end":{"line":93,"column":5}},"58":{"start":{"line":92,"column":6},"end":{"line":92,"column":58}},"59":{"start":{"line":97,"column":0},"end":{"line":97,"column":44}},"60":{"start":{"line":99,"column":0},"end":{"line":101,"column":1}},"61":{"start":{"line":100,"column":2},"end":{"line":100,"column":77}},"62":{"start":{"line":100,"column":25},"end":{"line":100,"column":77}},"63":{"start":{"line":103,"column":0},"end":{"line":103,"column":42}},"64":{"start":{"line":105,"column":0},"end":{"line":109,"column":1}},"65":{"start":{"line":106,"column":2},"end":{"line":106,"column":39}},"66":{"start":{"line":107,"column":2},"end":{"line":107,"column":31}},"67":{"start":{"line":107,"column":13},"end":{"line":107,"column":31}},"68":{"start":{"line":108,"column":2},"end":{"line":108,"column":16}},"69":{"start":{"line":111,"column":0},"end":{"line":130,"column":2}},"70":{"start":{"line":112,"column":2},"end":{"line":114,"column":58}},"71":{"start":{"line":113,"column":4},"end":{"line":114,"column":58}},"72":{"start":{"line":114,"column":25},"end":{"line":114,"column":54}},"73":{"start":{"line":117,"column":2},"end":{"line":129,"column":43}},"74":{"start":{"line":119,"column":6},"end":{"line":125,"column":7}},"75":{"start":{"line":120,"column":8},"end":{"line":120,"column":23}},"76":{"start":{"line":121,"column":13},"end":{"line":125,"column":7}},"77":{"start":{"line":122,"column":8},"end":{"line":122,"column":23}},"78":{"start":{"line":124,"column":8},"end":{"line":124,"column":57}},"79":{"start":{"line":127,"column":6},"end":{"line":127,"column":20}},"80":{"start":{"line":129,"column":23},"end":{"line":129,"column":39}},"81":{"start":{"line":138,"column":0},"end":{"line":151,"column":2}},"82":{"start":{"line":139,"column":2},"end":{"line":139,"column":18}},"83":{"start":{"line":140,"column":2},"end":{"line":145,"column":3}},"84":{"start":{"line":141,"column":4},"end":{"line":141,"column":35}},"85":{"start":{"line":142,"column":4},"end":{"line":142,"column":51}},"86":{"start":{"line":144,"column":4},"end":{"line":144,"column":39}},"87":{"start":{"line":147,"column":2},"end":{"line":150,"column":4}},"88":{"start":{"line":160,"column":0},"end":{"line":171,"column":2}},"89":{"start":{"line":161,"column":2},"end":{"line":162,"column":53}},"90":{"start":{"line":163,"column":2},"end":{"line":168,"column":3}},"91":{"start":{"line":167,"column":4},"end":{"line":167,"column":28}},"92":{"start":{"line":170,"column":2},"end":{"line":170,"column":14}},"93":{"start":{"line":173,"column":0},"end":{"line":179,"column":2}},"94":{"start":{"line":174,"column":2},"end":{"line":178,"column":24}},"95":{"start":{"line":177,"column":37},"end":{"line":177,"column":61}},"96":{"start":{"line":182,"column":0},"end":{"line":182,"column":21}},"97":{"start":{"line":183,"column":0},"end":{"line":183,"column":21}},"98":{"start":{"line":184,"column":0},"end":{"line":187,"column":1}},"99":{"start":{"line":185,"column":2},"end":{"line":185,"column":54}},"100":{"start":{"line":186,"column":2},"end":{"line":186,"column":34}},"101":{"start":{"line":189,"column":0},"end":{"line":204,"column":1}},"102":{"start":{"line":190,"column":2},"end":{"line":190,"column":39}},"103":{"start":{"line":191,"column":2},"end":{"line":191,"column":18}},"104":{"start":{"line":192,"column":2},"end":{"line":196,"column":5}},"105":{"start":{"line":193,"column":4},"end":{"line":195,"column":5}},"106":{"start":{"line":194,"column":6},"end":{"line":194,"column":39}},"107":{"start":{"line":199,"column":2},"end":{"line":201,"column":3}},"108":{"start":{"line":200,"column":4},"end":{"line":200,"column":22}},"109":{"start":{"line":203,"column":2},"end":{"line":203,"column":13}},"110":{"start":{"line":206,"column":0},"end":{"line":216,"column":1}},"111":{"start":{"line":207,"column":2},"end":{"line":207,"column":22}},"112":{"start":{"line":208,"column":2},"end":{"line":215,"column":56}},"113":{"start":{"line":218,"column":0},"end":{"line":223,"column":1}},"114":{"start":{"line":219,"column":2},"end":{"line":219,"column":36}},"115":{"start":{"line":220,"column":2},"end":{"line":220,"column":36}},"116":{"start":{"line":221,"column":2},"end":{"line":221,"column":36}},"117":{"start":{"line":222,"column":2},"end":{"line":222,"column":27}},"118":{"start":{"line":225,"column":0},"end":{"line":225,"column":32}},"119":{"start":{"line":226,"column":0},"end":{"line":226,"column":36}},"120":{"start":{"line":227,"column":0},"end":{"line":227,"column":26}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":2},"end":{"line":18,"column":2}},{"start":{"line":18,"column":2},"end":{"line":18,"column":2}}]},"2":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":6},"end":{"line":18,"column":27}},{"start":{"line":18,"column":31},"end":{"line":18,"column":52}},{"start":{"line":18,"column":56},"end":{"line":18,"column":74}}]},"3":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":4}},{"start":{"line":19,"column":4},"end":{"line":19,"column":4}}]},"4":{"line":21,"type":"cond-expr","locations":[{"start":{"line":21,"column":63},"end":{"line":21,"column":66}},{"start":{"line":21,"column":69},"end":{"line":21,"column":112}}]},"5":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":16},"end":{"line":21,"column":37}},{"start":{"line":21,"column":41},"end":{"line":21,"column":59}}]},"6":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":79},"end":{"line":21,"column":86}},{"start":{"line":21,"column":90},"end":{"line":21,"column":91}}]},"7":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":93},"end":{"line":21,"column":97}},{"start":{"line":21,"column":101},"end":{"line":21,"column":111}}]},"8":{"line":22,"type":"cond-expr","locations":[{"start":{"line":22,"column":63},"end":{"line":22,"column":66}},{"start":{"line":22,"column":69},"end":{"line":22,"column":112}}]},"9":{"line":22,"type":"binary-expr","locations":[{"start":{"line":22,"column":16},"end":{"line":22,"column":37}},{"start":{"line":22,"column":41},"end":{"line":22,"column":59}}]},"10":{"line":22,"type":"binary-expr","locations":[{"start":{"line":22,"column":79},"end":{"line":22,"column":86}},{"start":{"line":22,"column":90},"end":{"line":22,"column":91}}]},"11":{"line":22,"type":"binary-expr","locations":[{"start":{"line":22,"column":93},"end":{"line":22,"column":97}},{"start":{"line":22,"column":101},"end":{"line":22,"column":111}}]},"12":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":24,"column":4}},{"start":{"line":24,"column":4},"end":{"line":24,"column":4}}]},"13":{"line":34,"type":"cond-expr","locations":[{"start":{"line":34,"column":43},"end":{"line":34,"column":55}},{"start":{"line":34,"column":57},"end":{"line":34,"column":75}}]},"14":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":4},"end":{"line":40,"column":4}},{"start":{"line":40,"column":4},"end":{"line":40,"column":4}}]},"15":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":6},"end":{"line":44,"column":6}},{"start":{"line":44,"column":6},"end":{"line":44,"column":6}}]},"16":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]},"17":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":6},"end":{"line":56,"column":6}},{"start":{"line":56,"column":6},"end":{"line":56,"column":6}}]},"18":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":8},"end":{"line":58,"column":8}},{"start":{"line":58,"column":8},"end":{"line":58,"column":8}}]},"19":{"line":58,"type":"binary-expr","locations":[{"start":{"line":58,"column":12},"end":{"line":58,"column":23}},{"start":{"line":58,"column":27},"end":{"line":58,"column":49}}]},"20":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":4},"end":{"line":70,"column":4}},{"start":{"line":70,"column":4},"end":{"line":70,"column":4}}]},"21":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":2},"end":{"line":88,"column":2}},{"start":{"line":88,"column":2},"end":{"line":88,"column":2}}]},"22":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":2},"end":{"line":89,"column":2}},{"start":{"line":89,"column":2},"end":{"line":89,"column":2}}]},"23":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":91,"column":4}},{"start":{"line":91,"column":4},"end":{"line":91,"column":4}}]},"24":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":2},"end":{"line":100,"column":2}},{"start":{"line":100,"column":2},"end":{"line":100,"column":2}}]},"25":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":2},"end":{"line":112,"column":2}},{"start":{"line":112,"column":2},"end":{"line":112,"column":2}}]},"26":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":6},"end":{"line":119,"column":6}},{"start":{"line":119,"column":6},"end":{"line":119,"column":6}}]},"27":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":13},"end":{"line":121,"column":13}},{"start":{"line":121,"column":13},"end":{"line":121,"column":13}}]},"28":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":2},"end":{"line":140,"column":2}},{"start":{"line":140,"column":2},"end":{"line":140,"column":2}}]},"29":{"line":161,"type":"cond-expr","locations":[{"start":{"line":162,"column":4},"end":{"line":162,"column":24}},{"start":{"line":162,"column":27},"end":{"line":162,"column":51}}]},"30":{"line":161,"type":"binary-expr","locations":[{"start":{"line":161,"column":15},"end":{"line":161,"column":32}},{"start":{"line":161,"column":36},"end":{"line":161,"column":58}}]},"31":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":2},"end":{"line":163,"column":2}},{"start":{"line":163,"column":2},"end":{"line":163,"column":2}}]},"32":{"line":163,"type":"binary-expr","locations":[{"start":{"line":163,"column":6},"end":{"line":163,"column":46}},{"start":{"line":164,"column":6},"end":{"line":164,"column":53}},{"start":{"line":165,"column":6},"end":{"line":165,"column":61}},{"start":{"line":166,"column":6},"end":{"line":166,"column":52}}]},"33":{"line":190,"type":"binary-expr","locations":[{"start":{"line":190,"column":11},"end":{"line":190,"column":14}},{"start":{"line":190,"column":18},"end":{"line":190,"column":24}},{"start":{"line":190,"column":29},"end":{"line":190,"column":30}}]},"34":{"line":191,"type":"binary-expr","locations":[{"start":{"line":191,"column":8},"end":{"line":191,"column":11}},{"start":{"line":191,"column":15},"end":{"line":191,"column":17}}]},"35":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":4},"end":{"line":193,"column":4}},{"start":{"line":193,"column":4},"end":{"line":193,"column":4}}]},"36":{"line":207,"type":"binary-expr","locations":[{"start":{"line":207,"column":10},"end":{"line":207,"column":16}},{"start":{"line":207,"column":20},"end":{"line":207,"column":21}}]}},"code":["'use strict';","var _ = require('lodash'),","    //errors = require('./errors'),","    crypto = require('crypto');","","var utilities = module.exports = {};","","// lodash aliases","utilities.defaults = _.defaultsDeep;","utilities.includes = _.includes;","utilities.isObject = _.isObject;","utilities.isNumber = _.isNumber;","utilities.values = _.values;","utilities.merge = _.merge;","utilities.clone = _.cloneDeep;","","function bufferEqualsLegacy(lhs, rhs, offset1, offset2, size) {","  if (offset1 === undefined && offset2 === undefined && size === undefined) {","    if (lhs.length !== rhs.length) return false;","  }","  var slice1 = (offset1 === undefined && size === undefined) ? lhs : lhs.slice(offset1 || 0, size || lhs.length);","  var slice2 = (offset2 === undefined && size === undefined) ? rhs : rhs.slice(offset2 || 0, size || rhs.length);","  for (var idx = 0; idx < slice1.length; ++idx) {","    if (slice1[idx] !== slice2[idx]) return false;","  }","  return true;","}","","function bufferEquals(lhs, rhs) {","  return lhs.compare(rhs) === 0;","}","","utilities.bufferEquals =","  (typeof Buffer.compare === 'function') ? bufferEquals: bufferEqualsLegacy;","","function deepMerge() {","  var args = Array.prototype.slice.call(arguments);","  var helper = function(tgt, src, key) {","    var s2, t2;","    if (key === undefined) {","      t2 = tgt;","      s2 = src;","    } else {","      if (!tgt[key]) {","        if (src[key] instanceof Buffer) {","          tgt[key] = new Buffer(src[key]);","        } else {","          tgt[key] = new src[key].constructor();","        }","      }","      t2 = tgt[key];","      s2 = src[key];","    }","","    for (var k2 in s2) {","      if (s2.hasOwnProperty(k2)) {","        var v2 = s2[k2];","        if (v2 !== null && typeof v2 === 'object') {","          helper(t2, s2, k2);","        } else {","          t2[k2] = s2[k2];","        }","      }","    }","  };","","  var merged = null;","  for (var idx = args.length - 1; idx >= 0; --idx) {","    var curObj = args[idx];","    if (merged === null) {","      merged = curObj.constructor();","    }","    helper(merged, curObj);","  }","  return merged;","}","","utilities.deepMerge = deepMerge;","utilities.deepCopy = deepMerge;","","/**"," * Convenience method to assert that a given options object contains the required arguments."," *"," * @param options"," * @param argnames"," */","function assertArguments(options, argnames) {","  if (!argnames) return;","  if (!options) throw new TypeError('missing arguments: ' + argnames);","  argnames.forEach(function (argname) {","    if (!options.hasOwnProperty(argname)) {","      throw new TypeError('missing argument: ' + argname);","    }","  });","}","","utilities.assertArguments = assertArguments;","","function assertArgument(arg, argname) {","  if (arg === undefined) throw new TypeError('missing argument: ' + argname);","}","","utilities.assertArgument = assertArgument;","","function range(start, end) {","  var result = [], c = end - start + 1;","  while(c--) result[c] = end--;","  return result;","}","","utilities.generateTimeouts = function(options) {","  if (options.strategy === 'exponential')","    return range(0, options.retries - 1)","      .map(function(i) { return Math.pow(2, i) * 1000; });","","  // default to fibonacci","  return range(0, options.retries - 1)","    .reduce(function(result, value, idx) {","      if (idx === 0) {","        result.push(0);","      } else if (idx === 1) {","        result.push(1);","      } else {","        result.push((result[idx - 2] + result[idx - 1]));","      }","","      return result;","    }, [])","    .map(function(i) { return i * 1000; });","};","","/**"," * Calculates the start and end for a disposition frame"," *"," * @param message    either a single message or an array of them"," * @return {Object}"," */","utilities.dispositionRange = function(message) {","  var first, last;","  if (_.isArray(message)) {","    first = message[0]._deliveryId;","    last = message[message.length - 1]._deliveryId;","  } else {","    first = last = message._deliveryId;","  }","","  return {","    first: first,","    last: last","  };","};","","/**"," * Generates a link name for a given address"," *"," * @param address             link address"," * @param [policyOverrides]   link creation policy overrides"," * @return {String}"," */","utilities.linkName = function(address, policyOverrides) {","  var name = ((!!policyOverrides && !!policyOverrides.name) ?","    policyOverrides.name : address + '_' + uuidV4());","  if (policyOverrides.hasOwnProperty('attach') &&","      policyOverrides.attach.hasOwnProperty('source') &&","      policyOverrides.attach.source.hasOwnProperty('dynamic') &&","      policyOverrides.attach.source.dynamic === true) {","    name = 'dynamic' + name;","  }","","  return name;","};","","utilities.camelCase = function(name) {","  return name.toLowerCase()","    .replace(/[-_:]+/g, ' ')","    .replace(/[^\\w\\s]/g, '')","    .replace(/ (.)/g, function($1) { return $1.toUpperCase(); })","    .replace(/ /g, '' );","};","","// Maps for number <-> hex string conversion","var BYTE_TO_HEX = [];","var HEX_TO_BYTE = {};","for (var i = 0; i < 256; i++) {","  BYTE_TO_HEX[i] = (i + 0x100).toString(16).substr(1);","  HEX_TO_BYTE[BYTE_TO_HEX[i]] = i;","}","","function parseUuid(s, buf, offset) {","  var i = (buf && offset) || 0, ii = 0;","  buf = buf || [];","  s.toLowerCase().replace(/[0-9a-f]{2}/g, function(oct) {","    if (ii < 16) { // Don't overflow!","      buf[i + ii++] = HEX_TO_BYTE[oct];","    }","  });","","  // Zero out remaining bytes if string was short","  while (ii < 16) {","    buf[i + ii++] = 0;","  }","","  return buf;","}","","function unparseUuid(buf, offset) {","  var i = offset || 0;","  return  BYTE_TO_HEX[buf[i++]] + BYTE_TO_HEX[buf[i++]] +","          BYTE_TO_HEX[buf[i++]] + BYTE_TO_HEX[buf[i++]] + '-' +","          BYTE_TO_HEX[buf[i++]] + BYTE_TO_HEX[buf[i++]] + '-' +","          BYTE_TO_HEX[buf[i++]] + BYTE_TO_HEX[buf[i++]] + '-' +","          BYTE_TO_HEX[buf[i++]] + BYTE_TO_HEX[buf[i++]] + '-' +","          BYTE_TO_HEX[buf[i++]] + BYTE_TO_HEX[buf[i++]] +","          BYTE_TO_HEX[buf[i++]] + BYTE_TO_HEX[buf[i++]] +","          BYTE_TO_HEX[buf[i++]] + BYTE_TO_HEX[buf[i++]];","}","","function uuidV4() {","  var data = crypto.randomBytes(16);","  data[6] = (data[6] & 0x0f) | 0x40;","  data[8] = (data[8] & 0x3f) | 0x80;","  return unparseUuid(data);","}","","utilities.parseUuid = parseUuid;","utilities.unparseUuid = unparseUuid;","utilities.uuidV4 = uuidV4;",""],"l":{"2":1,"6":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"17":1,"18":0,"19":0,"21":0,"22":0,"23":0,"24":0,"26":0,"29":1,"30":0,"33":1,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"44":0,"45":0,"46":0,"48":0,"51":0,"52":0,"55":0,"56":0,"57":0,"58":0,"59":0,"61":0,"67":0,"68":0,"69":0,"70":0,"71":0,"73":0,"75":0,"78":1,"79":1,"87":1,"88":0,"89":0,"90":0,"91":0,"92":0,"97":1,"99":1,"100":0,"103":1,"105":1,"106":0,"107":0,"108":0,"111":1,"112":0,"113":0,"114":0,"117":0,"119":0,"120":0,"121":0,"122":0,"124":0,"127":0,"129":0,"138":1,"139":0,"140":0,"141":0,"142":0,"144":0,"147":0,"160":1,"161":0,"163":0,"167":0,"170":0,"173":1,"174":29,"177":42,"182":1,"183":1,"184":1,"185":256,"186":256,"189":1,"190":0,"191":0,"192":0,"193":0,"194":0,"199":0,"200":0,"203":0,"206":1,"207":0,"208":0,"218":1,"219":0,"220":0,"221":0,"222":0,"225":1,"226":1,"227":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types/composite_type.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types/composite_type.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":1,"43":100,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1,"50":22,"51":8,"52":8,"53":22,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":22,"71":22,"72":22,"73":22,"74":100,"75":100,"76":22,"77":22,"78":22,"79":0,"80":22,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":22,"89":22,"90":22,"91":1},"b":{"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[8,14],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0]},"f":{"1":0,"2":0,"3":100,"4":0,"5":0,"6":22,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"convertKnownType","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":37}}},"2":{"name":"wrapField","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":33}}},"3":{"name":"compositeAccessors","line":58,"loc":{"start":{"line":58,"column":0},"end":{"line":58,"column":42}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":9},"end":{"line":61,"column":20}}},"5":{"name":"(anonymous_5)","line":66,"loc":{"start":{"line":66,"column":9},"end":{"line":66,"column":25}}},"6":{"name":"defineComposite","line":70,"loc":{"start":{"line":70,"column":0},"end":{"line":70,"column":43}}},"7":{"name":"(anonymous_7)","line":76,"loc":{"start":{"line":76,"column":18},"end":{"line":76,"column":35}}},"8":{"name":"(anonymous_8)","line":116,"loc":{"start":{"line":116,"column":40},"end":{"line":116,"column":51}}},"9":{"name":"(anonymous_9)","line":120,"loc":{"start":{"line":120,"column":32},"end":{"line":120,"column":48}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":4,"column":42}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":20}},"3":{"start":{"line":7,"column":0},"end":{"line":16,"column":1}},"4":{"start":{"line":8,"column":2},"end":{"line":11,"column":3}},"5":{"start":{"line":10,"column":4},"end":{"line":10,"column":21}},"6":{"start":{"line":13,"column":2},"end":{"line":14,"column":59}},"7":{"start":{"line":14,"column":4},"end":{"line":14,"column":59}},"8":{"start":{"line":15,"column":2},"end":{"line":15,"column":19}},"9":{"start":{"line":18,"column":0},"end":{"line":56,"column":1}},"10":{"start":{"line":19,"column":2},"end":{"line":19,"column":48}},"11":{"start":{"line":19,"column":35},"end":{"line":19,"column":48}},"12":{"start":{"line":20,"column":2},"end":{"line":24,"column":3}},"13":{"start":{"line":21,"column":4},"end":{"line":21,"column":83}},"14":{"start":{"line":21,"column":25},"end":{"line":21,"column":83}},"15":{"start":{"line":22,"column":4},"end":{"line":22,"column":80}},"16":{"start":{"line":22,"column":41},"end":{"line":22,"column":80}},"17":{"start":{"line":23,"column":4},"end":{"line":23,"column":16}},"18":{"start":{"line":27,"column":2},"end":{"line":27,"column":51}},"19":{"start":{"line":27,"column":35},"end":{"line":27,"column":51}},"20":{"start":{"line":29,"column":2},"end":{"line":34,"column":3}},"21":{"start":{"line":30,"column":4},"end":{"line":30,"column":54}},"22":{"start":{"line":30,"column":41},"end":{"line":30,"column":54}},"23":{"start":{"line":31,"column":4},"end":{"line":32,"column":63}},"24":{"start":{"line":32,"column":6},"end":{"line":32,"column":63}},"25":{"start":{"line":33,"column":4},"end":{"line":33,"column":37}},"26":{"start":{"line":36,"column":2},"end":{"line":36,"column":39}},"27":{"start":{"line":36,"column":26},"end":{"line":36,"column":39}},"28":{"start":{"line":38,"column":2},"end":{"line":50,"column":3}},"29":{"start":{"line":39,"column":4},"end":{"line":41,"column":5}},"30":{"start":{"line":40,"column":6},"end":{"line":40,"column":109}},"31":{"start":{"line":43,"column":4},"end":{"line":49,"column":5}},"32":{"start":{"line":43,"column":28},"end":{"line":43,"column":68}},"33":{"start":{"line":44,"column":9},"end":{"line":49,"column":5}},"34":{"start":{"line":44,"column":33},"end":{"line":44,"column":77}},"35":{"start":{"line":46,"column":6},"end":{"line":46,"column":43}},"36":{"start":{"line":47,"column":6},"end":{"line":47,"column":77}},"37":{"start":{"line":47,"column":37},"end":{"line":47,"column":77}},"38":{"start":{"line":48,"column":6},"end":{"line":48,"column":44}},"39":{"start":{"line":53,"column":2},"end":{"line":53,"column":89}},"40":{"start":{"line":53,"column":76},"end":{"line":53,"column":89}},"41":{"start":{"line":55,"column":2},"end":{"line":55,"column":43}},"42":{"start":{"line":58,"column":0},"end":{"line":68,"column":1}},"43":{"start":{"line":59,"column":2},"end":{"line":67,"column":4}},"44":{"start":{"line":62,"column":6},"end":{"line":62,"column":106}},"45":{"start":{"line":63,"column":6},"end":{"line":63,"column":87}},"46":{"start":{"line":63,"column":66},"end":{"line":63,"column":87}},"47":{"start":{"line":64,"column":6},"end":{"line":64,"column":19}},"48":{"start":{"line":66,"column":27},"end":{"line":66,"column":71}},"49":{"start":{"line":70,"column":0},"end":{"line":135,"column":1}},"50":{"start":{"line":71,"column":2},"end":{"line":74,"column":3}},"51":{"start":{"line":72,"column":4},"end":{"line":72,"column":22}},"52":{"start":{"line":73,"column":4},"end":{"line":73,"column":18}},"53":{"start":{"line":76,"column":2},"end":{"line":100,"column":4}},"54":{"start":{"line":77,"column":4},"end":{"line":77,"column":26}},"55":{"start":{"line":78,"column":4},"end":{"line":78,"column":48}},"56":{"start":{"line":80,"column":4},"end":{"line":80,"column":20}},"57":{"start":{"line":81,"column":4},"end":{"line":81,"column":49}},"58":{"start":{"line":82,"column":4},"end":{"line":99,"column":5}},"59":{"start":{"line":83,"column":6},"end":{"line":83,"column":74}},"60":{"start":{"line":84,"column":6},"end":{"line":87,"column":7}},"61":{"start":{"line":85,"column":8},"end":{"line":85,"column":36}},"62":{"start":{"line":86,"column":8},"end":{"line":86,"column":37}},"63":{"start":{"line":89,"column":6},"end":{"line":98,"column":7}},"64":{"start":{"line":90,"column":8},"end":{"line":90,"column":36}},"65":{"start":{"line":91,"column":8},"end":{"line":97,"column":9}},"66":{"start":{"line":92,"column":10},"end":{"line":92,"column":48}},"67":{"start":{"line":93,"column":15},"end":{"line":97,"column":9}},"68":{"start":{"line":94,"column":10},"end":{"line":94,"column":61}},"69":{"start":{"line":96,"column":10},"end":{"line":96,"column":34}},"70":{"start":{"line":102,"column":2},"end":{"line":102,"column":39}},"71":{"start":{"line":103,"column":2},"end":{"line":106,"column":4}},"72":{"start":{"line":108,"column":2},"end":{"line":108,"column":22}},"73":{"start":{"line":109,"column":2},"end":{"line":112,"column":3}},"74":{"start":{"line":110,"column":4},"end":{"line":110,"column":37}},"75":{"start":{"line":111,"column":4},"end":{"line":111,"column":58}},"76":{"start":{"line":114,"column":2},"end":{"line":114,"column":26}},"77":{"start":{"line":115,"column":2},"end":{"line":115,"column":66}},"78":{"start":{"line":116,"column":2},"end":{"line":118,"column":4}},"79":{"start":{"line":117,"column":4},"end":{"line":117,"column":92}},"80":{"start":{"line":120,"column":2},"end":{"line":130,"column":4}},"81":{"start":{"line":121,"column":4},"end":{"line":121,"column":69}},"82":{"start":{"line":122,"column":4},"end":{"line":122,"column":53}},"83":{"start":{"line":123,"column":4},"end":{"line":126,"column":5}},"84":{"start":{"line":124,"column":6},"end":{"line":124,"column":39}},"85":{"start":{"line":125,"column":6},"end":{"line":125,"column":69}},"86":{"start":{"line":128,"column":4},"end":{"line":128,"column":44}},"87":{"start":{"line":129,"column":4},"end":{"line":129,"column":18}},"88":{"start":{"line":132,"column":2},"end":{"line":132,"column":52}},"89":{"start":{"line":133,"column":2},"end":{"line":133,"column":52}},"90":{"start":{"line":134,"column":2},"end":{"line":134,"column":19}},"91":{"start":{"line":137,"column":0},"end":{"line":140,"column":2}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"2":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":6},"end":{"line":8,"column":29}},{"start":{"line":8,"column":33},"end":{"line":8,"column":51}},{"start":{"line":9,"column":7},"end":{"line":9,"column":44}}]},"3":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":2},"end":{"line":13,"column":2}},{"start":{"line":13,"column":2},"end":{"line":13,"column":2}}]},"4":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":2},"end":{"line":19,"column":2}},{"start":{"line":19,"column":2},"end":{"line":19,"column":2}}]},"5":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":2},"end":{"line":20,"column":2}},{"start":{"line":20,"column":2},"end":{"line":20,"column":2}}]},"6":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":6},"end":{"line":20,"column":25}},{"start":{"line":20,"column":29},"end":{"line":20,"column":43}}]},"7":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":4}},{"start":{"line":21,"column":4},"end":{"line":21,"column":4}}]},"8":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":22,"column":4}},{"start":{"line":22,"column":4},"end":{"line":22,"column":4}}]},"9":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":27,"column":2}},{"start":{"line":27,"column":2},"end":{"line":27,"column":2}}]},"10":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":2},"end":{"line":29,"column":2}},{"start":{"line":29,"column":2},"end":{"line":29,"column":2}}]},"11":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":4}},{"start":{"line":30,"column":4},"end":{"line":30,"column":4}}]},"12":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":31,"column":4}},{"start":{"line":31,"column":4},"end":{"line":31,"column":4}}]},"13":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":8},"end":{"line":31,"column":36}},{"start":{"line":31,"column":40},"end":{"line":31,"column":58}}]},"14":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":2},"end":{"line":36,"column":2}},{"start":{"line":36,"column":2},"end":{"line":36,"column":2}}]},"15":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":2},"end":{"line":38,"column":2}},{"start":{"line":38,"column":2},"end":{"line":38,"column":2}}]},"16":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":4},"end":{"line":39,"column":4}},{"start":{"line":39,"column":4},"end":{"line":39,"column":4}}]},"17":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":4},"end":{"line":43,"column":4}},{"start":{"line":43,"column":4},"end":{"line":43,"column":4}}]},"18":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":9},"end":{"line":44,"column":9}},{"start":{"line":44,"column":9},"end":{"line":44,"column":9}}]},"19":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":2},"end":{"line":53,"column":2}},{"start":{"line":53,"column":2},"end":{"line":53,"column":2}}]},"20":{"line":53,"type":"binary-expr","locations":[{"start":{"line":53,"column":6},"end":{"line":53,"column":27}},{"start":{"line":53,"column":31},"end":{"line":53,"column":74}}]},"21":{"line":62,"type":"cond-expr","locations":[{"start":{"line":62,"column":62},"end":{"line":62,"column":85}},{"start":{"line":62,"column":88},"end":{"line":62,"column":105}}]},"22":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":6},"end":{"line":63,"column":6}},{"start":{"line":63,"column":6},"end":{"line":63,"column":6}}]},"23":{"line":63,"type":"binary-expr","locations":[{"start":{"line":63,"column":10},"end":{"line":63,"column":29}},{"start":{"line":63,"column":33},"end":{"line":63,"column":64}}]},"24":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":2},"end":{"line":71,"column":2}},{"start":{"line":71,"column":2},"end":{"line":71,"column":2}}]},"25":{"line":77,"type":"binary-expr","locations":[{"start":{"line":77,"column":13},"end":{"line":77,"column":19}},{"start":{"line":77,"column":23},"end":{"line":77,"column":25}}]},"26":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":4},"end":{"line":82,"column":4}},{"start":{"line":82,"column":4},"end":{"line":82,"column":4}}]},"27":{"line":83,"type":"cond-expr","locations":[{"start":{"line":83,"column":34},"end":{"line":83,"column":68}},{"start":{"line":83,"column":71},"end":{"line":83,"column":73}}]},"28":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":8},"end":{"line":91,"column":8}},{"start":{"line":91,"column":8},"end":{"line":91,"column":8}}]},"29":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":12},"end":{"line":91,"column":18}},{"start":{"line":91,"column":22},"end":{"line":91,"column":55}}]},"30":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":15},"end":{"line":93,"column":15}},{"start":{"line":93,"column":15},"end":{"line":93,"column":15}}]}},"code":["'use strict';","var util = require('util'),","    DescribedType = require('./described_type'),","    ForcedType = require('./forced_type');","","var knownTypes = {};","function convertKnownType(described) {","  if (described === undefined || described === null ||","      (!(described instanceof DescribedType))) {","    return described;","  }","","  if (knownTypes.hasOwnProperty(described.descriptor))","    return new knownTypes[described.descriptor](described);","  return undefined;","}","","function wrapField(field, value) {","  if (value instanceof ForcedType) return value;","  if (value === undefined || value === null) {","    if (field.mandatory) throw new Error('missing mandatory field: ' + field.name);","    if (field.hasOwnProperty('default')) return wrapField(field, field.default);","    return null;","  }","","  // e.g. Connection containerId()","  if (typeof value === 'function') value = value();","","  if (field.hasOwnProperty('requires')) {","    if (value instanceof field.requires) return value;","    if (field.hasOwnProperty('type') && field.type !== '*')","      return new ForcedType(field.type, field.requires(value));","    return new field.requires(value);","  }","","  if (field.type === '*') return value;","","  if (Array.isArray(value)) {","    if (field.multiple === false) {","      throw Error('field ' + field.name + ' does not support multiple values, got ' + JSON.stringify(value));","    }","","    if (value.length === 0) return new ForcedType(field.type, null);","    else if (value.length === 1) return new ForcedType(field.type, value[0]);","    else {","      var values = [], _len = value.length;","      for (var i = 0; i < _len; ++i) values.push(wrapField(field, value[i]));","      return new ForcedType('list', values);","    }","  }","","  // @todo: this is a cheesy way to determine if its a composite type already","  if (value.toDescribedType && typeof value.toDescribedType === 'function') return value;","","  return new ForcedType(field.type, value);","}","","function compositeAccessors(index, field) {","  return {","    enumerable: true, configurable: false,","    get: function() {","      var value = (this.value[index] instanceof ForcedType) ? this.value[index].value : this.value[index];","      if (value === undefined && field.hasOwnProperty('default')) return field.default;","      return value;","    },","    set: function(value) { this.value[index] = wrapField(field, value); }","  };","}","","function defineComposite(Base, definition) {","  if (definition === undefined) {","    definition = Base;","    Base = Object;","  }","","  var Composite = function(fields) {","    fields = fields || {};","    Composite.super_.call(this, fields.channel);\t // @todo: this is AMQPFrame specific, get it out of here","","    this.value = [];","    var _len = Composite.fields.length, i, field;","    if (fields instanceof DescribedType) {","      var values = fields.value ? fields.value.map(convertKnownType) : [];","      for (i = 0; i < _len; ++i) {","        field = Composite.fields[i];","        this[field.name] = values[i];","      }","    } else {","      for (i = 0; i < _len; ++i) {","        field = Composite.fields[i];","        if (fields && fields.hasOwnProperty(field.name)) {","          this[field.name] = fields[field.name];","        } else if (field.hasOwnProperty('default')) {","          this[field.name] = wrapField(field, field.default);","        } else {","          this[field.name] = null;","        }","      }","    }","  };","","  Composite.fields = definition.fields;","  Composite.descriptor = {","    code: definition.code,","    name: 'amqp:' + definition.name + ':list'","  };","","  var properties = {};","  for (var i = 0; i < definition.fields.length; i++) {","    var field = definition.fields[i];","    properties[field.name] = compositeAccessors(i, field);","  }","","  Composite.super_ = Base;","  Composite.prototype = Object.create(Base.prototype, properties);","  Composite.prototype.toDescribedType = function() {","    return new DescribedType(Composite.descriptor.code, new ForcedType('list', this.value));","  };","","  Composite.prototype.inspect = function(depth) {","    var result = '@' + definition.name + '(' + definition.code + ')';","    var _len = definition.fields.length, values = [];","    for (var i = 0; i < _len; ++i) {","      var field = definition.fields[i];","      values.push(field.name + '=' + util.inspect(this[field.name]));","    }","","    result += ' [' + values.join(' ') + ']';","    return result;","  };","","  knownTypes[Composite.descriptor.name] = Composite;","  knownTypes[Composite.descriptor.code] = Composite;","  return Composite;","}","","module.exports = {","  defineComposite: defineComposite,","  wrapField: wrapField","};",""],"l":{"2":1,"6":1,"7":1,"8":0,"10":0,"13":0,"14":0,"15":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"27":0,"29":0,"30":0,"31":0,"32":0,"33":0,"36":0,"38":0,"39":0,"40":0,"43":0,"44":0,"46":0,"47":0,"48":0,"53":0,"55":0,"58":1,"59":100,"62":0,"63":0,"64":0,"66":0,"70":1,"71":22,"72":8,"73":8,"76":22,"77":0,"78":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"96":0,"102":22,"103":22,"108":22,"109":22,"110":100,"111":100,"114":22,"115":22,"116":22,"117":0,"120":22,"121":0,"122":0,"123":0,"124":0,"125":0,"128":0,"129":0,"132":22,"133":22,"134":22,"137":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types/described_type.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types/described_type.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":1},"b":{"1":[0,0],"2":[0,0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"DescribedType","line":31,"loc":{"start":{"line":31,"column":0},"end":{"line":31,"column":48}}},"2":{"name":"(anonymous_2)","line":40,"loc":{"start":{"line":40,"column":35},"end":{"line":40,"column":46}}}},"statementMap":{"1":{"start":{"line":31,"column":0},"end":{"line":38,"column":1}},"2":{"start":{"line":32,"column":2},"end":{"line":35,"column":39}},"3":{"start":{"line":33,"column":4},"end":{"line":33,"column":65}},"4":{"start":{"line":35,"column":4},"end":{"line":35,"column":39}},"5":{"start":{"line":37,"column":2},"end":{"line":37,"column":21}},"6":{"start":{"line":40,"column":0},"end":{"line":42,"column":2}},"7":{"start":{"line":41,"column":2},"end":{"line":41,"column":20}},"8":{"start":{"line":44,"column":0},"end":{"line":44,"column":31}}},"branchMap":{"1":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":2},"end":{"line":32,"column":2}},{"start":{"line":32,"column":2},"end":{"line":32,"column":2}}]},"2":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":6},"end":{"line":32,"column":22}},{"start":{"line":32,"column":26},"end":{"line":32,"column":52}},{"start":{"line":32,"column":56},"end":{"line":32,"column":93}}]}},"code":["'use strict';","","/**"," * Described type, as described in the AMQP 1.0 spec as follows:"," *","<pre>","             constructor                       untyped bytes","                  |                                 |","      +-----------+-----------+   +-----------------+-----------------+","      |                       |   |                                   |"," ...  0x00 0xA1 0x03 \"URL\" 0xA1   0x1E \"http://example.org/hello-world\"  ...","           |             |  |     |                                   |","           +------+------+  |     |                                   |","                  |         |     |                                   |","             descriptor     |     +------------------+----------------+","                            |                        |","                            |         string value encoded according","                            |             to the str8-utf8 encoding","                            |","                 primitive format code","               for the str8-utf8 encoding","","</pre>"," *"," * (Note: this example shows a string-typed descriptor, which should be considered reserved)"," *"," * @constructor"," * @param descriptorOrType  Descriptor for the type (can be any valid AMQP type, including another described type), or the type itself."," * @param value             Value of the described type (can also be any valid AMQP type, including another described type)."," */","function DescribedType(descriptorOrType, value) {","  if (descriptorOrType && descriptorOrType.prototype && descriptorOrType.prototype.Descriptor)","    this.descriptor = descriptorOrType.prototype.Descriptor.code;","  else","    this.descriptor = descriptorOrType;","","  this.value = value;","}","","DescribedType.prototype.getValue = function() {","  return this.value;","};","","module.exports = DescribedType;",""],"l":{"31":1,"32":0,"33":0,"35":0,"37":0,"40":1,"41":0,"44":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types/forced_type.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types/forced_type.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":1,"8":0,"9":1},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"ForcedType","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":37}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":31},"end":{"line":16,"column":47}}},"3":{"name":"(anonymous_3)","line":20,"loc":{"start":{"line":20,"column":31},"end":{"line":20,"column":42}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"2":{"start":{"line":11,"column":0},"end":{"line":14,"column":1}},"3":{"start":{"line":12,"column":2},"end":{"line":12,"column":27}},"4":{"start":{"line":13,"column":2},"end":{"line":13,"column":21}},"5":{"start":{"line":16,"column":0},"end":{"line":18,"column":2}},"6":{"start":{"line":17,"column":2},"end":{"line":17,"column":34}},"7":{"start":{"line":20,"column":0},"end":{"line":22,"column":2}},"8":{"start":{"line":21,"column":2},"end":{"line":21,"column":20}},"9":{"start":{"line":24,"column":0},"end":{"line":24,"column":28}}},"branchMap":{},"code":["'use strict';","var util = require('util');","","/**"," * ForcedType coerces the encoder to encode to the given type, regardless of what it might think."," *"," * @param typeName          Symbolic name or specific code (e.g. 'long', or 0xA0)"," * @param value             Value to encode, should be compatible or bad things will occur"," * @constructor"," */","function ForcedType(typeName, value) {","  this.typeName = typeName;","  this.value = value;","}","","ForcedType.prototype.inspect = function(depth) {","  return util.inspect(this.value);","};","","ForcedType.prototype.valueOf = function() {","  return this.value;","};","","module.exports = ForcedType;",""],"l":{"2":1,"11":1,"12":0,"13":0,"16":1,"17":0,"20":1,"21":0,"24":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/amqp_client.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/amqp_client.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":1,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":1,"94":0,"95":0,"96":1,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":1,"119":0,"120":0,"121":0,"122":1,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":1,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":1,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":1,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":1,"163":0,"164":1,"165":0,"166":0,"167":0,"168":0,"169":0,"170":1,"171":0,"172":0,"173":0,"174":0,"175":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0},"fnMap":{"1":{"name":"AMQPClient","line":61,"loc":{"start":{"line":61,"column":0},"end":{"line":61,"column":45}}},"2":{"name":"(anonymous_2)","line":113,"loc":{"start":{"line":113,"column":31},"end":{"line":113,"column":62}}},"3":{"name":"(anonymous_3)","line":117,"loc":{"start":{"line":117,"column":21},"end":{"line":117,"column":47}}},"4":{"name":"(anonymous_4)","line":157,"loc":{"start":{"line":157,"column":46},"end":{"line":157,"column":58}}},"5":{"name":"(anonymous_5)","line":167,"loc":{"start":{"line":167,"column":41},"end":{"line":167,"column":53}}},"6":{"name":"(anonymous_6)","line":176,"loc":{"start":{"line":176,"column":49},"end":{"line":176,"column":60}}},"7":{"name":"(anonymous_7)","line":188,"loc":{"start":{"line":188,"column":17},"end":{"line":188,"column":28}}},"8":{"name":"(anonymous_8)","line":189,"loc":{"start":{"line":189,"column":48},"end":{"line":189,"column":59}}},"9":{"name":"(anonymous_9)","line":207,"loc":{"start":{"line":207,"column":36},"end":{"line":207,"column":71}}},"10":{"name":"(anonymous_10)","line":233,"loc":{"start":{"line":233,"column":21},"end":{"line":233,"column":47}}},"11":{"name":"(anonymous_11)","line":234,"loc":{"start":{"line":234,"column":17},"end":{"line":234,"column":28}}},"12":{"name":"(anonymous_12)","line":235,"loc":{"start":{"line":235,"column":26},"end":{"line":235,"column":48}}},"13":{"name":"(anonymous_13)","line":257,"loc":{"start":{"line":257,"column":42},"end":{"line":257,"column":77}}},"14":{"name":"(anonymous_14)","line":259,"loc":{"start":{"line":259,"column":10},"end":{"line":259,"column":25}}},"15":{"name":"(anonymous_15)","line":274,"loc":{"start":{"line":274,"column":38},"end":{"line":274,"column":73}}},"16":{"name":"(anonymous_16)","line":308,"loc":{"start":{"line":308,"column":21},"end":{"line":308,"column":47}}},"17":{"name":"(anonymous_17)","line":309,"loc":{"start":{"line":309,"column":17},"end":{"line":309,"column":28}}},"18":{"name":"(anonymous_18)","line":310,"loc":{"start":{"line":310,"column":26},"end":{"line":310,"column":48}}},"19":{"name":"(anonymous_19)","line":332,"loc":{"start":{"line":332,"column":44},"end":{"line":332,"column":79}}},"20":{"name":"(anonymous_20)","line":336,"loc":{"start":{"line":336,"column":12},"end":{"line":336,"column":23}}},"21":{"name":"(anonymous_21)","line":340,"loc":{"start":{"line":340,"column":10},"end":{"line":340,"column":25}}},"22":{"name":"(anonymous_22)","line":350,"loc":{"start":{"line":350,"column":34},"end":{"line":350,"column":45}}},"23":{"name":"(anonymous_23)","line":352,"loc":{"start":{"line":352,"column":21},"end":{"line":352,"column":47}}},"24":{"name":"(anonymous_24)","line":358,"loc":{"start":{"line":358,"column":47},"end":{"line":358,"column":58}}},"25":{"name":"(anonymous_25)","line":372,"loc":{"start":{"line":372,"column":45},"end":{"line":372,"column":76}}},"26":{"name":"(anonymous_26)","line":383,"loc":{"start":{"line":383,"column":38},"end":{"line":383,"column":62}}},"27":{"name":"(anonymous_27)","line":386,"loc":{"start":{"line":386,"column":42},"end":{"line":386,"column":54}}},"28":{"name":"(anonymous_28)","line":394,"loc":{"start":{"line":394,"column":35},"end":{"line":394,"column":50}}},"29":{"name":"(anonymous_29)","line":397,"loc":{"start":{"line":397,"column":31},"end":{"line":397,"column":43}}},"30":{"name":"(anonymous_30)","line":401,"loc":{"start":{"line":401,"column":36},"end":{"line":401,"column":48}}},"31":{"name":"(anonymous_31)","line":409,"loc":{"start":{"line":409,"column":41},"end":{"line":409,"column":52}}},"32":{"name":"(anonymous_32)","line":413,"loc":{"start":{"line":413,"column":40},"end":{"line":413,"column":51}}},"33":{"name":"(anonymous_33)","line":420,"loc":{"start":{"line":420,"column":44},"end":{"line":420,"column":55}}},"34":{"name":"(anonymous_34)","line":425,"loc":{"start":{"line":425,"column":11},"end":{"line":425,"column":25}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":19,"column":31}},"2":{"start":{"line":61,"column":0},"end":{"line":76,"column":1}},"3":{"start":{"line":62,"column":2},"end":{"line":67,"column":3}},"4":{"start":{"line":63,"column":4},"end":{"line":63,"column":49}},"5":{"start":{"line":65,"column":4},"end":{"line":65,"column":41}},"6":{"start":{"line":66,"column":4},"end":{"line":66,"column":80}},"7":{"start":{"line":66,"column":27},"end":{"line":66,"column":80}},"8":{"start":{"line":69,"column":2},"end":{"line":69,"column":26}},"9":{"start":{"line":70,"column":2},"end":{"line":70,"column":23}},"10":{"start":{"line":72,"column":2},"end":{"line":72,"column":25}},"11":{"start":{"line":73,"column":2},"end":{"line":75,"column":3}},"12":{"start":{"line":74,"column":4},"end":{"line":74,"column":63}},"13":{"start":{"line":77,"column":0},"end":{"line":77,"column":40}},"14":{"start":{"line":86,"column":0},"end":{"line":86,"column":50}},"15":{"start":{"line":93,"column":0},"end":{"line":93,"column":50}},"16":{"start":{"line":100,"column":0},"end":{"line":100,"column":50}},"17":{"start":{"line":113,"column":0},"end":{"line":195,"column":2}},"18":{"start":{"line":114,"column":2},"end":{"line":114,"column":18}},"19":{"start":{"line":115,"column":2},"end":{"line":115,"column":42}},"20":{"start":{"line":116,"column":2},"end":{"line":116,"column":72}},"21":{"start":{"line":117,"column":2},"end":{"line":194,"column":5}},"22":{"start":{"line":118,"column":4},"end":{"line":121,"column":5}},"23":{"start":{"line":119,"column":6},"end":{"line":119,"column":31}},"24":{"start":{"line":120,"column":6},"end":{"line":120,"column":35}},"25":{"start":{"line":123,"column":4},"end":{"line":123,"column":35}},"26":{"start":{"line":124,"column":4},"end":{"line":124,"column":51}},"27":{"start":{"line":125,"column":4},"end":{"line":125,"column":48}},"28":{"start":{"line":126,"column":4},"end":{"line":126,"column":48}},"29":{"start":{"line":127,"column":4},"end":{"line":127,"column":50}},"30":{"start":{"line":128,"column":4},"end":{"line":128,"column":52}},"31":{"start":{"line":129,"column":4},"end":{"line":129,"column":20}},"32":{"start":{"line":130,"column":4},"end":{"line":150,"column":5}},"33":{"start":{"line":131,"column":6},"end":{"line":134,"column":7}},"34":{"start":{"line":132,"column":8},"end":{"line":133,"column":70}},"35":{"start":{"line":135,"column":6},"end":{"line":145,"column":7}},"36":{"start":{"line":136,"column":8},"end":{"line":139,"column":9}},"37":{"start":{"line":137,"column":10},"end":{"line":138,"column":83}},"38":{"start":{"line":140,"column":13},"end":{"line":145,"column":7}},"39":{"start":{"line":141,"column":8},"end":{"line":142,"column":81}},"40":{"start":{"line":144,"column":8},"end":{"line":144,"column":39}},"41":{"start":{"line":146,"column":11},"end":{"line":150,"column":5}},"42":{"start":{"line":148,"column":6},"end":{"line":148,"column":57}},"43":{"start":{"line":149,"column":6},"end":{"line":149,"column":44}},"44":{"start":{"line":151,"column":4},"end":{"line":154,"column":5}},"45":{"start":{"line":152,"column":6},"end":{"line":152,"column":43}},"46":{"start":{"line":153,"column":6},"end":{"line":153,"column":53}},"47":{"start":{"line":156,"column":4},"end":{"line":156,"column":58}},"48":{"start":{"line":157,"column":4},"end":{"line":174,"column":7}},"49":{"start":{"line":158,"column":6},"end":{"line":158,"column":25}},"50":{"start":{"line":159,"column":6},"end":{"line":159,"column":45}},"51":{"start":{"line":160,"column":6},"end":{"line":165,"column":7}},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":50}},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":52}},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":44}},"55":{"start":{"line":167,"column":6},"end":{"line":171,"column":9}},"56":{"start":{"line":168,"column":8},"end":{"line":168,"column":24}},"57":{"start":{"line":169,"column":8},"end":{"line":169,"column":31}},"58":{"start":{"line":170,"column":8},"end":{"line":170,"column":22}},"59":{"start":{"line":173,"column":6},"end":{"line":173,"column":47}},"60":{"start":{"line":176,"column":4},"end":{"line":191,"column":7}},"61":{"start":{"line":177,"column":6},"end":{"line":177,"column":28}},"62":{"start":{"line":178,"column":6},"end":{"line":178,"column":32}},"63":{"start":{"line":179,"column":6},"end":{"line":179,"column":45}},"64":{"start":{"line":180,"column":6},"end":{"line":183,"column":7}},"65":{"start":{"line":181,"column":8},"end":{"line":181,"column":42}},"66":{"start":{"line":182,"column":8},"end":{"line":182,"column":54}},"67":{"start":{"line":185,"column":6},"end":{"line":186,"column":67}},"68":{"start":{"line":186,"column":8},"end":{"line":186,"column":67}},"69":{"start":{"line":188,"column":6},"end":{"line":190,"column":33}},"70":{"start":{"line":189,"column":8},"end":{"line":189,"column":79}},"71":{"start":{"line":189,"column":61},"end":{"line":189,"column":75}},"72":{"start":{"line":193,"column":4},"end":{"line":193,"column":41}},"73":{"start":{"line":207,"column":0},"end":{"line":246,"column":2}},"74":{"start":{"line":208,"column":2},"end":{"line":210,"column":3}},"75":{"start":{"line":209,"column":4},"end":{"line":209,"column":58}},"76":{"start":{"line":212,"column":2},"end":{"line":212,"column":72}},"77":{"start":{"line":213,"column":2},"end":{"line":213,"column":42}},"78":{"start":{"line":215,"column":2},"end":{"line":222,"column":33}},"79":{"start":{"line":224,"column":2},"end":{"line":230,"column":3}},"80":{"start":{"line":225,"column":4},"end":{"line":227,"column":5}},"81":{"start":{"line":226,"column":6},"end":{"line":226,"column":60}},"82":{"start":{"line":229,"column":4},"end":{"line":229,"column":48}},"83":{"start":{"line":232,"column":2},"end":{"line":232,"column":18}},"84":{"start":{"line":233,"column":2},"end":{"line":245,"column":5}},"85":{"start":{"line":234,"column":4},"end":{"line":242,"column":6}},"86":{"start":{"line":235,"column":6},"end":{"line":238,"column":8}},"87":{"start":{"line":236,"column":8},"end":{"line":236,"column":40}},"88":{"start":{"line":236,"column":20},"end":{"line":236,"column":40}},"89":{"start":{"line":237,"column":8},"end":{"line":237,"column":30}},"90":{"start":{"line":240,"column":6},"end":{"line":240,"column":54}},"91":{"start":{"line":241,"column":6},"end":{"line":241,"column":41}},"92":{"start":{"line":244,"column":4},"end":{"line":244,"column":13}},"93":{"start":{"line":257,"column":0},"end":{"line":260,"column":2}},"94":{"start":{"line":258,"column":2},"end":{"line":259,"column":78}},"95":{"start":{"line":259,"column":27},"end":{"line":259,"column":74}},"96":{"start":{"line":274,"column":0},"end":{"line":321,"column":2}},"97":{"start":{"line":275,"column":2},"end":{"line":277,"column":3}},"98":{"start":{"line":276,"column":4},"end":{"line":276,"column":58}},"99":{"start":{"line":279,"column":2},"end":{"line":279,"column":72}},"100":{"start":{"line":280,"column":2},"end":{"line":280,"column":42}},"101":{"start":{"line":282,"column":2},"end":{"line":289,"column":35}},"102":{"start":{"line":293,"column":2},"end":{"line":305,"column":3}},"103":{"start":{"line":294,"column":4},"end":{"line":296,"column":5}},"104":{"start":{"line":295,"column":6},"end":{"line":295,"column":60}},"105":{"start":{"line":298,"column":4},"end":{"line":300,"column":53}},"106":{"start":{"line":302,"column":4},"end":{"line":302,"column":41}},"107":{"start":{"line":303,"column":4},"end":{"line":304,"column":87}},"108":{"start":{"line":307,"column":2},"end":{"line":307,"column":18}},"109":{"start":{"line":308,"column":2},"end":{"line":320,"column":5}},"110":{"start":{"line":309,"column":4},"end":{"line":317,"column":6}},"111":{"start":{"line":310,"column":6},"end":{"line":313,"column":8}},"112":{"start":{"line":311,"column":8},"end":{"line":311,"column":40}},"113":{"start":{"line":311,"column":20},"end":{"line":311,"column":40}},"114":{"start":{"line":312,"column":8},"end":{"line":312,"column":30}},"115":{"start":{"line":315,"column":6},"end":{"line":315,"column":54}},"116":{"start":{"line":316,"column":6},"end":{"line":316,"column":41}},"117":{"start":{"line":319,"column":4},"end":{"line":319,"column":13}},"118":{"start":{"line":332,"column":0},"end":{"line":341,"column":2}},"119":{"start":{"line":335,"column":2},"end":{"line":337,"column":28}},"120":{"start":{"line":339,"column":2},"end":{"line":340,"column":63}},"121":{"start":{"line":340,"column":27},"end":{"line":340,"column":59}},"122":{"start":{"line":350,"column":0},"end":{"line":370,"column":2}},"123":{"start":{"line":351,"column":2},"end":{"line":351,"column":18}},"124":{"start":{"line":352,"column":2},"end":{"line":369,"column":5}},"125":{"start":{"line":353,"column":4},"end":{"line":353,"column":27}},"126":{"start":{"line":354,"column":4},"end":{"line":368,"column":5}},"127":{"start":{"line":355,"column":6},"end":{"line":355,"column":31}},"128":{"start":{"line":356,"column":6},"end":{"line":356,"column":40}},"129":{"start":{"line":357,"column":6},"end":{"line":357,"column":35}},"130":{"start":{"line":358,"column":6},"end":{"line":363,"column":9}},"131":{"start":{"line":359,"column":8},"end":{"line":359,"column":30}},"132":{"start":{"line":360,"column":8},"end":{"line":360,"column":34}},"133":{"start":{"line":361,"column":8},"end":{"line":361,"column":31}},"134":{"start":{"line":362,"column":8},"end":{"line":362,"column":18}},"135":{"start":{"line":364,"column":6},"end":{"line":364,"column":25}},"136":{"start":{"line":366,"column":6},"end":{"line":366,"column":32}},"137":{"start":{"line":367,"column":6},"end":{"line":367,"column":16}},"138":{"start":{"line":372,"column":0},"end":{"line":380,"column":2}},"139":{"start":{"line":373,"column":2},"end":{"line":373,"column":64}},"140":{"start":{"line":373,"column":26},"end":{"line":373,"column":64}},"141":{"start":{"line":374,"column":2},"end":{"line":374,"column":26}},"142":{"start":{"line":375,"column":2},"end":{"line":377,"column":3}},"143":{"start":{"line":376,"column":4},"end":{"line":376,"column":27}},"144":{"start":{"line":379,"column":2},"end":{"line":379,"column":53}},"145":{"start":{"line":379,"column":21},"end":{"line":379,"column":53}},"146":{"start":{"line":383,"column":0},"end":{"line":392,"column":2}},"147":{"start":{"line":384,"column":2},"end":{"line":384,"column":18}},"148":{"start":{"line":385,"column":2},"end":{"line":385,"column":49}},"149":{"start":{"line":386,"column":2},"end":{"line":389,"column":5}},"150":{"start":{"line":387,"column":4},"end":{"line":387,"column":35}},"151":{"start":{"line":388,"column":4},"end":{"line":388,"column":43}},"152":{"start":{"line":391,"column":2},"end":{"line":391,"column":20}},"153":{"start":{"line":394,"column":0},"end":{"line":407,"column":2}},"154":{"start":{"line":395,"column":2},"end":{"line":395,"column":18}},"155":{"start":{"line":396,"column":2},"end":{"line":396,"column":34}},"156":{"start":{"line":397,"column":2},"end":{"line":399,"column":5}},"157":{"start":{"line":398,"column":4},"end":{"line":398,"column":22}},"158":{"start":{"line":401,"column":2},"end":{"line":404,"column":5}},"159":{"start":{"line":402,"column":4},"end":{"line":402,"column":32}},"160":{"start":{"line":403,"column":4},"end":{"line":403,"column":43}},"161":{"start":{"line":406,"column":2},"end":{"line":406,"column":17}},"162":{"start":{"line":409,"column":0},"end":{"line":411,"column":2}},"163":{"start":{"line":410,"column":2},"end":{"line":410,"column":25}},"164":{"start":{"line":413,"column":0},"end":{"line":418,"column":2}},"165":{"start":{"line":414,"column":2},"end":{"line":414,"column":58}},"166":{"start":{"line":414,"column":45},"end":{"line":414,"column":58}},"167":{"start":{"line":415,"column":2},"end":{"line":416,"column":77}},"168":{"start":{"line":416,"column":64},"end":{"line":416,"column":77}},"169":{"start":{"line":417,"column":2},"end":{"line":417,"column":14}},"170":{"start":{"line":420,"column":0},"end":{"line":435,"column":2}},"171":{"start":{"line":421,"column":2},"end":{"line":421,"column":35}},"172":{"start":{"line":423,"column":2},"end":{"line":423,"column":18}},"173":{"start":{"line":424,"column":2},"end":{"line":434,"column":7}},"174":{"start":{"line":426,"column":6},"end":{"line":426,"column":47}},"175":{"start":{"line":437,"column":0},"end":{"line":437,"column":28}}},"branchMap":{"1":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":2},"end":{"line":62,"column":2}},{"start":{"line":62,"column":2},"end":{"line":62,"column":2}}]},"2":{"line":65,"type":"binary-expr","locations":[{"start":{"line":65,"column":18},"end":{"line":65,"column":24}},{"start":{"line":65,"column":28},"end":{"line":65,"column":40}}]},"3":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":4},"end":{"line":66,"column":4}},{"start":{"line":66,"column":4},"end":{"line":66,"column":4}}]},"4":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":2},"end":{"line":73,"column":2}},{"start":{"line":73,"column":2},"end":{"line":73,"column":2}}]},"5":{"line":115,"type":"binary-expr","locations":[{"start":{"line":115,"column":20},"end":{"line":115,"column":35}},{"start":{"line":115,"column":39},"end":{"line":115,"column":41}}]},"6":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":4},"end":{"line":118,"column":4}},{"start":{"line":118,"column":4},"end":{"line":118,"column":4}}]},"7":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":4},"end":{"line":130,"column":4}},{"start":{"line":130,"column":4},"end":{"line":130,"column":4}}]},"8":{"line":131,"type":"if","locations":[{"start":{"line":131,"column":6},"end":{"line":131,"column":6}},{"start":{"line":131,"column":6},"end":{"line":131,"column":6}}]},"9":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":6},"end":{"line":135,"column":6}},{"start":{"line":135,"column":6},"end":{"line":135,"column":6}}]},"10":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":8},"end":{"line":136,"column":8}},{"start":{"line":136,"column":8},"end":{"line":136,"column":8}}]},"11":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":13},"end":{"line":140,"column":13}},{"start":{"line":140,"column":13},"end":{"line":140,"column":13}}]},"12":{"line":140,"type":"binary-expr","locations":[{"start":{"line":140,"column":17},"end":{"line":140,"column":55}},{"start":{"line":140,"column":59},"end":{"line":140,"column":72}}]},"13":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":11},"end":{"line":146,"column":11}},{"start":{"line":146,"column":11},"end":{"line":146,"column":11}}]},"14":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":4},"end":{"line":151,"column":4}},{"start":{"line":151,"column":4},"end":{"line":151,"column":4}}]},"15":{"line":151,"type":"binary-expr","locations":[{"start":{"line":151,"column":8},"end":{"line":151,"column":14}},{"start":{"line":151,"column":18},"end":{"line":151,"column":33}}]},"16":{"line":160,"type":"if","locations":[{"start":{"line":160,"column":6},"end":{"line":160,"column":6}},{"start":{"line":160,"column":6},"end":{"line":160,"column":6}}]},"17":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":6},"end":{"line":180,"column":6}},{"start":{"line":180,"column":6},"end":{"line":180,"column":6}}]},"18":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":6},"end":{"line":185,"column":6}},{"start":{"line":185,"column":6},"end":{"line":185,"column":6}}]},"19":{"line":208,"type":"if","locations":[{"start":{"line":208,"column":2},"end":{"line":208,"column":2}},{"start":{"line":208,"column":2},"end":{"line":208,"column":2}}]},"20":{"line":212,"type":"binary-expr","locations":[{"start":{"line":212,"column":41},"end":{"line":212,"column":48}},{"start":{"line":212,"column":52},"end":{"line":212,"column":70}}]},"21":{"line":213,"type":"binary-expr","locations":[{"start":{"line":213,"column":20},"end":{"line":213,"column":35}},{"start":{"line":213,"column":39},"end":{"line":213,"column":41}}]},"22":{"line":224,"type":"if","locations":[{"start":{"line":224,"column":2},"end":{"line":224,"column":2}},{"start":{"line":224,"column":2},"end":{"line":224,"column":2}}]},"23":{"line":224,"type":"binary-expr","locations":[{"start":{"line":224,"column":6},"end":{"line":224,"column":23}},{"start":{"line":224,"column":27},"end":{"line":224,"column":54}}]},"24":{"line":225,"type":"if","locations":[{"start":{"line":225,"column":4},"end":{"line":225,"column":4}},{"start":{"line":225,"column":4},"end":{"line":225,"column":4}}]},"25":{"line":225,"type":"binary-expr","locations":[{"start":{"line":225,"column":8},"end":{"line":225,"column":39}},{"start":{"line":225,"column":43},"end":{"line":225,"column":69}}]},"26":{"line":236,"type":"if","locations":[{"start":{"line":236,"column":8},"end":{"line":236,"column":8}},{"start":{"line":236,"column":8},"end":{"line":236,"column":8}}]},"27":{"line":275,"type":"if","locations":[{"start":{"line":275,"column":2},"end":{"line":275,"column":2}},{"start":{"line":275,"column":2},"end":{"line":275,"column":2}}]},"28":{"line":279,"type":"binary-expr","locations":[{"start":{"line":279,"column":41},"end":{"line":279,"column":48}},{"start":{"line":279,"column":52},"end":{"line":279,"column":70}}]},"29":{"line":280,"type":"binary-expr","locations":[{"start":{"line":280,"column":20},"end":{"line":280,"column":35}},{"start":{"line":280,"column":39},"end":{"line":280,"column":41}}]},"30":{"line":293,"type":"if","locations":[{"start":{"line":293,"column":2},"end":{"line":293,"column":2}},{"start":{"line":293,"column":2},"end":{"line":293,"column":2}}]},"31":{"line":294,"type":"if","locations":[{"start":{"line":294,"column":4},"end":{"line":294,"column":4}},{"start":{"line":294,"column":4},"end":{"line":294,"column":4}}]},"32":{"line":294,"type":"binary-expr","locations":[{"start":{"line":294,"column":8},"end":{"line":294,"column":39}},{"start":{"line":294,"column":43},"end":{"line":294,"column":69}}]},"33":{"line":298,"type":"cond-expr","locations":[{"start":{"line":299,"column":6},"end":{"line":299,"column":51}},{"start":{"line":300,"column":6},"end":{"line":300,"column":52}}]},"34":{"line":298,"type":"binary-expr","locations":[{"start":{"line":298,"column":24},"end":{"line":298,"column":52}},{"start":{"line":298,"column":56},"end":{"line":298,"column":84}}]},"35":{"line":311,"type":"if","locations":[{"start":{"line":311,"column":8},"end":{"line":311,"column":8}},{"start":{"line":311,"column":8},"end":{"line":311,"column":8}}]},"36":{"line":337,"type":"binary-expr","locations":[{"start":{"line":337,"column":5},"end":{"line":337,"column":20}},{"start":{"line":337,"column":24},"end":{"line":337,"column":26}}]},"37":{"line":354,"type":"if","locations":[{"start":{"line":354,"column":4},"end":{"line":354,"column":4}},{"start":{"line":354,"column":4},"end":{"line":354,"column":4}}]},"38":{"line":373,"type":"if","locations":[{"start":{"line":373,"column":2},"end":{"line":373,"column":2}},{"start":{"line":373,"column":2},"end":{"line":373,"column":2}}]},"39":{"line":375,"type":"if","locations":[{"start":{"line":375,"column":2},"end":{"line":375,"column":2}},{"start":{"line":375,"column":2},"end":{"line":375,"column":2}}]},"40":{"line":379,"type":"if","locations":[{"start":{"line":379,"column":2},"end":{"line":379,"column":2}},{"start":{"line":379,"column":2},"end":{"line":379,"column":2}}]},"41":{"line":414,"type":"if","locations":[{"start":{"line":414,"column":2},"end":{"line":414,"column":2}},{"start":{"line":414,"column":2},"end":{"line":414,"column":2}}]},"42":{"line":414,"type":"binary-expr","locations":[{"start":{"line":414,"column":6},"end":{"line":414,"column":23}},{"start":{"line":414,"column":27},"end":{"line":414,"column":43}}]},"43":{"line":415,"type":"if","locations":[{"start":{"line":415,"column":2},"end":{"line":415,"column":2}},{"start":{"line":415,"column":2},"end":{"line":415,"column":2}}]},"44":{"line":415,"type":"binary-expr","locations":[{"start":{"line":415,"column":6},"end":{"line":415,"column":21}},{"start":{"line":416,"column":6},"end":{"line":416,"column":28}},{"start":{"line":416,"column":32},"end":{"line":416,"column":62}}]}},"code":["'use strict';","var EventEmitter = require('events').EventEmitter,","    Promise = require('bluebird'),","    debug = require('debug')('amqp10:client'),","    util = require('util'),","","    Connection = require('./connection'),","    Sasl = require('./sasl'),","    Session = require('./session'),","    ReceiverStream = require('./streams/receiver_stream'),","    SenderStream = require('./streams/sender_stream'),","","    errors = require('./errors'),","","    translator = require('./adapters/translate_encoder'),","    Policy = require('./policies/policy'),","","    pu = require('./policies/policy_utilities'),","    u = require('./utilities');","","/**"," * AMQPClient is the top-level class for interacting with node-amqp10.  Instantiate this class, connect, and then send/receive"," * as needed and behind the scenes it will do the appropriate work to setup and teardown connections, sessions, and links and manage flow."," * The code does its best to avoid exposing AMQP-specific types and attempts to convert them where possible, but on the off-chance you"," * need to speak AMQP-specific (e.g. to set a filter to a described-type), you can use node-amqp-encoder and the"," * translator adapter to convert it to our internal types.  See simple_eventhub_test.js for an example."," *"," * Configuring AMQPClient is done through fa Policy class.  By default, DefaultPolicy will be used - it assumes AMQP defaults wherever"," * possible, and for values with no spec-defined defaults it tries to assume something reasonable (e.g. timeout, max message size)."," *"," * To define a new policy, you can merge your values into an existing one by calling AMQPClient.policies.merge(yourPolicy, existingPolicy)."," * This does a deep-merge, allowing you to only replace values you need.  For instance, if you wanted the default sender settle policy to be auto-settle instead of mixed,"," * you could just use"," *"," <pre>"," var AMQP = require('amqp10');"," var client = new AMQP.Client(AMQP.Policy.merge({","   senderLink: {","     attach: {","       sndSettleMode: AMQP.Constants.senderSettleMode.settled","     }","   }"," });"," </pre>"," *"," * Obviously, setting some of these options requires some in-depth knowledge of AMQP, so I've tried to define specific policies where I can."," * For instance, for Azure EventHub connections, you can use the pre-build EventHubPolicy."," *"," * Also, within the policy, see the encoder and decoder defined in the send/receive policies.  These define what to do with the message"," * sent/received, and by default do a simple pass-through, leaving the encoding to/decoding from AMQP-specific types up to the library which"," * does a best-effort job.  See EventHubPolicy for a more complicated example, turning objects into UTF8-encoded buffers of JSON-strings."," *"," * @class"," * @extends EventEmitter"," * @param {Policy}  [policy]           Policy to use for connection, sessions, links, etc.  Defaults to DefaultPolicy."," * @param {Obeject} [policyOverrides]  Additional overrides for the provided policy"," * @fires AMQPClient#client:errorReceived"," * @fires AMQPClient#connection:opened"," * @fires AMQPClient#connection:closed"," */","function AMQPClient(policy, policyOverrides) {","  if (!(policy instanceof Policy)) {","    this.policy = pu.Merge(policy, new Policy());","  } else {","    this.policy = policy || new Policy();","    if (!!policyOverrides) this.policy = pu.Merge(policyOverrides, this.policy);","  }","","  this._connection = null;","  this._session = null;","","  this._reconnect = null;","  if (!!this.policy.reconnect) {","    this._timeouts = u.generateTimeouts(this.policy.reconnect);","  }","}","util.inherits(AMQPClient, EventEmitter);","","/**"," * Error received events"," *"," * @event AMQPClient#client:errorReceived"," * @type {object}"," * @property {object} the error received"," */","AMQPClient.ErrorReceived = 'client:errorReceived'; // Called with error","","/**"," * Connection opened event."," *"," * @event AMQPClient#connection:opened"," */","AMQPClient.ConnectionOpened = 'connection:opened';","","/**"," * Connection closed event."," *"," * @event AMQPClient#connection:closed"," */","AMQPClient.ConnectionClosed = 'connection:closed';","","/**"," * Connects to a given AMQP server endpoint. Sets the default queue, so e.g."," * amqp://my-activemq-host/my-queue-name would set the default queue to"," * my-queue-name for future send/receive calls."," *"," * @inner @memberof AMQPClient"," * @param {string} url      URI to connect to - right now only supports <code>amqp|amqps</code> as protocol."," * @param {object} [policyOverrides]      Policy overrides used for creating this connection"," *"," * @return {Promise}"," */","AMQPClient.prototype.connect = function(url, policyOverrides) {","  var self = this;","  policyOverrides = policyOverrides || {};","  var connectPolicy = u.deepMerge(policyOverrides, self.policy.connect);","  return new Promise(function(resolve, reject) {","    if (self._connection) {","      self._connection.close();","      self._clearConnectionState();","    }","","    debug('connecting to: ' + url);","    self._reconnect = self.connect.bind(self, url);","    var address = self.policy.parseAddress(url);","    self._defaultQueue = address.path.substr(1);","    connectPolicy.options.hostname = address.host;","    var saslMechanism = connectPolicy.saslMechanism;","    var sasl = null;","    if (saslMechanism) {","      if (!u.includes(Sasl.Mechanism, saslMechanism)) {","        throw new errors.NotImplementedError(","          saslMechanism + ' is not a supported saslMechanism policy');","      }","      if (saslMechanism === Sasl.Mechanism.NONE) {","        if (address.user) {","          console.warn(","              'Sasl disabled by policy, but credentials provided in endpoint URI');","        }","      } else if (saslMechanism === Sasl.Mechanism.PLAIN && !address.user) {","        throw new errors.AuthenticationError(","            'Sasl PLAIN requested, but no credentials provided in endpoint URI');","      } else {","        sasl = new Sasl(saslMechanism);","      }","    } else if (address.user) {","      // force SASL plain if no mechanism specified, but creds in URI","      connectPolicy.saslMechanism = Sasl.Mechanism.PLAIN;","      sasl = new Sasl(Sasl.Mechanism.PLAIN);","    }","    if (!!sasl && !!address.vhost) {","      sasl._remoteHostname = address.vhost;","      connectPolicy.options.hostname = address.vhost;","    }","","    self._connection = self._newConnection(connectPolicy);","    self._connection.on(Connection.Connected, function(c) {","      debug('connected');","      self.emit(AMQPClient.ConnectionOpened);","      if (self._session) {","        debug('session already exists, re-using');","        self._session.connection = self._connection;","      } else {","        self._session = self._newSession(c);","      }","","      self._session.once(Session.Mapped, function(s) {","        debug('mapped');","        self.emit('connected');","        resolve(self);","      });","","      self._session.begin(self.policy.session);","    });","","    self._connection.on(Connection.Disconnected, function() {","      debug('disconnected');","      self.emit('disconnected');","      self.emit(AMQPClient.ConnectionClosed);","      if (!self._shouldReconnect()) {","        self._clearConnectionState(false);","        return reject(new errors.DisconnectedError());","      }","","      if (!self._timeouts.length)","        self._timeouts = u.generateTimeouts(self.policy.reconnect);","","      setTimeout(function() {","        return self._attemptReconnection().then(function() { resolve(self); });","      }, self._timeouts.shift());","    });","","    self._connection.open(address, sasl);","  });","};","","/**"," * Creates a sender link for the given address, with optional link policy"," *"," * @inner @memberof AMQPClient"," * @param {string} address                An address to connect this link to. If not provided will use default queue from connection uri."," * @param {object} [policyOverrides]      Policy overrides used for creating this sender link"," * @param {string} [policyOverrides.name] Explicitly set a name for this link, this is an alias to [policyOverrides.attach.name]"," *"," * @return {Promise<SenderLink>}"," */","AMQPClient.prototype.createSender = function(address, policyOverrides) {","  if (!this._connection) {","    throw new Error('Must connect before creating links');","  }","","  address = this.policy.parseLinkAddress(address || this._defaultQueue);","  policyOverrides = policyOverrides || {};","","  var linkName = u.linkName(address.name, policyOverrides),","      linkPolicy = u.deepMerge(policyOverrides, {","        attach: {","          name: linkName,","          source: { address: 'localhost' },","          target: { address: address.name }","        }","      }, this.policy.senderLink);","","  if (!!address.subject && this.policy.defaultSubjects) {","    if (address.subject === 'undefined' || address.subject === 'null') {","      throw new errors.InvalidSubjectError(address.subject);","    }","","    linkPolicy.defaultSubject = address.subject;","  }","","  var self = this;","  return new Promise(function(resolve, reject) {","    var attach = function() {","      var attachPromise = function(_err, _link) {","        if (!!_err) return reject(_err);","        return resolve(_link);","      };","","      var link = self._session.createLink(linkPolicy);","      link._onAttach.push(attachPromise);","    };","","    attach();","  });","};","","/**"," * Creates a sender link wrapped as a Writable stream"," *"," * @inner @memberof AMQPClient"," * @param {string} address                Address used for link creation"," * @param {object} [policyOverrides]      Policy overrides used for creating this sender link"," *"," * @return {Promise<SenderStream>}"," */","AMQPClient.prototype.createSenderStream = function(address, policyOverrides) {","  return this.createSender(address, policyOverrides)","    .then(function(link) { return new SenderStream(link, policyOverrides); });","};","","/**"," * Creates a receiver link for the given address, with optional link policy. The"," * promise returned resolves to a link that is an EventEmitter, which can be"," * used to listen for 'message' events."," *"," * @inner @memberof AMQPClient"," * @param {string} address                An address to connect this link to.  If not provided will use default queue from connection uri."," * @param {object} [policyOverrides]      Policy overrides used for creating this receiver link"," * @param {string} [policyOverrides.name] Explicitly set a name for this link, this is an alias to [policyOverrides.attach.name]"," *"," * @return {Promise<ReceiverLink>}"," */","AMQPClient.prototype.createReceiver = function(address, policyOverrides) {","  if (!this._connection) {","    throw new Error('Must connect before creating links');","  }","","  address = this.policy.parseLinkAddress(address || this._defaultQueue);","  policyOverrides = policyOverrides || {};","","  var linkName = u.linkName(address.name, policyOverrides),","      linkPolicy = u.deepMerge(policyOverrides, {","        attach: {","          name: linkName,","          source: { address: address.name },","          target: { address: 'localhost' }","        }","      }, this.policy.receiverLink);","","  // if a subject has been provided then automatically set up a filter to","  // match on that subject.","  if (!!address.subject) {","    if (address.subject === 'undefined' || address.subject === 'null') {","      throw new errors.InvalidSubjectError(address.subject);","    }","","    var filterSymbol = (address.subject.indexOf('*') || address.subject.indexOf('#')) ?","      'apache.org:legacy-amqp-topic-binding:string' :","      'apache.org:legacy-amqp-direct-binding:string';","","    linkPolicy.attach.source.filter = {};","    linkPolicy.attach.source.filter[filterSymbol] =","      translator(['described', ['symbol', filterSymbol], ['string', address.subject]]);","  }","","  var self = this;","  return new Promise(function(resolve, reject) {","    var attach = function() {","      var attachPromise = function(_err, _link) {","        if (!!_err) return reject(_err);","        return resolve(_link);","      };","","      var link = self._session.createLink(linkPolicy);","      link._onAttach.push(attachPromise);","    };","","    attach();","  });","};","","/**"," * Creates a receiver link wrapped as a Readable stream"," *"," * @inner @memberof AMQPClient"," * @param {string} address                Address used for link creation"," * @param {object} [policyOverrides]      Policy overrides used for creating the receiver link"," *"," * @return {Promise<ReceiverStream>}"," */","AMQPClient.prototype.createReceiverStream = function(address, policyOverrides) {","  // Override default credit behavior, as the stream will handle flow. The","  // creditQuantum will be used as the stream's highWatermark by default.","  policyOverrides = u.deepMerge({","    credit: function() {},","  }, policyOverrides || {});","","  return this.createReceiver(address, policyOverrides)","    .then(function(link) { return new ReceiverStream(link); });","};","","/**"," * Disconnect tears down any existing connection with appropriate Close"," * performatives and TCP socket teardowns."," *"," * @inner @memberof AMQPClient"," * @return {Promise}"," */","AMQPClient.prototype.disconnect = function() {","  var self = this;","  return new Promise(function(resolve, reject) {","    debug('disconnecting');","    if (self._connection) {","      self._preventReconnect();","      var connection = self._connection;","      self._clearConnectionState();","      connection.once(Connection.Disconnected, function() {","        debug('disconnected');","        self.emit('disconnected');","        connection = undefined;","        resolve();","      });","      connection.close();","    } else {","      self.emit('disconnected');","      resolve(); // Already disconnected, just deliver the promise.","    }","  });","};","","AMQPClient.prototype._clearConnectionState = function(saveReconnectDetails) {","  if (!!this._connection) this._connection.removeAllListeners();","  this._connection = null;","  if (!saveReconnectDetails) {","    this._reconnect = null;","  }","","  if (this._session) this._session._resetLinkState();","};","","// Helper methods for mocking in tests.","AMQPClient.prototype._newConnection = function(connectPolicy) {","  var self = this;","  var connection = new Connection(connectPolicy);","  connection.on(Connection.ErrorReceived, function(e) {","    debug('connection error: ', e);","    self.emit(AMQPClient.ErrorReceived, e);","  });","","  return connection;","};","","AMQPClient.prototype._newSession = function(conn) {","  var self = this;","  var session = new Session(conn);","  session.on(Session.Unmapped, function(s) {","    debug('unmapped');","  });","","  session.on(Session.ErrorReceived, function(e) {","    debug('session error: ', e);","    self.emit(AMQPClient.ErrorReceived, e);","  });","","  return session;","};","","AMQPClient.prototype._preventReconnect = function() {","  this._reconnect = null;","};","","AMQPClient.prototype._shouldReconnect = function() {","  if (!this._connection || !this._reconnect) return false;","  if (!this._timeouts ||","      !this._timeouts.length && !this.policy.reconnect.forever) return false;","  return true;","};","","AMQPClient.prototype._attemptReconnection = function() {","  this._clearConnectionState(true);","","  var self = this;","  return self._reconnect()","    .catch(function(err) {","      self.emit(AMQPClient.ErrorReceived, err);","","      // @todo: this is problematic, since we're not passing the reconnect","      //        promise back to sender. As such, it will signal two uncaught","      //        exceptions, and then dump and quit the program. Need to find a","      //        better way to tie the reconnect promise to the original request.","      // if (!self._shouldReconnect())","      //   throw err;  // rethrow","    });","};","","module.exports = AMQPClient;",""],"l":{"2":1,"61":1,"62":0,"63":0,"65":0,"66":0,"69":0,"70":0,"72":0,"73":0,"74":0,"77":1,"86":1,"93":1,"100":1,"113":1,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"135":0,"136":0,"137":0,"140":0,"141":0,"144":0,"146":0,"148":0,"149":0,"151":0,"152":0,"153":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"164":0,"167":0,"168":0,"169":0,"170":0,"173":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"185":0,"186":0,"188":0,"189":0,"193":0,"207":1,"208":0,"209":0,"212":0,"213":0,"215":0,"224":0,"225":0,"226":0,"229":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"240":0,"241":0,"244":0,"257":1,"258":0,"259":0,"274":1,"275":0,"276":0,"279":0,"280":0,"282":0,"293":0,"294":0,"295":0,"298":0,"302":0,"303":0,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"315":0,"316":0,"319":0,"332":1,"335":0,"339":0,"340":0,"350":1,"351":0,"352":0,"353":0,"354":0,"355":0,"356":0,"357":0,"358":0,"359":0,"360":0,"361":0,"362":0,"364":0,"366":0,"367":0,"372":1,"373":0,"374":0,"375":0,"376":0,"379":0,"383":1,"384":0,"385":0,"386":0,"387":0,"388":0,"391":0,"394":1,"395":0,"396":0,"397":0,"398":0,"401":0,"402":0,"403":0,"406":0,"409":1,"410":0,"413":1,"414":0,"415":0,"416":0,"417":0,"420":1,"421":0,"423":0,"424":0,"426":0,"437":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/connection.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/connection.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":0,"89":1,"90":0,"91":1,"92":0,"93":0,"94":1,"95":0,"96":0,"97":0,"98":1,"99":0,"100":1,"101":0,"102":0,"103":0,"104":0,"105":1,"106":0,"107":0,"108":0,"109":1,"110":0,"111":0,"112":0,"113":1,"114":0,"115":0,"116":0,"117":1,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":1,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":1,"162":0,"163":1,"164":0,"165":1,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":1,"192":0,"193":0,"194":0,"195":0,"196":1,"197":0,"198":0,"199":0,"200":0,"201":1,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":1,"216":0,"217":0,"218":0,"219":0,"220":1,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0},"fnMap":{"1":{"name":"Connection","line":143,"loc":{"start":{"line":143,"column":0},"end":{"line":143,"column":35}}},"2":{"name":"(anonymous_2)","line":182,"loc":{"start":{"line":182,"column":15},"end":{"line":182,"column":39}}},"3":{"name":"(anonymous_3)","line":188,"loc":{"start":{"line":188,"column":17},"end":{"line":188,"column":32}}},"4":{"name":"(anonymous_4)","line":191,"loc":{"start":{"line":191,"column":50},"end":{"line":191,"column":62}}},"5":{"name":"(anonymous_5)","line":198,"loc":{"start":{"line":198,"column":22},"end":{"line":198,"column":33}}},"6":{"name":"(anonymous_6)","line":201,"loc":{"start":{"line":201,"column":15},"end":{"line":201,"column":26}}},"7":{"name":"(anonymous_7)","line":207,"loc":{"start":{"line":207,"column":20},"end":{"line":207,"column":31}}},"8":{"name":"(anonymous_8)","line":211,"loc":{"start":{"line":211,"column":22},"end":{"line":211,"column":33}}},"9":{"name":"(anonymous_9)","line":217,"loc":{"start":{"line":217,"column":20},"end":{"line":217,"column":31}}},"10":{"name":"(anonymous_10)","line":220,"loc":{"start":{"line":220,"column":22},"end":{"line":220,"column":33}}},"11":{"name":"(anonymous_11)","line":226,"loc":{"start":{"line":226,"column":16},"end":{"line":226,"column":27}}},"12":{"name":"(anonymous_12)","line":230,"loc":{"start":{"line":230,"column":20},"end":{"line":230,"column":31}}},"13":{"name":"(anonymous_13)","line":235,"loc":{"start":{"line":235,"column":16},"end":{"line":235,"column":27}}},"14":{"name":"(anonymous_14)","line":241,"loc":{"start":{"line":241,"column":20},"end":{"line":241,"column":31}}},"15":{"name":"(anonymous_15)","line":244,"loc":{"start":{"line":244,"column":17},"end":{"line":244,"column":28}}},"16":{"name":"(anonymous_16)","line":250,"loc":{"start":{"line":250,"column":21},"end":{"line":250,"column":32}}},"17":{"name":"(anonymous_17)","line":253,"loc":{"start":{"line":253,"column":22},"end":{"line":253,"column":33}}},"18":{"name":"(anonymous_18)","line":257,"loc":{"start":{"line":257,"column":17},"end":{"line":257,"column":28}}},"19":{"name":"(anonymous_19)","line":263,"loc":{"start":{"line":263,"column":17},"end":{"line":263,"column":28}}},"20":{"name":"(anonymous_20)","line":270,"loc":{"start":{"line":270,"column":21},"end":{"line":270,"column":32}}},"21":{"name":"(anonymous_21)","line":274,"loc":{"start":{"line":274,"column":18},"end":{"line":274,"column":29}}},"22":{"name":"(anonymous_22)","line":277,"loc":{"start":{"line":277,"column":20},"end":{"line":277,"column":31}}},"23":{"name":"(anonymous_23)","line":283,"loc":{"start":{"line":283,"column":21},"end":{"line":283,"column":35}}},"24":{"name":"(anonymous_24)","line":284,"loc":{"start":{"line":284,"column":27},"end":{"line":284,"column":38}}},"25":{"name":"(anonymous_25)","line":285,"loc":{"start":{"line":285,"column":36},"end":{"line":285,"column":52}}},"26":{"name":"(anonymous_26)","line":292,"loc":{"start":{"line":292,"column":52},"end":{"line":292,"column":88}}},"27":{"name":"(anonymous_27)","line":319,"loc":{"start":{"line":319,"column":28},"end":{"line":319,"column":52}}},"28":{"name":"(anonymous_28)","line":323,"loc":{"start":{"line":323,"column":29},"end":{"line":323,"column":40}}},"29":{"name":"(anonymous_29)","line":327,"loc":{"start":{"line":327,"column":33},"end":{"line":327,"column":59}}},"30":{"name":"(anonymous_30)","line":332,"loc":{"start":{"line":332,"column":40},"end":{"line":332,"column":58}}},"31":{"name":"(anonymous_31)","line":338,"loc":{"start":{"line":338,"column":41},"end":{"line":338,"column":59}}},"32":{"name":"(anonymous_32)","line":342,"loc":{"start":{"line":342,"column":36},"end":{"line":342,"column":47}}},"33":{"name":"(anonymous_33)","line":349,"loc":{"start":{"line":349,"column":37},"end":{"line":349,"column":51}}},"34":{"name":"(anonymous_34)","line":355,"loc":{"start":{"line":355,"column":36},"end":{"line":355,"column":53}}},"35":{"name":"(anonymous_35)","line":361,"loc":{"start":{"line":361,"column":34},"end":{"line":361,"column":51}}},"36":{"name":"(anonymous_36)","line":367,"loc":{"start":{"line":367,"column":41},"end":{"line":367,"column":58}}},"37":{"name":"(anonymous_37)","line":400,"loc":{"start":{"line":400,"column":35},"end":{"line":400,"column":46}}},"38":{"name":"(anonymous_38)","line":413,"loc":{"start":{"line":413,"column":77},"end":{"line":413,"column":91}}},"39":{"name":"(anonymous_39)","line":432,"loc":{"start":{"line":432,"column":50},"end":{"line":432,"column":83}}},"40":{"name":"(anonymous_40)","line":436,"loc":{"start":{"line":436,"column":38},"end":{"line":436,"column":49}}},"41":{"name":"(anonymous_41)","line":440,"loc":{"start":{"line":440,"column":41},"end":{"line":440,"column":57}}},"42":{"name":"(anonymous_42)","line":474,"loc":{"start":{"line":474,"column":42},"end":{"line":474,"column":53}}},"43":{"name":"(anonymous_43)","line":485,"loc":{"start":{"line":485,"column":39},"end":{"line":485,"column":82}}},"44":{"name":"(anonymous_44)","line":494,"loc":{"start":{"line":494,"column":42},"end":{"line":494,"column":58}}},"45":{"name":"(anonymous_45)","line":503,"loc":{"start":{"line":503,"column":32},"end":{"line":503,"column":56}}},"46":{"name":"(anonymous_46)","line":515,"loc":{"start":{"line":515,"column":19},"end":{"line":515,"column":30}}},"47":{"name":"(anonymous_47)","line":516,"loc":{"start":{"line":516,"column":16},"end":{"line":516,"column":30}}},"48":{"name":"(anonymous_48)","line":517,"loc":{"start":{"line":517,"column":17},"end":{"line":517,"column":31}}},"49":{"name":"(anonymous_49)","line":518,"loc":{"start":{"line":518,"column":15},"end":{"line":518,"column":26}}},"50":{"name":"(anonymous_50)","line":524,"loc":{"start":{"line":524,"column":37},"end":{"line":524,"column":51}}},"51":{"name":"(anonymous_51)","line":533,"loc":{"start":{"line":533,"column":34},"end":{"line":533,"column":53}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":17,"column":47}},"2":{"start":{"line":143,"column":0},"end":{"line":295,"column":1}},"3":{"start":{"line":144,"column":2},"end":{"line":144,"column":31}},"4":{"start":{"line":146,"column":2},"end":{"line":146,"column":38}},"5":{"start":{"line":147,"column":2},"end":{"line":147,"column":58}},"6":{"start":{"line":148,"column":2},"end":{"line":148,"column":30}},"7":{"start":{"line":149,"column":2},"end":{"line":149,"column":25}},"8":{"start":{"line":150,"column":2},"end":{"line":150,"column":25}},"9":{"start":{"line":151,"column":2},"end":{"line":151,"column":26}},"10":{"start":{"line":152,"column":2},"end":{"line":152,"column":34}},"11":{"start":{"line":153,"column":2},"end":{"line":153,"column":38}},"12":{"start":{"line":155,"column":2},"end":{"line":155,"column":55}},"13":{"start":{"line":156,"column":2},"end":{"line":156,"column":19}},"14":{"start":{"line":158,"column":2},"end":{"line":158,"column":26}},"15":{"start":{"line":159,"column":2},"end":{"line":174,"column":3}},"16":{"start":{"line":160,"column":4},"end":{"line":160,"column":42}},"17":{"start":{"line":162,"column":4},"end":{"line":165,"column":5}},"18":{"start":{"line":163,"column":6},"end":{"line":163,"column":73}},"19":{"start":{"line":164,"column":6},"end":{"line":164,"column":38}},"20":{"start":{"line":166,"column":4},"end":{"line":169,"column":5}},"21":{"start":{"line":167,"column":6},"end":{"line":167,"column":75}},"22":{"start":{"line":168,"column":6},"end":{"line":168,"column":39}},"23":{"start":{"line":170,"column":4},"end":{"line":173,"column":5}},"24":{"start":{"line":171,"column":6},"end":{"line":171,"column":71}},"25":{"start":{"line":172,"column":6},"end":{"line":172,"column":37}},"26":{"start":{"line":176,"column":2},"end":{"line":176,"column":28}},"27":{"start":{"line":177,"column":2},"end":{"line":177,"column":31}},"28":{"start":{"line":178,"column":2},"end":{"line":178,"column":22}},"29":{"start":{"line":179,"column":2},"end":{"line":179,"column":18}},"30":{"start":{"line":180,"column":2},"end":{"line":281,"column":4}},"31":{"start":{"line":183,"column":8},"end":{"line":183,"column":37}},"32":{"start":{"line":184,"column":8},"end":{"line":184,"column":26}},"33":{"start":{"line":189,"column":8},"end":{"line":196,"column":9}},"34":{"start":{"line":190,"column":10},"end":{"line":190,"column":27}},"35":{"start":{"line":191,"column":10},"end":{"line":191,"column":90}},"36":{"start":{"line":191,"column":64},"end":{"line":191,"column":86}},"37":{"start":{"line":192,"column":10},"end":{"line":192,"column":30}},"38":{"start":{"line":194,"column":10},"end":{"line":194,"column":28}},"39":{"start":{"line":195,"column":10},"end":{"line":195,"column":31}},"40":{"start":{"line":198,"column":35},"end":{"line":198,"column":56}},"41":{"start":{"line":202,"column":8},"end":{"line":202,"column":26}},"42":{"start":{"line":203,"column":8},"end":{"line":203,"column":29}},"43":{"start":{"line":208,"column":8},"end":{"line":208,"column":26}},"44":{"start":{"line":209,"column":8},"end":{"line":209,"column":29}},"45":{"start":{"line":212,"column":8},"end":{"line":212,"column":26}},"46":{"start":{"line":213,"column":8},"end":{"line":213,"column":34}},"47":{"start":{"line":218,"column":8},"end":{"line":218,"column":29}},"48":{"start":{"line":221,"column":8},"end":{"line":221,"column":26}},"49":{"start":{"line":222,"column":8},"end":{"line":222,"column":34}},"50":{"start":{"line":227,"column":8},"end":{"line":227,"column":30}},"51":{"start":{"line":228,"column":8},"end":{"line":228,"column":30}},"52":{"start":{"line":231,"column":8},"end":{"line":231,"column":30}},"53":{"start":{"line":236,"column":8},"end":{"line":236,"column":30}},"54":{"start":{"line":237,"column":8},"end":{"line":237,"column":27}},"55":{"start":{"line":242,"column":8},"end":{"line":242,"column":27}},"56":{"start":{"line":245,"column":8},"end":{"line":245,"column":26}},"57":{"start":{"line":246,"column":8},"end":{"line":246,"column":33}},"58":{"start":{"line":251,"column":8},"end":{"line":251,"column":31}},"59":{"start":{"line":254,"column":8},"end":{"line":254,"column":81}},"60":{"start":{"line":255,"column":8},"end":{"line":255,"column":31}},"61":{"start":{"line":258,"column":8},"end":{"line":258,"column":31}},"62":{"start":{"line":259,"column":8},"end":{"line":259,"column":31}},"63":{"start":{"line":264,"column":8},"end":{"line":264,"column":31}},"64":{"start":{"line":265,"column":8},"end":{"line":265,"column":26}},"65":{"start":{"line":266,"column":8},"end":{"line":266,"column":33}},"66":{"start":{"line":271,"column":8},"end":{"line":271,"column":26}},"67":{"start":{"line":272,"column":8},"end":{"line":272,"column":33}},"68":{"start":{"line":274,"column":31},"end":{"line":274,"column":56}},"69":{"start":{"line":278,"column":8},"end":{"line":278,"column":33}},"70":{"start":{"line":283,"column":2},"end":{"line":283,"column":90}},"71":{"start":{"line":283,"column":37},"end":{"line":283,"column":61}},"72":{"start":{"line":283,"column":62},"end":{"line":283,"column":87}},"73":{"start":{"line":284,"column":2},"end":{"line":284,"column":87}},"74":{"start":{"line":284,"column":40},"end":{"line":284,"column":58}},"75":{"start":{"line":284,"column":59},"end":{"line":284,"column":84}},"76":{"start":{"line":285,"column":2},"end":{"line":290,"column":5}},"77":{"start":{"line":286,"column":4},"end":{"line":289,"column":5}},"78":{"start":{"line":287,"column":6},"end":{"line":287,"column":47}},"79":{"start":{"line":288,"column":6},"end":{"line":288,"column":58}},"80":{"start":{"line":292,"column":2},"end":{"line":294,"column":5}},"81":{"start":{"line":293,"column":4},"end":{"line":293,"column":72}},"82":{"start":{"line":297,"column":0},"end":{"line":297,"column":40}},"83":{"start":{"line":300,"column":0},"end":{"line":300,"column":46}},"84":{"start":{"line":301,"column":0},"end":{"line":301,"column":52}},"85":{"start":{"line":305,"column":0},"end":{"line":305,"column":54}},"86":{"start":{"line":310,"column":0},"end":{"line":310,"column":54}},"87":{"start":{"line":319,"column":0},"end":{"line":321,"column":2}},"88":{"start":{"line":320,"column":2},"end":{"line":320,"column":37}},"89":{"start":{"line":323,"column":0},"end":{"line":325,"column":2}},"90":{"start":{"line":324,"column":2},"end":{"line":324,"column":26}},"91":{"start":{"line":327,"column":0},"end":{"line":330,"column":2}},"92":{"start":{"line":328,"column":2},"end":{"line":328,"column":34}},"93":{"start":{"line":329,"column":2},"end":{"line":329,"column":54}},"94":{"start":{"line":332,"column":0},"end":{"line":336,"column":2}},"95":{"start":{"line":333,"column":2},"end":{"line":333,"column":36}},"96":{"start":{"line":334,"column":2},"end":{"line":334,"column":36}},"97":{"start":{"line":335,"column":2},"end":{"line":335,"column":17}},"98":{"start":{"line":338,"column":0},"end":{"line":340,"column":2}},"99":{"start":{"line":339,"column":2},"end":{"line":339,"column":38}},"100":{"start":{"line":342,"column":0},"end":{"line":347,"column":2}},"101":{"start":{"line":343,"column":2},"end":{"line":345,"column":3}},"102":{"start":{"line":344,"column":4},"end":{"line":344,"column":54}},"103":{"start":{"line":344,"column":43},"end":{"line":344,"column":54}},"104":{"start":{"line":346,"column":2},"end":{"line":346,"column":102}},"105":{"start":{"line":349,"column":0},"end":{"line":353,"column":2}},"106":{"start":{"line":350,"column":2},"end":{"line":350,"column":37}},"107":{"start":{"line":351,"column":2},"end":{"line":351,"column":69}},"108":{"start":{"line":352,"column":2},"end":{"line":352,"column":23}},"109":{"start":{"line":355,"column":0},"end":{"line":359,"column":2}},"110":{"start":{"line":356,"column":2},"end":{"line":356,"column":46}},"111":{"start":{"line":357,"column":2},"end":{"line":357,"column":30}},"112":{"start":{"line":358,"column":2},"end":{"line":358,"column":21}},"113":{"start":{"line":361,"column":0},"end":{"line":365,"column":2}},"114":{"start":{"line":362,"column":2},"end":{"line":362,"column":43}},"115":{"start":{"line":363,"column":2},"end":{"line":363,"column":52}},"116":{"start":{"line":364,"column":2},"end":{"line":364,"column":32}},"117":{"start":{"line":367,"column":0},"end":{"line":398,"column":2}},"118":{"start":{"line":368,"column":2},"end":{"line":368,"column":43}},"119":{"start":{"line":369,"column":2},"end":{"line":396,"column":3}},"120":{"start":{"line":370,"column":4},"end":{"line":370,"column":49}},"121":{"start":{"line":371,"column":4},"end":{"line":371,"column":28}},"122":{"start":{"line":373,"column":4},"end":{"line":393,"column":5}},"123":{"start":{"line":374,"column":6},"end":{"line":374,"column":46}},"124":{"start":{"line":376,"column":6},"end":{"line":376,"column":103}},"125":{"start":{"line":377,"column":6},"end":{"line":379,"column":7}},"126":{"start":{"line":378,"column":8},"end":{"line":378,"column":37}},"127":{"start":{"line":381,"column":6},"end":{"line":391,"column":7}},"128":{"start":{"line":382,"column":8},"end":{"line":382,"column":35}},"129":{"start":{"line":383,"column":8},"end":{"line":383,"column":31}},"130":{"start":{"line":385,"column":8},"end":{"line":385,"column":52}},"131":{"start":{"line":386,"column":8},"end":{"line":388,"column":9}},"132":{"start":{"line":387,"column":10},"end":{"line":387,"column":65}},"133":{"start":{"line":389,"column":8},"end":{"line":389,"column":106}},"134":{"start":{"line":390,"column":8},"end":{"line":390,"column":37}},"135":{"start":{"line":392,"column":6},"end":{"line":392,"column":34}},"136":{"start":{"line":395,"column":4},"end":{"line":395,"column":16}},"137":{"start":{"line":397,"column":2},"end":{"line":397,"column":15}},"138":{"start":{"line":400,"column":0},"end":{"line":430,"column":2}},"139":{"start":{"line":401,"column":2},"end":{"line":401,"column":19}},"140":{"start":{"line":402,"column":2},"end":{"line":429,"column":3}},"141":{"start":{"line":403,"column":4},"end":{"line":407,"column":5}},"142":{"start":{"line":404,"column":6},"end":{"line":404,"column":64}},"143":{"start":{"line":404,"column":58},"end":{"line":404,"column":64}},"144":{"start":{"line":405,"column":11},"end":{"line":407,"column":5}},"145":{"start":{"line":406,"column":6},"end":{"line":406,"column":43}},"146":{"start":{"line":406,"column":37},"end":{"line":406,"column":43}},"147":{"start":{"line":409,"column":4},"end":{"line":418,"column":5}},"148":{"start":{"line":410,"column":6},"end":{"line":410,"column":45}},"149":{"start":{"line":412,"column":6},"end":{"line":412,"column":22}},"150":{"start":{"line":413,"column":6},"end":{"line":415,"column":9}},"151":{"start":{"line":414,"column":8},"end":{"line":414,"column":30}},"152":{"start":{"line":417,"column":6},"end":{"line":417,"column":12}},"153":{"start":{"line":420,"column":4},"end":{"line":420,"column":22}},"154":{"start":{"line":420,"column":16},"end":{"line":420,"column":22}},"155":{"start":{"line":421,"column":4},"end":{"line":428,"column":5}},"156":{"start":{"line":422,"column":6},"end":{"line":422,"column":36}},"157":{"start":{"line":423,"column":11},"end":{"line":428,"column":5}},"158":{"start":{"line":424,"column":6},"end":{"line":424,"column":37}},"159":{"start":{"line":425,"column":6},"end":{"line":425,"column":12}},"160":{"start":{"line":427,"column":6},"end":{"line":427,"column":49}},"161":{"start":{"line":432,"column":0},"end":{"line":434,"column":2}},"162":{"start":{"line":433,"column":2},"end":{"line":433,"column":14}},"163":{"start":{"line":436,"column":0},"end":{"line":438,"column":2}},"164":{"start":{"line":437,"column":2},"end":{"line":437,"column":34}},"165":{"start":{"line":440,"column":0},"end":{"line":483,"column":2}},"166":{"start":{"line":441,"column":2},"end":{"line":441,"column":29}},"167":{"start":{"line":442,"column":2},"end":{"line":444,"column":3}},"168":{"start":{"line":443,"column":4},"end":{"line":443,"column":27}},"169":{"start":{"line":446,"column":2},"end":{"line":446,"column":19}},"170":{"start":{"line":447,"column":2},"end":{"line":447,"column":27}},"171":{"start":{"line":448,"column":2},"end":{"line":451,"column":3}},"172":{"start":{"line":449,"column":4},"end":{"line":450,"column":105}},"173":{"start":{"line":452,"column":2},"end":{"line":455,"column":3}},"174":{"start":{"line":453,"column":4},"end":{"line":454,"column":105}},"175":{"start":{"line":457,"column":2},"end":{"line":459,"column":3}},"176":{"start":{"line":458,"column":4},"end":{"line":458,"column":40}},"177":{"start":{"line":462,"column":2},"end":{"line":465,"column":14}},"178":{"start":{"line":466,"column":2},"end":{"line":466,"column":24}},"179":{"start":{"line":467,"column":2},"end":{"line":467,"column":34}},"180":{"start":{"line":468,"column":2},"end":{"line":479,"column":3}},"181":{"start":{"line":469,"column":4},"end":{"line":469,"column":78}},"182":{"start":{"line":470,"column":4},"end":{"line":470,"column":82}},"183":{"start":{"line":472,"column":4},"end":{"line":472,"column":78}},"184":{"start":{"line":473,"column":4},"end":{"line":473,"column":20}},"185":{"start":{"line":474,"column":4},"end":{"line":478,"column":35}},"186":{"start":{"line":475,"column":6},"end":{"line":477,"column":7}},"187":{"start":{"line":476,"column":8},"end":{"line":476,"column":52}},"188":{"start":{"line":481,"column":2},"end":{"line":481,"column":40}},"189":{"start":{"line":482,"column":2},"end":{"line":482,"column":46}},"190":{"start":{"line":482,"column":27},"end":{"line":482,"column":46}},"191":{"start":{"line":485,"column":0},"end":{"line":492,"column":2}},"192":{"start":{"line":486,"column":2},"end":{"line":486,"column":19}},"193":{"start":{"line":487,"column":2},"end":{"line":489,"column":3}},"194":{"start":{"line":488,"column":4},"end":{"line":488,"column":63}},"195":{"start":{"line":491,"column":2},"end":{"line":491,"column":68}},"196":{"start":{"line":494,"column":0},"end":{"line":501,"column":2}},"197":{"start":{"line":495,"column":2},"end":{"line":497,"column":3}},"198":{"start":{"line":496,"column":4},"end":{"line":496,"column":79}},"199":{"start":{"line":499,"column":2},"end":{"line":499,"column":30}},"200":{"start":{"line":500,"column":2},"end":{"line":500,"column":26}},"201":{"start":{"line":503,"column":0},"end":{"line":522,"column":2}},"202":{"start":{"line":504,"column":2},"end":{"line":504,"column":25}},"203":{"start":{"line":505,"column":2},"end":{"line":505,"column":18}},"204":{"start":{"line":506,"column":2},"end":{"line":506,"column":41}},"205":{"start":{"line":507,"column":2},"end":{"line":507,"column":72}},"206":{"start":{"line":509,"column":2},"end":{"line":511,"column":3}},"207":{"start":{"line":510,"column":4},"end":{"line":510,"column":143}},"208":{"start":{"line":513,"column":2},"end":{"line":513,"column":53}},"209":{"start":{"line":514,"column":2},"end":{"line":521,"column":7}},"210":{"start":{"line":515,"column":32},"end":{"line":515,"column":60}},"211":{"start":{"line":516,"column":32},"end":{"line":516,"column":55}},"212":{"start":{"line":517,"column":33},"end":{"line":517,"column":56}},"213":{"start":{"line":519,"column":6},"end":{"line":519,"column":23}},"214":{"start":{"line":520,"column":6},"end":{"line":520,"column":31}},"215":{"start":{"line":524,"column":0},"end":{"line":531,"column":2}},"216":{"start":{"line":525,"column":2},"end":{"line":525,"column":19}},"217":{"start":{"line":526,"column":2},"end":{"line":530,"column":3}},"218":{"start":{"line":527,"column":4},"end":{"line":527,"column":27}},"219":{"start":{"line":529,"column":4},"end":{"line":529,"column":26}},"220":{"start":{"line":533,"column":0},"end":{"line":553,"column":2}},"221":{"start":{"line":534,"column":2},"end":{"line":534,"column":34}},"222":{"start":{"line":535,"column":2},"end":{"line":535,"column":25}},"223":{"start":{"line":536,"column":2},"end":{"line":536,"column":26}},"224":{"start":{"line":537,"column":2},"end":{"line":537,"column":19}},"225":{"start":{"line":538,"column":2},"end":{"line":538,"column":22}},"226":{"start":{"line":539,"column":2},"end":{"line":544,"column":3}},"227":{"start":{"line":540,"column":4},"end":{"line":540,"column":20}},"228":{"start":{"line":541,"column":4},"end":{"line":543,"column":5}},"229":{"start":{"line":542,"column":6},"end":{"line":542,"column":26}},"230":{"start":{"line":546,"column":2},"end":{"line":549,"column":3}},"231":{"start":{"line":547,"column":4},"end":{"line":547,"column":43}},"232":{"start":{"line":548,"column":4},"end":{"line":548,"column":40}},"233":{"start":{"line":551,"column":2},"end":{"line":551,"column":25}},"234":{"start":{"line":552,"column":2},"end":{"line":552,"column":43}},"235":{"start":{"line":555,"column":0},"end":{"line":555,"column":28}}},"branchMap":{"1":{"line":159,"type":"if","locations":[{"start":{"line":159,"column":2},"end":{"line":159,"column":2}},{"start":{"line":159,"column":2},"end":{"line":159,"column":2}}]},"2":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":4},"end":{"line":162,"column":4}},{"start":{"line":162,"column":4},"end":{"line":162,"column":4}}]},"3":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":4},"end":{"line":166,"column":4}},{"start":{"line":166,"column":4},"end":{"line":166,"column":4}}]},"4":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":4},"end":{"line":170,"column":4}},{"start":{"line":170,"column":4},"end":{"line":170,"column":4}}]},"5":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":8},"end":{"line":189,"column":8}},{"start":{"line":189,"column":8},"end":{"line":189,"column":8}}]},"6":{"line":286,"type":"if","locations":[{"start":{"line":286,"column":4},"end":{"line":286,"column":4}},{"start":{"line":286,"column":4},"end":{"line":286,"column":4}}]},"7":{"line":344,"type":"if","locations":[{"start":{"line":344,"column":4},"end":{"line":344,"column":4}},{"start":{"line":344,"column":4},"end":{"line":344,"column":4}}]},"8":{"line":362,"type":"binary-expr","locations":[{"start":{"line":362,"column":11},"end":{"line":362,"column":17}},{"start":{"line":362,"column":21},"end":{"line":362,"column":42}}]},"9":{"line":368,"type":"binary-expr","locations":[{"start":{"line":368,"column":11},"end":{"line":368,"column":17}},{"start":{"line":368,"column":21},"end":{"line":368,"column":42}}]},"10":{"line":369,"type":"if","locations":[{"start":{"line":369,"column":2},"end":{"line":369,"column":2}},{"start":{"line":369,"column":2},"end":{"line":369,"column":2}}]},"11":{"line":373,"type":"if","locations":[{"start":{"line":373,"column":4},"end":{"line":373,"column":4}},{"start":{"line":373,"column":4},"end":{"line":373,"column":4}}]},"12":{"line":377,"type":"if","locations":[{"start":{"line":377,"column":6},"end":{"line":377,"column":6}},{"start":{"line":377,"column":6},"end":{"line":377,"column":6}}]},"13":{"line":381,"type":"if","locations":[{"start":{"line":381,"column":6},"end":{"line":381,"column":6}},{"start":{"line":381,"column":6},"end":{"line":381,"column":6}}]},"14":{"line":386,"type":"if","locations":[{"start":{"line":386,"column":8},"end":{"line":386,"column":8}},{"start":{"line":386,"column":8},"end":{"line":386,"column":8}}]},"15":{"line":403,"type":"if","locations":[{"start":{"line":403,"column":4},"end":{"line":403,"column":4}},{"start":{"line":403,"column":4},"end":{"line":403,"column":4}}]},"16":{"line":403,"type":"binary-expr","locations":[{"start":{"line":403,"column":8},"end":{"line":403,"column":17}},{"start":{"line":403,"column":21},"end":{"line":403,"column":46}}]},"17":{"line":404,"type":"if","locations":[{"start":{"line":404,"column":6},"end":{"line":404,"column":6}},{"start":{"line":404,"column":6},"end":{"line":404,"column":6}}]},"18":{"line":405,"type":"if","locations":[{"start":{"line":405,"column":11},"end":{"line":405,"column":11}},{"start":{"line":405,"column":11},"end":{"line":405,"column":11}}]},"19":{"line":405,"type":"binary-expr","locations":[{"start":{"line":405,"column":15},"end":{"line":405,"column":25}},{"start":{"line":405,"column":29},"end":{"line":405,"column":50}}]},"20":{"line":406,"type":"if","locations":[{"start":{"line":406,"column":6},"end":{"line":406,"column":6}},{"start":{"line":406,"column":6},"end":{"line":406,"column":6}}]},"21":{"line":420,"type":"if","locations":[{"start":{"line":420,"column":4},"end":{"line":420,"column":4}},{"start":{"line":420,"column":4},"end":{"line":420,"column":4}}]},"22":{"line":421,"type":"if","locations":[{"start":{"line":421,"column":4},"end":{"line":421,"column":4}},{"start":{"line":421,"column":4},"end":{"line":421,"column":4}}]},"23":{"line":423,"type":"if","locations":[{"start":{"line":423,"column":11},"end":{"line":423,"column":11}},{"start":{"line":423,"column":11},"end":{"line":423,"column":11}}]},"24":{"line":442,"type":"if","locations":[{"start":{"line":442,"column":2},"end":{"line":442,"column":2}},{"start":{"line":442,"column":2},"end":{"line":442,"column":2}}]},"25":{"line":448,"type":"if","locations":[{"start":{"line":448,"column":2},"end":{"line":448,"column":2}},{"start":{"line":448,"column":2},"end":{"line":448,"column":2}}]},"26":{"line":449,"type":"binary-expr","locations":[{"start":{"line":449,"column":12},"end":{"line":449,"column":17}},{"start":{"line":450,"column":6},"end":{"line":450,"column":104}}]},"27":{"line":452,"type":"if","locations":[{"start":{"line":452,"column":2},"end":{"line":452,"column":2}},{"start":{"line":452,"column":2},"end":{"line":452,"column":2}}]},"28":{"line":453,"type":"binary-expr","locations":[{"start":{"line":453,"column":12},"end":{"line":453,"column":17}},{"start":{"line":454,"column":6},"end":{"line":454,"column":104}}]},"29":{"line":457,"type":"if","locations":[{"start":{"line":457,"column":2},"end":{"line":457,"column":2}},{"start":{"line":457,"column":2},"end":{"line":457,"column":2}}]},"30":{"line":468,"type":"if","locations":[{"start":{"line":468,"column":2},"end":{"line":468,"column":2}},{"start":{"line":468,"column":2},"end":{"line":468,"column":2}}]},"31":{"line":468,"type":"binary-expr","locations":[{"start":{"line":468,"column":6},"end":{"line":468,"column":34}},{"start":{"line":468,"column":38},"end":{"line":468,"column":78}}]},"32":{"line":475,"type":"if","locations":[{"start":{"line":475,"column":6},"end":{"line":475,"column":6}},{"start":{"line":475,"column":6},"end":{"line":475,"column":6}}]},"33":{"line":475,"type":"binary-expr","locations":[{"start":{"line":475,"column":10},"end":{"line":475,"column":24}},{"start":{"line":475,"column":28},"end":{"line":475,"column":43}},{"start":{"line":475,"column":47},"end":{"line":475,"column":105}}]},"34":{"line":482,"type":"if","locations":[{"start":{"line":482,"column":2},"end":{"line":482,"column":2}},{"start":{"line":482,"column":2},"end":{"line":482,"column":2}}]},"35":{"line":487,"type":"if","locations":[{"start":{"line":487,"column":2},"end":{"line":487,"column":2}},{"start":{"line":487,"column":2},"end":{"line":487,"column":2}}]},"36":{"line":495,"type":"if","locations":[{"start":{"line":495,"column":2},"end":{"line":495,"column":2}},{"start":{"line":495,"column":2},"end":{"line":495,"column":2}}]},"37":{"line":509,"type":"if","locations":[{"start":{"line":509,"column":2},"end":{"line":509,"column":2}},{"start":{"line":509,"column":2},"end":{"line":509,"column":2}}]},"38":{"line":526,"type":"if","locations":[{"start":{"line":526,"column":2},"end":{"line":526,"column":2}},{"start":{"line":526,"column":2},"end":{"line":526,"column":2}}]},"39":{"line":539,"type":"if","locations":[{"start":{"line":539,"column":2},"end":{"line":539,"column":2}},{"start":{"line":539,"column":2},"end":{"line":539,"column":2}}]},"40":{"line":541,"type":"if","locations":[{"start":{"line":541,"column":4},"end":{"line":541,"column":4}},{"start":{"line":541,"column":4},"end":{"line":541,"column":4}}]},"41":{"line":546,"type":"if","locations":[{"start":{"line":546,"column":2},"end":{"line":546,"column":2}},{"start":{"line":546,"column":2},"end":{"line":546,"column":2}}]}},"code":["'use strict';","var EventEmitter = require('events').EventEmitter,","    fs = require('fs'),","    util = require('util'),","","    debug = require('debug')('amqp10:connection'),","    debugTRACE = require('debug')('amqp10:trace'),","    BufferList = require('bl'),","    StateMachine = require('stately.js'),","","    constants = require('./constants'),","    errors = require('./errors'),","    frames = require('./frames'),","    u = require('./utilities'),","","    ErrorCondition = require('./types/error_condition'),","    TransportProvider = require('./transport');","","","","/**"," * Connection states, from AMQP 1.0 spec:"," *"," <dl>"," <dt>START</dt>"," <dd><p>In this state a Connection exists, but nothing has been sent or received. This is the"," state an implementation would be in immediately after performing a socket connect or"," socket accept.</p></dd>",""," <dt>HDR-RCVD</dt>"," <dd><p>In this state the Connection header has been received from our peer, but we have not"," yet sent anything.</p></dd>",""," <dt>HDR-SENT</dt>"," <dd><p>In this state the Connection header has been sent to our peer, but we have not yet"," received anything.</p></dd>",""," <dt>OPEN-PIPE</dt>"," <dd><p>In this state we have sent both the Connection header and the open frame, but we have not yet received anything."," </p></dd>",""," <dt>OC-PIPE</dt>"," <dd><p>In this state we have sent the Connection header, the open"," frame, any pipelined Connection traffic, and the close frame,"," but we have not yet received anything.</p></dd>",""," <dt>OPEN-RCVD</dt>"," <dd><p>In this state we have sent and received the Connection header, and received an"," open frame from our peer, but have not yet sent an"," open frame.</p></dd>",""," <dt>OPEN-SENT</dt>"," <dd><p>In this state we have sent and received the Connection header, and sent an"," open frame to our peer, but have not yet received an"," open frame to our peer, but have not yet received an"," open frame.</p></dd>",""," <dt>CLOSE-PIPE</dt>"," <dd><p>In this state we have send and received the Connection header, sent an"," open frame, any pipelined Connection traffic, and the"," close frame, but we have not yet received an"," open frame.</p></dd>",""," <dt>OPENED</dt>"," <dd><p>In this state the Connection header and the open frame"," have both been sent and received.</p></dd>",""," <dt>CLOSE-RCVD</dt>"," <dd><p>In this state we have received a close frame indicating"," that our partner has initiated a close. This means we will never have to read anything"," more from this Connection, however we can continue to write frames onto the Connection."," If desired, an implementation could do a TCP half-close at this point to shutdown the"," read side of the Connection.</p></dd>",""," <dt>CLOSE-SENT</dt>"," <dd><p>In this state we have sent a close frame to our partner."," It is illegal to write anything more onto the Connection, however there may still be"," incoming frames. If desired, an implementation could do a TCP half-close at this point"," to shutdown the write side of the Connection.</p></dd>",""," <dt>DISCARDING</dt>"," <dd><p>The DISCARDING state is a variant of the CLOSE_SENT state where the"," close is triggered by an error. In this case any incoming frames on"," the connection MUST be silently discarded until the peer's close frame"," is received.</p></dd>",""," <dt>END</dt>"," <dd><p>In this state it is illegal for either endpoint to write anything more onto the"," Connection. The Connection may be safely closed and discarded.</p></dd>"," </dl>"," *"," * Connection negotiation state diagram from AMQP 1.0 spec:"," *"," <pre>","              R:HDR +=======+ S:HDR             R:HDR[!=S:HDR]","           +--------| START |-----+    +--------------------------------+","           |        +=======+     |    |                                |","          \\\\|/                    \\\\|/   |                                |","      +==========+             +==========+ S:OPEN                      |"," +----| HDR-RCVD |             | HDR-SENT |------+                      |"," |    +==========+             +==========+      |      R:HDR[!=S:HDR]  |"," |   S:HDR |                      | R:HDR        |    +-----------------+"," |         +--------+      +------+              |    |                 |"," |                 \\\\|/    \\\\|/                   \\\\|/   |                 |"," |                +==========+               +-----------+ S:CLOSE      |"," |                | HDR-EXCH |               | OPEN-PIPE |----+         |"," |                +==========+               +-----------+    |         |"," |           R:OPEN |      | S:OPEN              | R:HDR      |         |"," |         +--------+      +------+      +-------+            |         |"," |        \\\\|/                    \\\\|/    \\\\|/                  \\\\|/        |"," |   +===========+             +===========+ S:CLOSE       +---------+  |"," |   | OPEN-RCVD |             | OPEN-SENT |-----+         | OC-PIPE |--+"," |   +===========+             +===========+     |         +---------+  |"," |  S:OPEN |                      | R:OPEN      \\\\|/           | R:HDR   |"," |         |       +========+     |          +------------+   |         |"," |         +----- >| OPENED |< ---+          | CLOSE-PIPE |< -+         |"," |                 +========+                +------------+             |"," |           R:CLOSE |    | S:CLOSE              | R:OPEN               |"," |         +---------+    +-------+              |                      |"," |        \\\\|/                    \\\\|/             |                      |"," |   +============+          +=============+     |                      |"," |   | CLOSE-RCVD |          | CLOSE-SENT* |< ---+                      |"," |   +============+          +=============+                            |"," | S:CLOSE |                      | R:CLOSE                             |"," |         |         +=====+      |                                     |"," |         +------- >| END |< ----+                                     |"," |                   +=====+                                            |"," |                     /|\\                                              |"," |    S:HDR[!=R:HDR]    |                R:HDR[!=S:HDR]                 |"," +----------------------+-----------------------------------------------+",""," </pre>"," *"," * R:<b>CTRL</b> = Received <b>CTRL</b>"," *"," * S:<b>CTRL</b> = Sent <b>CTRL</b>"," *"," * Also could be DISCARDING if an error condition triggered the CLOSE"," *"," * @param connectPolicy ConnectPolicy from a Policy instance"," * @constructor"," */","function Connection(connectPolicy) {","  Connection.super_.call(this);","","  var options = connectPolicy.options;","  u.assertArguments(options, ['containerId', 'hostname']);","  this.policy = connectPolicy;","  this._transport = null;","  this.connected = false;","  this.connectedTo = null;","  this._buffer = new BufferList();","  this._heartbeatInterval = undefined;","","  this.local = { open: new frames.OpenFrame(options) };","  this.remote = {};","","  this._sslOptions = null;","  if (options.sslOptions) {","    this._sslOptions = options.sslOptions;","","    if (options.sslOptions.keyFile) {","      this._sslOptions.key = fs.readFileSync(options.sslOptions.keyFile);","      delete this._sslOptions.keyFile;","    }","    if (options.sslOptions.certFile) {","      this._sslOptions.cert = fs.readFileSync(options.sslOptions.certFile);","      delete this._sslOptions.certFile;","    }","    if (options.sslOptions.caFile) {","      this._sslOptions.ca = fs.readFileSync(options.sslOptions.caFile);","      delete this._sslOptions.caFile;","    }","  }","","  this._lastOutgoing = null; // To track whether heartbeat frame required.","  this._receivedHeader = false;","  this._sessions = {};","  var self = this;","  var stateMachine = {","    'DISCONNECTED': {","      connect: function(address, sasl) {","        self._connect(address, sasl);","        return this.START;","      }","    },","    'START': {","      connected: function(sasl) {","        if (sasl) {","          self.sasl = sasl;","          self.sasl.negotiate(self, self.address, function(e) { self._saslComplete(e); });","          return this.IN_SASL;","        } else {","          self.sendHeader();","          return this.HDR_SENT;","        }","      },","      headerReceived: function() { return this.HDR_RCVD; }","    },","    'IN_SASL': {","      success: function() {","        self.sendHeader();","        return this.HDR_SENT;","      }","    },","    'HDR_RCVD': {","      validVersion: function() {","        self.sendHeader();","        return this.HDR_EXCH;","      },","      invalidVersion: function() {","        self._terminate();","        return this.DISCONNECTING;","      }","    },","    'HDR_SENT': {","      validVersion: function() {","        return this.HDR_EXCH;","      },","      invalidVersion: function() {","        self._terminate();","        return this.DISCONNECTING;","      }","    },","    'HDR_EXCH': {","      sendOpen: function() {","        self._sendOpenFrame();","        return this.OPEN_SENT;","      },","      openReceived: function() {","        return this.OPEN_RCVD;","      }","    },","    'OPEN_RCVD': {","      sendOpen: function() {","        self._sendOpenFrame();","        return this.OPENED;","      }","    },","    'OPEN_SENT': {","      openReceived: function() {","        return this.OPENED;","      },","      sendClose: function() {","        self._terminate();","        return this.DISCONNECTED;","      }","    },","    'OPENED': {","      closeReceived: function() {","        return this.CLOSE_RCVD;","      },","      invalidOptions: function() {","        self._sendCloseFrame(ErrorCondition.ConnectionForced, 'Invalid options');","        return this.CLOSE_SENT;","      },","      sendClose: function() {","        self._sendCloseFrame();","        return this.CLOSE_SENT;","      }","    },","    'CLOSE_RCVD': {","      sendClose: function() {","        self._sendCloseFrame();","        self._terminate();","        return this.DISCONNECTED;","      }","    },","    'CLOSE_SENT': {","      closeReceived: function() {","        self._terminate();","        return this.DISCONNECTED;","      },","      disconnect: function() { return this.DISCONNECTED; }","    },","    'DISCONNECTING': {","      disconnected: function() {","        return this.DISCONNECTED;","      }","    }","  };","","  var errorHandler = function(err) { self._processError(err); return this.DISCONNECTED; };","  var terminationHandler = function() { self._terminate(); return this.DISCONNECTED; };","  Object.keys(stateMachine).forEach(function(state) {","    if (state !== 'DISCONNECTED') {","      stateMachine[state].error = errorHandler;","      stateMachine[state].terminated = terminationHandler;","    }","  });","","  this.connSM = new StateMachine(stateMachine).bind(function(event, oldState, newState) {","    debug('stateChange:', oldState, '=>', newState, ', reason:', event);","  });","}","","util.inherits(Connection, EventEmitter);","","// Events","Connection.Connected = 'connection:connected';","Connection.Disconnected = 'connection:disconnected';","","// On receipt of a frame not handled internally (e.g. not a BEGIN/CLOSE/SASL).","// Provides received frame as an argument.","Connection.FrameReceived = 'connection:frameReceived';","","// Since 'error' events are \"special\" in Node (as in halt-the-process special),","// using a custom event for errors we receive from the other endpoint. Provides","// received AMQPError as an argument.","Connection.ErrorReceived = 'connection:errorReceived';","","","/**"," * Open a connection to the given (parsed) address (@see {@link AMQPClient})."," *"," * @param address   Contains at least protocol, host and port, may contain user/pass, path."," * @param sasl      If given, contains a \"negotiate\" method that, given address and a callback, will run through SASL negotiations."," */","Connection.prototype.open = function(address, sasl) {","  this.connSM.connect(address, sasl);","};","","Connection.prototype.close = function() {","  this.connSM.sendClose();","};","","Connection.prototype.sendFrame = function(frame, callback) {","  this._lastOutgoing = Date.now();","  frames.writeFrame(frame, this._transport, callback);","};","","Connection.prototype.associateSession = function(session) {","  var channel = this._nextChannel();","  this._sessions[channel] = session;","  return channel;","};","","Connection.prototype.dissociateSession = function(channel) {","  this._sessions[channel] = undefined;","};","","Connection.prototype._nextChannel = function() {","  for (var cid = 1; cid <= this.remote.open.channelMax; ++cid) {","    if (this._sessions[cid] === undefined) return cid;","  }","  throw new errors.OverCapacityError('Out of available ' + this.remote.open.channelMax + ' channels');","};","","Connection.prototype._processError = function(err) {","  debug('Error from socket: ' + err);","  this.emit(Connection.ErrorReceived, errors.wrapProtocolError(err));","  this._terminate(err);","};","","Connection.prototype._receiveData = function(buffer) {","  debugTRACE('Rx: ' + buffer.toString('hex'));","  this._buffer.append(buffer);","  this._receiveAny();","};","","Connection.prototype.sendHeader = function(header) {","  header = header || constants.amqpVersion;","  debug('Sending Header ' + header.toString('hex'));","  this._transport.write(header);","};","","Connection.prototype._tryReceiveHeader = function(header) {","  header = header || constants.amqpVersion;","  if (this._buffer.length >= header.length) {","    var serverVersion = this._buffer.slice(0, 8);","    this._buffer.consume(8);","","    if (this.sasl) {","      this.sasl.headerReceived(serverVersion);","    } else {","      debug('Server AMQP Version: ' + serverVersion.toString('hex') + ' vs ' + header.toString('hex'));","      if (this.connSM.getMachineState() === 'START') {","        this.connSM.headerReceived();","      }","","      if (u.bufferEquals(serverVersion, constants.amqpVersion)) {","        this.connSM.validVersion();","        this.connSM.sendOpen();","      } else {","        var msg = 'Invalid AMQP version received: ';","        if (u.bufferEquals(serverVersion, constants.saslVersion)) {","          msg = 'Credentials Expected - SASL version received: ';","        }","        this.emit(Connection.ErrorReceived, new errors.VersionError(msg + serverVersion.toString('hex')));","        this.connSM.invalidVersion();","      }","      this._receivedHeader = true;","    }","","    return true;","  }","  return false;","};","","Connection.prototype._receiveAny = function() {","  var frame = null;","  while (true) {","    if (this.sasl && !this.sasl.receivedHeader) {","      if (!this._tryReceiveHeader(constants.saslVersion)) break;","    } else if (!this.sasl && !this._receivedHeader) {","      if (!this._tryReceiveHeader()) break;","    }","","    try {","      frame = frames.readFrame(this._buffer);","    } catch (e) {","      var self = this;","      this._sendCloseFrame(ErrorCondition.ConnectionFramingError, e.message, function(err) {  // jshint ignore:line","        self._terminate(true);","      });","","      break;","    }","","    if (!frame) break;","    if (frame instanceof frames.OpenFrame) {","      this._processOpenFrame(frame);","    } else if (frame instanceof frames.CloseFrame) {","      this._processCloseFrame(frame);","      break;","    } else {","      this.emit(Connection.FrameReceived, frame);","    }","  }","};","","Connection.prototype._ensureLocaleCompatibility = function(lhsLocales, rhsLocales) {","  return true;","};","","Connection.prototype._sendOpenFrame = function() {","  this.sendFrame(this.local.open);","};","","Connection.prototype._processOpenFrame = function(frame) {","  this.connSM.openReceived();","  if (this.connSM.getMachineState() === 'OPEN_RCVD') {","    this.connSM.sendOpen();","  }","","  var valid = true;","  this.remote.open = frame;","  if (this.remote.open.outgoingLocales) {","    valid = valid &&","      this._ensureLocaleCompatibility(this.local.open.incomingLocales, this.remote.open.outgoingLocales);","  }","  if (this.remote.open.incomingLocales) {","    valid = valid &&","      this._ensureLocaleCompatibility(this.local.open.outgoingLocales, this.remote.open.incomingLocales);","  }","","  if (!valid) {","    return this.connSM.invalidOptions();","  }","","  // We're connected.","  debug('Connected with params { maxFrameSize=', this.remote.open.maxFrameSize,","        ', channelMax=', this.remote.open.channelMax, ', idleTimeout=',","        this.local.open.idleTimeout, ', remoteIdleTimeout=', this.remote.open.idleTimeout,","        ' }');","  this.connected = true;","  this._lastOutgoing = Date.now();","  if (this.remote.open.idleTimeout && Number(this.remote.open.idleTimeout) > 0) {","    var maxTimeBeforeHeartbeat = Math.floor(this.remote.open.idleTimeout / 2);","    var timeBetweenHeartbeatChecks = Math.floor(this.remote.open.idleTimeout / 8);","","    debug('Setting heartbeat check timeout to ' + timeBetweenHeartbeatChecks);","    var self = this;","    this._heartbeatInterval = setInterval(function() {","      if (self.connected && self._transport && (Date.now() - self._lastOutgoing) > maxTimeBeforeHeartbeat) {","        self.sendFrame(new frames.HeartbeatFrame());","      }","    }, timeBetweenHeartbeatChecks);","  }","","  this.emit(Connection.Connected, this);","  if (this._buffer.length) this._receiveAny(); // Might have more frames pending.","};","","Connection.prototype._sendCloseFrame = function(condition, description, callback) {","  var error = null;","  if (!!condition) {","    error = { condition: condition, description: description };","  }","","  this.sendFrame(new frames.CloseFrame({ error: error }), callback);","};","","Connection.prototype._processCloseFrame = function(frame) {","  if (frame.error) {","    this.emit(Connection.ErrorReceived, errors.wrapProtocolError(frame.error));","  }","","  this.connSM.closeReceived();","  this.connSM.sendClose();","};","","Connection.prototype._connect = function(address, sasl) {","  this.address = address;","  var self = this;","  self.dataHandler = self._receiveHeader;","  self._transport = TransportProvider.getTransportFor(address.protocol);","","  if (!self._transport) {","    throw new Error('Invalid protocol, no associated transport. Please use client.register(protocol, transport) to register a new transport.');","  }","","  self._transport.connect(address, self._sslOptions);","  self._transport","    .on('connect', function() { self.connSM.connected(sasl); })","    .on('data', function(buf) { self._receiveData(buf); })","    .on('error', function(err) { self.connSM.error(err); })","    .on('end', function() {","      debug('on(end)');","      self.connSM.terminated();","    });","};","","Connection.prototype._saslComplete = function(err) {","  this.sasl = null;","  if (err) {","    this.connSM.error(err);","  } else {","    this.connSM.success();","  }","};","","Connection.prototype._terminate = function(hasError) {","  var transport = this._transport;","  this._transport = null;","  this._sslOptions = null;","  this.sasl = null;","  this.address = null;","  if (transport) {","    transport.end();","    if (hasError) {","      transport.destroy();","    }","  }","","  if (this._heartbeatInterval) {","    clearInterval(this._heartbeatInterval);","    this._heartbeatInterval = undefined;","  }","","  this.connected = false;","  this.emit(Connection.Disconnected, this);","};","","module.exports = Connection;",""],"l":{"2":1,"143":1,"144":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"155":0,"156":0,"158":0,"159":0,"160":0,"162":0,"163":0,"164":0,"166":0,"167":0,"168":0,"170":0,"171":0,"172":0,"176":0,"177":0,"178":0,"179":0,"180":0,"183":0,"184":0,"189":0,"190":0,"191":0,"192":0,"194":0,"195":0,"198":0,"202":0,"203":0,"208":0,"209":0,"212":0,"213":0,"218":0,"221":0,"222":0,"227":0,"228":0,"231":0,"236":0,"237":0,"242":0,"245":0,"246":0,"251":0,"254":0,"255":0,"258":0,"259":0,"264":0,"265":0,"266":0,"271":0,"272":0,"274":0,"278":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"292":0,"293":0,"297":1,"300":1,"301":1,"305":1,"310":1,"319":1,"320":0,"323":1,"324":0,"327":1,"328":0,"329":0,"332":1,"333":0,"334":0,"335":0,"338":1,"339":0,"342":1,"343":0,"344":0,"346":0,"349":1,"350":0,"351":0,"352":0,"355":1,"356":0,"357":0,"358":0,"361":1,"362":0,"363":0,"364":0,"367":1,"368":0,"369":0,"370":0,"371":0,"373":0,"374":0,"376":0,"377":0,"378":0,"381":0,"382":0,"383":0,"385":0,"386":0,"387":0,"389":0,"390":0,"392":0,"395":0,"397":0,"400":1,"401":0,"402":0,"403":0,"404":0,"405":0,"406":0,"409":0,"410":0,"412":0,"413":0,"414":0,"417":0,"420":0,"421":0,"422":0,"423":0,"424":0,"425":0,"427":0,"432":1,"433":0,"436":1,"437":0,"440":1,"441":0,"442":0,"443":0,"446":0,"447":0,"448":0,"449":0,"452":0,"453":0,"457":0,"458":0,"462":0,"466":0,"467":0,"468":0,"469":0,"470":0,"472":0,"473":0,"474":0,"475":0,"476":0,"481":0,"482":0,"485":1,"486":0,"487":0,"488":0,"491":0,"494":1,"495":0,"496":0,"499":0,"500":0,"503":1,"504":0,"505":0,"506":0,"507":0,"509":0,"510":0,"513":0,"514":0,"515":0,"516":0,"517":0,"519":0,"520":0,"524":1,"525":0,"526":0,"527":0,"529":0,"533":1,"534":0,"535":0,"536":0,"537":0,"538":0,"539":0,"540":0,"541":0,"542":0,"546":0,"547":0,"548":0,"551":0,"552":0,"555":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/frames.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/frames.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":0,"9":0,"10":1,"11":1,"12":0,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":1,"89":14,"90":14,"91":14,"92":14,"93":14,"94":1,"95":0,"96":0,"97":0,"98":0,"99":0,"100":1,"101":1,"102":0,"103":0,"104":0,"105":0,"106":0,"107":1,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":0,"133":1,"134":1,"135":0,"136":1,"137":0,"138":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[9,5],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0,0],"42":[0,0],"43":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":14,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":17,"loc":{"start":{"line":17,"column":15},"end":{"line":17,"column":30}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":19},"end":{"line":18,"column":37}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":19},"end":{"line":24,"column":30}}},"4":{"name":"(anonymous_4)","line":29,"loc":{"start":{"line":29,"column":20},"end":{"line":29,"column":63}}},"5":{"name":"(anonymous_5)","line":67,"loc":{"start":{"line":67,"column":19},"end":{"line":67,"column":45}}},"6":{"name":"defineFrame","line":145,"loc":{"start":{"line":145,"column":0},"end":{"line":145,"column":39}}},"7":{"name":"role","line":154,"loc":{"start":{"line":154,"column":0},"end":{"line":154,"column":21}}},"8":{"name":"receiverSettleMode","line":164,"loc":{"start":{"line":164,"column":0},"end":{"line":164,"column":35}}},"9":{"name":"senderSettleMode","line":173,"loc":{"start":{"line":173,"column":0},"end":{"line":173,"column":33}}},"10":{"name":"(anonymous_10)","line":347,"loc":{"start":{"line":347,"column":24},"end":{"line":347,"column":35}}},"11":{"name":"(anonymous_11)","line":351,"loc":{"start":{"line":351,"column":50},"end":{"line":351,"column":61}}},"12":{"name":"(anonymous_12)","line":352,"loc":{"start":{"line":352,"column":42},"end":{"line":352,"column":58}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":11,"column":27}},"2":{"start":{"line":13,"column":0},"end":{"line":13,"column":33}},"3":{"start":{"line":14,"column":0},"end":{"line":14,"column":28}},"4":{"start":{"line":16,"column":0},"end":{"line":16,"column":43}},"5":{"start":{"line":17,"column":0},"end":{"line":17,"column":52}},"6":{"start":{"line":17,"column":32},"end":{"line":17,"column":49}},"7":{"start":{"line":18,"column":0},"end":{"line":21,"column":2}},"8":{"start":{"line":19,"column":2},"end":{"line":19,"column":63}},"9":{"start":{"line":20,"column":2},"end":{"line":20,"column":30}},"10":{"start":{"line":22,"column":0},"end":{"line":22,"column":46}},"11":{"start":{"line":24,"column":0},"end":{"line":26,"column":2}},"12":{"start":{"line":25,"column":2},"end":{"line":25,"column":63}},"13":{"start":{"line":27,"column":0},"end":{"line":27,"column":46}},"14":{"start":{"line":29,"column":0},"end":{"line":65,"column":2}},"15":{"start":{"line":30,"column":2},"end":{"line":32,"column":3}},"16":{"start":{"line":31,"column":4},"end":{"line":31,"column":64}},"17":{"start":{"line":34,"column":2},"end":{"line":34,"column":41}},"18":{"start":{"line":35,"column":2},"end":{"line":37,"column":3}},"19":{"start":{"line":36,"column":4},"end":{"line":36,"column":23}},"20":{"start":{"line":39,"column":2},"end":{"line":39,"column":30}},"21":{"start":{"line":40,"column":2},"end":{"line":40,"column":28}},"22":{"start":{"line":41,"column":2},"end":{"line":41,"column":25}},"23":{"start":{"line":42,"column":2},"end":{"line":42,"column":34}},"24":{"start":{"line":43,"column":2},"end":{"line":47,"column":3}},"25":{"start":{"line":44,"column":4},"end":{"line":44,"column":42}},"26":{"start":{"line":46,"column":4},"end":{"line":46,"column":30}},"27":{"start":{"line":49,"column":2},"end":{"line":49,"column":45}},"28":{"start":{"line":50,"column":2},"end":{"line":55,"column":3}},"29":{"start":{"line":51,"column":4},"end":{"line":51,"column":40}},"30":{"start":{"line":52,"column":4},"end":{"line":54,"column":5}},"31":{"start":{"line":53,"column":6},"end":{"line":53,"column":75}},"32":{"start":{"line":53,"column":39},"end":{"line":53,"column":75}},"33":{"start":{"line":57,"column":2},"end":{"line":57,"column":29}},"34":{"start":{"line":58,"column":2},"end":{"line":58,"column":41}},"35":{"start":{"line":59,"column":2},"end":{"line":62,"column":3}},"36":{"start":{"line":60,"column":4},"end":{"line":60,"column":23}},"37":{"start":{"line":61,"column":4},"end":{"line":61,"column":51}},"38":{"start":{"line":64,"column":2},"end":{"line":64,"column":33}},"39":{"start":{"line":67,"column":0},"end":{"line":143,"column":2}},"40":{"start":{"line":68,"column":2},"end":{"line":68,"column":41}},"41":{"start":{"line":69,"column":2},"end":{"line":69,"column":42}},"42":{"start":{"line":69,"column":25},"end":{"line":69,"column":42}},"43":{"start":{"line":71,"column":2},"end":{"line":71,"column":39}},"44":{"start":{"line":72,"column":2},"end":{"line":72,"column":41}},"45":{"start":{"line":73,"column":2},"end":{"line":73,"column":38}},"46":{"start":{"line":74,"column":2},"end":{"line":74,"column":72}},"47":{"start":{"line":74,"column":18},"end":{"line":74,"column":72}},"48":{"start":{"line":75,"column":2},"end":{"line":75,"column":45}},"49":{"start":{"line":75,"column":28},"end":{"line":75,"column":45}},"50":{"start":{"line":77,"column":2},"end":{"line":77,"column":33}},"51":{"start":{"line":78,"column":2},"end":{"line":80,"column":3}},"52":{"start":{"line":79,"column":4},"end":{"line":79,"column":81}},"53":{"start":{"line":83,"column":2},"end":{"line":83,"column":20}},"54":{"start":{"line":85,"column":2},"end":{"line":85,"column":38}},"55":{"start":{"line":86,"column":2},"end":{"line":94,"column":3}},"56":{"start":{"line":88,"column":4},"end":{"line":91,"column":5}},"57":{"start":{"line":89,"column":6},"end":{"line":89,"column":32}},"58":{"start":{"line":90,"column":6},"end":{"line":90,"column":58}},"59":{"start":{"line":93,"column":4},"end":{"line":93,"column":11}},"60":{"start":{"line":96,"column":2},"end":{"line":96,"column":35}},"61":{"start":{"line":97,"column":2},"end":{"line":106,"column":3}},"62":{"start":{"line":98,"column":4},"end":{"line":98,"column":50}},"63":{"start":{"line":99,"column":4},"end":{"line":99,"column":32}},"64":{"start":{"line":102,"column":4},"end":{"line":105,"column":5}},"65":{"start":{"line":103,"column":6},"end":{"line":103,"column":40}},"66":{"start":{"line":104,"column":6},"end":{"line":104,"column":57}},"67":{"start":{"line":109,"column":2},"end":{"line":109,"column":51}},"68":{"start":{"line":110,"column":2},"end":{"line":110,"column":30}},"69":{"start":{"line":113,"column":2},"end":{"line":113,"column":54}},"70":{"start":{"line":114,"column":2},"end":{"line":116,"column":3}},"71":{"start":{"line":115,"column":4},"end":{"line":115,"column":116}},"72":{"start":{"line":118,"column":2},"end":{"line":120,"column":3}},"73":{"start":{"line":119,"column":4},"end":{"line":119,"column":138}},"74":{"start":{"line":123,"column":2},"end":{"line":123,"column":44}},"75":{"start":{"line":124,"column":2},"end":{"line":124,"column":61}},"76":{"start":{"line":126,"column":2},"end":{"line":126,"column":36}},"77":{"start":{"line":127,"column":2},"end":{"line":129,"column":3}},"78":{"start":{"line":128,"column":4},"end":{"line":128,"column":96}},"79":{"start":{"line":131,"column":2},"end":{"line":131,"column":70}},"80":{"start":{"line":132,"column":2},"end":{"line":132,"column":58}},"81":{"start":{"line":132,"column":28},"end":{"line":132,"column":58}},"82":{"start":{"line":133,"column":2},"end":{"line":135,"column":3}},"83":{"start":{"line":134,"column":4},"end":{"line":134,"column":28}},"84":{"start":{"line":137,"column":2},"end":{"line":140,"column":3}},"85":{"start":{"line":138,"column":4},"end":{"line":138,"column":23}},"86":{"start":{"line":139,"column":4},"end":{"line":139,"column":58}},"87":{"start":{"line":142,"column":2},"end":{"line":142,"column":15}},"88":{"start":{"line":145,"column":0},"end":{"line":151,"column":1}},"89":{"start":{"line":146,"column":2},"end":{"line":146,"column":82}},"90":{"start":{"line":147,"column":2},"end":{"line":147,"column":53}},"91":{"start":{"line":148,"column":2},"end":{"line":148,"column":52}},"92":{"start":{"line":149,"column":2},"end":{"line":149,"column":52}},"93":{"start":{"line":150,"column":2},"end":{"line":150,"column":15}},"94":{"start":{"line":154,"column":0},"end":{"line":161,"column":1}},"95":{"start":{"line":155,"column":2},"end":{"line":156,"column":17}},"96":{"start":{"line":156,"column":4},"end":{"line":156,"column":17}},"97":{"start":{"line":158,"column":2},"end":{"line":159,"column":58}},"98":{"start":{"line":159,"column":4},"end":{"line":159,"column":58}},"99":{"start":{"line":160,"column":2},"end":{"line":160,"column":45}},"100":{"start":{"line":163,"column":0},"end":{"line":163,"column":66}},"101":{"start":{"line":164,"column":0},"end":{"line":171,"column":1}},"102":{"start":{"line":165,"column":2},"end":{"line":166,"column":17}},"103":{"start":{"line":166,"column":4},"end":{"line":166,"column":17}},"104":{"start":{"line":168,"column":2},"end":{"line":169,"column":74}},"105":{"start":{"line":169,"column":4},"end":{"line":169,"column":74}},"106":{"start":{"line":170,"column":2},"end":{"line":170,"column":57}},"107":{"start":{"line":173,"column":0},"end":{"line":183,"column":1}},"108":{"start":{"line":174,"column":2},"end":{"line":175,"column":17}},"109":{"start":{"line":175,"column":4},"end":{"line":175,"column":17}},"110":{"start":{"line":177,"column":2},"end":{"line":178,"column":72}},"111":{"start":{"line":178,"column":4},"end":{"line":178,"column":72}},"112":{"start":{"line":180,"column":2},"end":{"line":181,"column":41}},"113":{"start":{"line":180,"column":29},"end":{"line":180,"column":38}},"114":{"start":{"line":181,"column":7},"end":{"line":181,"column":41}},"115":{"start":{"line":181,"column":32},"end":{"line":181,"column":41}},"116":{"start":{"line":182,"column":2},"end":{"line":182,"column":11}},"117":{"start":{"line":186,"column":0},"end":{"line":202,"column":3}},"118":{"start":{"line":204,"column":0},"end":{"line":216,"column":3}},"119":{"start":{"line":218,"column":0},"end":{"line":236,"column":3}},"120":{"start":{"line":238,"column":0},"end":{"line":253,"column":3}},"121":{"start":{"line":255,"column":0},"end":{"line":270,"column":3}},"122":{"start":{"line":272,"column":0},"end":{"line":282,"column":3}},"123":{"start":{"line":284,"column":0},"end":{"line":291,"column":3}},"124":{"start":{"line":293,"column":0},"end":{"line":298,"column":3}},"125":{"start":{"line":300,"column":0},"end":{"line":305,"column":3}},"126":{"start":{"line":308,"column":0},"end":{"line":313,"column":3}},"127":{"start":{"line":315,"column":0},"end":{"line":322,"column":3}},"128":{"start":{"line":324,"column":0},"end":{"line":329,"column":3}},"129":{"start":{"line":331,"column":0},"end":{"line":336,"column":3}},"130":{"start":{"line":338,"column":0},"end":{"line":344,"column":3}},"131":{"start":{"line":347,"column":0},"end":{"line":349,"column":2}},"132":{"start":{"line":348,"column":2},"end":{"line":348,"column":33}},"133":{"start":{"line":350,"column":0},"end":{"line":350,"column":76}},"134":{"start":{"line":351,"column":0},"end":{"line":351,"column":78}},"135":{"start":{"line":351,"column":63},"end":{"line":351,"column":75}},"136":{"start":{"line":352,"column":0},"end":{"line":354,"column":2}},"137":{"start":{"line":353,"column":2},"end":{"line":353,"column":25}},"138":{"start":{"line":357,"column":0},"end":{"line":357,"column":36}}},"branchMap":{"1":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":17},"end":{"line":20,"column":24}},{"start":{"line":20,"column":28},"end":{"line":20,"column":29}}]},"2":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":2},"end":{"line":30,"column":2}},{"start":{"line":30,"column":2},"end":{"line":30,"column":2}}]},"3":{"line":34,"type":"binary-expr","locations":[{"start":{"line":34,"column":12},"end":{"line":34,"column":19}},{"start":{"line":34,"column":23},"end":{"line":34,"column":40}}]},"4":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":2},"end":{"line":35,"column":2}},{"start":{"line":35,"column":2},"end":{"line":35,"column":2}}]},"5":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":6},"end":{"line":35,"column":28}},{"start":{"line":35,"column":32},"end":{"line":35,"column":61}}]},"6":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":2},"end":{"line":43,"column":2}},{"start":{"line":43,"column":2},"end":{"line":43,"column":2}}]},"7":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":2},"end":{"line":50,"column":2}},{"start":{"line":50,"column":2},"end":{"line":50,"column":2}}]},"8":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":6},"end":{"line":50,"column":27}},{"start":{"line":50,"column":31},"end":{"line":50,"column":57}}]},"9":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":52,"column":4}},{"start":{"line":52,"column":4},"end":{"line":52,"column":4}}]},"10":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":6},"end":{"line":53,"column":6}},{"start":{"line":53,"column":6},"end":{"line":53,"column":6}}]},"11":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":2},"end":{"line":59,"column":2}},{"start":{"line":59,"column":2},"end":{"line":59,"column":2}}]},"12":{"line":68,"type":"binary-expr","locations":[{"start":{"line":68,"column":12},"end":{"line":68,"column":19}},{"start":{"line":68,"column":23},"end":{"line":68,"column":40}}]},"13":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":2},"end":{"line":69,"column":2}},{"start":{"line":69,"column":2},"end":{"line":69,"column":2}}]},"14":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":2},"end":{"line":74,"column":2}},{"start":{"line":74,"column":2},"end":{"line":74,"column":2}}]},"15":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":2},"end":{"line":75,"column":2}},{"start":{"line":75,"column":2},"end":{"line":75,"column":2}}]},"16":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":2},"end":{"line":78,"column":2}},{"start":{"line":78,"column":2},"end":{"line":78,"column":2}}]},"17":{"line":78,"type":"binary-expr","locations":[{"start":{"line":78,"column":6},"end":{"line":78,"column":34}},{"start":{"line":78,"column":38},"end":{"line":78,"column":66}}]},"18":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":2},"end":{"line":86,"column":2}},{"start":{"line":86,"column":2},"end":{"line":86,"column":2}}]},"19":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":4},"end":{"line":88,"column":4}},{"start":{"line":88,"column":4},"end":{"line":88,"column":4}}]},"20":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":2},"end":{"line":97,"column":2}},{"start":{"line":97,"column":2},"end":{"line":97,"column":2}}]},"21":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":4},"end":{"line":102,"column":4}},{"start":{"line":102,"column":4},"end":{"line":102,"column":4}}]},"22":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":2},"end":{"line":114,"column":2}},{"start":{"line":114,"column":2},"end":{"line":114,"column":2}}]},"23":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":2},"end":{"line":118,"column":2}},{"start":{"line":118,"column":2},"end":{"line":118,"column":2}}]},"24":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":2},"end":{"line":127,"column":2}},{"start":{"line":127,"column":2},"end":{"line":127,"column":2}}]},"25":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":2},"end":{"line":132,"column":2}},{"start":{"line":132,"column":2},"end":{"line":132,"column":2}}]},"26":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":2},"end":{"line":133,"column":2}},{"start":{"line":133,"column":2},"end":{"line":133,"column":2}}]},"27":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":2},"end":{"line":137,"column":2}},{"start":{"line":137,"column":2},"end":{"line":137,"column":2}}]},"28":{"line":146,"type":"cond-expr","locations":[{"start":{"line":146,"column":46},"end":{"line":146,"column":62}},{"start":{"line":146,"column":65},"end":{"line":146,"column":81}}]},"29":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":2},"end":{"line":155,"column":2}},{"start":{"line":155,"column":2},"end":{"line":155,"column":2}}]},"30":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":2},"end":{"line":158,"column":2}},{"start":{"line":158,"column":2},"end":{"line":158,"column":2}}]},"31":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":6},"end":{"line":158,"column":24}},{"start":{"line":158,"column":28},"end":{"line":158,"column":48}}]},"32":{"line":160,"type":"cond-expr","locations":[{"start":{"line":160,"column":32},"end":{"line":160,"column":37}},{"start":{"line":160,"column":40},"end":{"line":160,"column":44}}]},"33":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":2},"end":{"line":165,"column":2}},{"start":{"line":165,"column":2},"end":{"line":165,"column":2}}]},"34":{"line":165,"type":"binary-expr","locations":[{"start":{"line":165,"column":6},"end":{"line":165,"column":31}},{"start":{"line":165,"column":35},"end":{"line":165,"column":58}}]},"35":{"line":168,"type":"if","locations":[{"start":{"line":168,"column":2},"end":{"line":168,"column":2}},{"start":{"line":168,"column":2},"end":{"line":168,"column":2}}]},"36":{"line":170,"type":"cond-expr","locations":[{"start":{"line":170,"column":51},"end":{"line":170,"column":52}},{"start":{"line":170,"column":55},"end":{"line":170,"column":56}}]},"37":{"line":170,"type":"binary-expr","locations":[{"start":{"line":170,"column":10},"end":{"line":170,"column":27}},{"start":{"line":170,"column":31},"end":{"line":170,"column":47}}]},"38":{"line":174,"type":"if","locations":[{"start":{"line":174,"column":2},"end":{"line":174,"column":2}},{"start":{"line":174,"column":2},"end":{"line":174,"column":2}}]},"39":{"line":174,"type":"binary-expr","locations":[{"start":{"line":174,"column":6},"end":{"line":174,"column":31}},{"start":{"line":174,"column":35},"end":{"line":174,"column":58}}]},"40":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":2},"end":{"line":177,"column":2}},{"start":{"line":177,"column":2},"end":{"line":177,"column":2}}]},"41":{"line":177,"type":"binary-expr","locations":[{"start":{"line":177,"column":6},"end":{"line":177,"column":27}},{"start":{"line":177,"column":31},"end":{"line":177,"column":50}},{"start":{"line":177,"column":54},"end":{"line":177,"column":71}}]},"42":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":2},"end":{"line":180,"column":2}},{"start":{"line":180,"column":2},"end":{"line":180,"column":2}}]},"43":{"line":181,"type":"if","locations":[{"start":{"line":181,"column":7},"end":{"line":181,"column":7}},{"start":{"line":181,"column":7},"end":{"line":181,"column":7}}]}},"code":["'use strict';","var Builder = require('buffer-builder'),","    DescribedType = require('./types/described_type'),","    errors = require('./errors'),","    codec = require('./codec'),","    debug = require('debug')('amqp10:framing'),","    trace = require('debug')('amqp10:trace'),","    constants = require('./constants'),","    defineComposite = require('./types/composite_type').defineComposite,","    terminus = require('./types/terminus'),","    util = require('util');","","var frames = module.exports = {};","var framesByDescriptor = {};","","var FrameType = { AMQP: 0x00, SASL: 0x01 };","frames.Frame = function(type) { this.type = type; };","frames.AMQPFrame = function(channel) {","  frames.AMQPFrame.super_.call(this, constants.frameType.amqp);","  this.channel = channel || 0;","};","util.inherits(frames.AMQPFrame, frames.Frame);","","frames.SaslFrame = function() {","  frames.SaslFrame.super_.call(this, constants.frameType.sasl);","};","util.inherits(frames.SaslFrame, frames.Frame);","","frames.writeFrame = function(frame, stream, options, callback) {","  if (!(frame instanceof frames.Frame)) {","    throw new errors.EncodingError(frame, 'unknown frame type');","  }","","  options = options || { verbose: true };","  if (callback === undefined && typeof options === 'function') {","    callback = options;","  }","","  var builder = new Builder();","  builder.appendUInt32BE(0); // size placeholder","  builder.appendUInt8(2);  // doff, no extended headers","  builder.appendUInt8(frame.type);","  if (frame instanceof frames.AMQPFrame) {","    builder.appendUInt16BE(frame.channel);","  } else {","    builder.appendUInt16BE(0);","  }","","  var performative = frame.toDescribedType();","  if (performative !== null && performative !== undefined) {","    codec.encode(performative, builder);","    if (frame instanceof frames.TransferFrame) {","      if (frame.payload !== undefined) builder.appendBuffer(frame.payload);","    }","  }","","  var buffer = builder.get();","  buffer.writeUInt32BE(buffer.length, 0);","  if (options.verbose) {","    debug('=>', frame);","    trace('raw: [' + buffer.toString('hex') + ']');","  }","","  stream.write(buffer, callback);","};","","frames.readFrame = function(buffer, options) {","  options = options || { verbose: true };","  if (buffer.length < 8) return undefined;","","  var sizeAndDoff = buffer.slice(0, 8);","  var size = sizeAndDoff.readUInt32BE(0);","  var doff = sizeAndDoff.readUInt8(4);","  if (doff !== 2) throw new errors.MalformedHeaderError('Invalid DOFF');","  if (size > buffer.length) return undefined;","","  var frameType = sizeAndDoff[5];","  if (frameType !== FrameType.AMQP && frameType !== FrameType.SASL) {","    throw new errors.NotImplementedError('Unsupported frame type: ' + frameType);","  }","","  // actually consume the bytes now that we have no errors","  buffer.consume(8);","","  var payloadSize = size - (doff * 4);","  if (payloadSize <= 0) {","    // @todo: this is probably a heartbeat frame, but what if its not?","    if (options.verbose) {","      debug('<= (EMPTY FRAME)');","      trace('raw: [' + sizeAndDoff.toString('hex') + ']');","    }","","    return;","  }","","  var xHeaderSize = (doff * 4) - 8;","  if (xHeaderSize > 0) {","    var xHeaderBuf = buffer.slice(0, xHeaderSize);","    buffer.consume(xHeaderSize);","","    // @todo: Process x-header","    if (options.verbose) {","      debug('received extended header');","      trace('raw: [' + xHeaderBuf.toString('hex') + ']');","    }","  }","","  // read payload","  var payloadBuffer = buffer.slice(0, payloadSize);","  buffer.consume(payloadSize);","","  // decode payload","  var decodedPayload = codec.decode(payloadBuffer, 0);","  if (!decodedPayload) {","    throw new errors.MalformedPayloadError('Unable to parse frame payload [' + payloadBuffer.toString('hex') + ']');","  }","","  if (!(decodedPayload[0] instanceof DescribedType)) {","    throw new errors.MalformedPayloadError('Expected DescribedType from AMQP Payload, but received ' + JSON.stringify(decodedPayload[0]));","  }","","  // read frame","  var channel = sizeAndDoff.readUInt16BE(6); // Bytes 6 & 7 are channel","  var messageBuffer = payloadBuffer.slice(decodedPayload[1]);","","  var described = decodedPayload[0];","  if (!framesByDescriptor.hasOwnProperty(described.descriptor)) {","    throw new errors.MalformedPayloadError('Unknown frame descriptor: ' + described.descriptor);","  }","","  var frame = new framesByDescriptor[described.descriptor](described);","  if (messageBuffer.length) frame.payload = messageBuffer;","  if (frameType === FrameType.AMQP) {","    frame.channel = channel;","  }","","  if (options.verbose) {","    debug('<=', frame);","    trace('raw: [' + payloadBuffer.toString('hex') + ']');","  }","","  return frame;","};","","function defineFrame(type, definition) {","  var FrameBase = (type === FrameType.AMQP) ? frames.AMQPFrame : frames.SaslFrame;","  var Frame = defineComposite(FrameBase, definition);","  framesByDescriptor[Frame.descriptor.code] = Frame;","  framesByDescriptor[Frame.descriptor.name] = Frame;","  return Frame;","}","","// restricted type helpers","function role(value) {","  if (typeof value === 'boolean')","    return value;","","  if (value !== 'sender' && value !== 'receiver')","    throw new errors.EncodingError(value, 'invalid role');","  return (value === 'sender') ? false : true;","}","","var ReceiverSettleModes = [ 'first', 'second', 'auto', 'settle' ];","function receiverSettleMode(value) {","  if (typeof value === 'number' || value instanceof Number)","    return value;","","  if (ReceiverSettleModes.indexOf(value) === -1)","    throw new errors.EncodingError(value, 'invalid receiver settle mode');","  return (value === 'first' || value === 'auto') ? 0 : 1;","}","","function senderSettleMode(value) {","  if (typeof value === 'number' || value instanceof Number)","    return value;","","  if (value !== 'unsettled' && value !== 'settled' && value !== 'mixed')","    throw new errors.EncodingError(value, 'invalid sender settle mode');","","  if (value === 'unsettled') return 0;","  else if (value === 'settled') return 1;","  return 2;","}","","// AMQP frames","frames.OpenFrame = defineFrame(FrameType.AMQP, {","  name: 'open', code: 0x10,","  fields: [","    { name: 'containerId', type: 'string', mandatory: true },","    { name: 'hostname', type: 'string' },","    { name: 'maxFrameSize', type: 'uint', default: constants.defaultMaxFrameSize },","    { name: 'channelMax', type: 'ushort', default: constants.defaultChannelMax },","    { name: 'idleTimeout', type: 'milliseconds', default: constants.defaultIdleTimeout },","    { name: 'outgoingLocales', type: 'ietf-language-tag',","      multiple: true, default: constants.defaultOutgoingLocales },","    { name: 'incomingLocales', type: 'ietf-language-tag',","      multiple: true, default: constants.defaultIncomingLocales },","    { name: 'offeredCapabilities', type: 'symbol', multiple: true },","    { name: 'desiredCapabilities', type: 'symbol', multiple: true },","    { name: 'properties', type: 'fields', default: {} }","  ]","});","","frames.BeginFrame = defineFrame(FrameType.AMQP, {","  name: 'begin', code: 0x11,","  fields: [","    { name: 'remoteChannel', type: 'ushort' },","    { name: 'nextOutgoingId', type: 'transfer-number', mandatory: true },","    { name: 'incomingWindow', type: 'uint', mandatory: true },","    { name: 'outgoingWindow', type: 'uint', mandatory: true },","    { name: 'handleMax', type: 'handle', default: constants.defaultHandleMax },","    { name: 'offeredCapabilities', type: 'symbol', multiple: true },","    { name: 'desiredCapabilities', type: 'symbol', multiple: true },","    { name: 'properties', type: 'fields', default: {} }","  ]","});","","frames.AttachFrame = defineFrame(FrameType.AMQP, {","  name: 'attach', code: 0x12,","  fields: [","    { name: 'name', type: 'string', mandatory: true },","    { name: 'handle', type: 'handle', mandatory: true },","    { name: 'role', type: 'boolean', requires: role, mandatory: true },","    { name: 'sndSettleMode', type: 'ubyte', requires: senderSettleMode, default: 'mixed' },","    { name: 'rcvSettleMode', type: 'ubyte', requires: receiverSettleMode, default: 'auto' },","    { name: 'source', type: '*', requires: terminus.Source },","    { name: 'target', type: '*', requires: terminus.Target },","    { name: 'unsettled', type: 'map', default: {} },","    { name: 'incompleteUnsettled', type: 'boolean', default: false },","    { name: 'initialDeliveryCount', type: 'sequence-no' },","    { name: 'maxMessageSize', type: 'ulong', default: 0 },","    { name: 'offeredCapabilities', type: 'symbol', multiple: true },","    { name: 'desiredCapabilities', type: 'symbol', multiple: true },","    { name: 'properties', type: 'fields', default: {} }","  ]","});","","frames.FlowFrame = defineFrame(FrameType.AMQP, {","  name: 'flow', code: 0x13,","  fields: [","    { name:'nextIncomingId', type: 'transfer-number' },","    { name:'incomingWindow', type: 'uint', mandatory: true },","    { name:'nextOutgoingId', type: 'transfer-number', mandatory: true },","    { name:'outgoingWindow', type: 'uint', mandatory: true },","    { name:'handle', type: 'handle' },","    { name:'deliveryCount', type: 'sequence-no' },","    { name:'linkCredit', type: 'uint' },","    { name:'available', type: 'uint' },","    { name:'drain', type: 'boolean', default: false },","    { name:'echo', type: 'boolean', default: false },","    { name:'properties', type: 'fields', default: {} }","  ]","});","","frames.TransferFrame = defineFrame(FrameType.AMQP, {","  name: 'transfer', code: 0x14,","  fields:[","    { name: 'handle', type: 'handle', mandatory: true },","    { name: 'deliveryId', type: 'delivery-number' },","    { name: 'deliveryTag', type: 'delivery-tag' },","    { name: 'messageFormat', type: 'message-format', default: 0 },","    { name: 'settled', type: 'boolean' },","    { name: 'more', type: 'boolean', default: false },","    { name: 'rcvSettleMode', type: 'ubyte', requires: receiverSettleMode, default: 'auto' },","    { name: 'state', type: '*' /* @todo: requires: deliveryState */ },","    { name: 'resume', type: 'boolean', default: false },","    { name: 'aborted', type: 'boolean', default: false },","    { name: 'batchable', type: 'boolean', default: false }","  ]","});","","frames.DispositionFrame = defineFrame(FrameType.AMQP, {","  name: 'disposition', code: 0x15,","  fields:[","    { name: 'role', type: 'boolean', requires: role, mandatory: true },","    { name: 'first', type: 'delivery-number', mandatory: true },","    { name: 'last', type: 'delivery-number' },","    { name: 'settled', type: 'boolean', default: false },","    { name: 'state', type: '*' /* @todo: requires: deliveryState */ },","    { name: 'batchable', type: 'boolean', default: false }","  ]","});","","frames.DetachFrame = defineFrame(FrameType.AMQP, {","  name: 'detach', code: 0x16,","  fields: [","    { name: 'handle', type: 'handle', mandatory: true },","    { name: 'closed', type: 'boolean', default: false },","    { name: 'error', type: 'error' }","  ]","});","","frames.EndFrame = defineFrame(FrameType.AMQP, {","  name: 'end', code: 0x17,","  fields: [","    { name: 'error', type: 'error' }","  ]","});","","frames.CloseFrame = defineFrame(FrameType.AMQP, {","  name: 'close', code: 0x18,","  fields: [","    { name: 'error', type: 'error' }","  ]","});","","// SASL frames","frames.SaslMechanismsFrame = defineFrame(FrameType.SASL, {","  name: 'sasl-mechanisms', code: 0x40,","  fields: [","    { name: 'saslServerMechanisms', type: 'symbol', multiple: true, mandatory: true }","  ]","});","","frames.SaslInitFrame = defineFrame(FrameType.SASL, {","  name: 'sasl-init', code: 0x41,","  fields: [","    { name: 'mechanism', type: 'symbol', mandatory: true },","    { name: 'initialResponse', type: 'binary' },","    { name: 'hostname', type: 'string' }","  ]","});","","frames.SaslChallengeFrame = defineFrame(FrameType.SASL, {","  name: 'sasl-challenge', code: 0x42,","  fields: [","    { name: 'challenge', type: 'binary', mandatory: true }","  ]","});","","frames.SaslResponseFrame = defineFrame(FrameType.SASL, {","  name: 'sasl-response', code: 0x43,","  fields: [","    { name: 'response', type: 'binary', mandatory: true }","  ]","});","","frames.SaslOutcomeFrame = defineFrame(FrameType.SASL, {","  name: 'sasl-outcome', code: 0x44,","  fields: [","    { name: 'code', type: 'ubyte', mandatory: true },","    { name: 'additionalData', type: 'binary' }","  ]","});","","// special frames","frames.HeartbeatFrame = function() {","  frames.AMQPFrame.call(this, 0);","};","frames.HeartbeatFrame.prototype = Object.create(frames.AMQPFrame.prototype);","frames.HeartbeatFrame.prototype.toDescribedType = function() { return null; };","frames.HeartbeatFrame.prototype.inspect = function(depth) {","  return '(EMPTY FRAME)';","};","","// used to determine if a message should be split to multiple frames","frames.TRANSFER_FRAME_OVERHEAD = 29;",""],"l":{"2":1,"13":1,"14":1,"16":1,"17":1,"18":1,"19":0,"20":0,"22":1,"24":1,"25":0,"27":1,"29":1,"30":0,"31":0,"34":0,"35":0,"36":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"46":0,"49":0,"50":0,"51":0,"52":0,"53":0,"57":0,"58":0,"59":0,"60":0,"61":0,"64":0,"67":1,"68":0,"69":0,"71":0,"72":0,"73":0,"74":0,"75":0,"77":0,"78":0,"79":0,"83":0,"85":0,"86":0,"88":0,"89":0,"90":0,"93":0,"96":0,"97":0,"98":0,"99":0,"102":0,"103":0,"104":0,"109":0,"110":0,"113":0,"114":0,"115":0,"118":0,"119":0,"123":0,"124":0,"126":0,"127":0,"128":0,"131":0,"132":0,"133":0,"134":0,"137":0,"138":0,"139":0,"142":0,"145":1,"146":14,"147":14,"148":14,"149":14,"150":14,"154":1,"155":0,"156":0,"158":0,"159":0,"160":0,"163":1,"164":1,"165":0,"166":0,"168":0,"169":0,"170":0,"173":1,"174":0,"175":0,"177":0,"178":0,"180":0,"181":0,"182":0,"186":1,"204":1,"218":1,"238":1,"255":1,"272":1,"284":1,"293":1,"300":1,"308":1,"315":1,"324":1,"331":1,"338":1,"347":1,"348":0,"350":1,"351":1,"352":1,"353":0,"357":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/codec.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/codec.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":1,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":1,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":1,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":1,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":1,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0,0,0,0,0,0,0,0,0,0,0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0,0,0,0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"(anonymous_1)","line":18,"loc":{"start":{"line":18,"column":12},"end":{"line":18,"column":23}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":24},"end":{"line":19,"column":56}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":56}}},"4":{"name":"(anonymous_4)","line":27,"loc":{"start":{"line":27,"column":35},"end":{"line":27,"column":92}}},"5":{"name":"(anonymous_5)","line":46,"loc":{"start":{"line":46,"column":33},"end":{"line":46,"column":81}}},"6":{"name":"(anonymous_6)","line":102,"loc":{"start":{"line":102,"column":34},"end":{"line":102,"column":60}}},"7":{"name":"(anonymous_7)","line":130,"loc":{"start":{"line":130,"column":25},"end":{"line":130,"column":59}}},"8":{"name":"(anonymous_8)","line":158,"loc":{"start":{"line":158,"column":25},"end":{"line":158,"column":60}}},"9":{"name":"(anonymous_9)","line":188,"loc":{"start":{"line":188,"column":32},"end":{"line":188,"column":56}}},"10":{"name":"(anonymous_10)","line":206,"loc":{"start":{"line":206,"column":32},"end":{"line":206,"column":56}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":11,"column":31}},"2":{"start":{"line":18,"column":0},"end":{"line":18,"column":26}},"3":{"start":{"line":19,"column":0},"end":{"line":21,"column":2}},"4":{"start":{"line":20,"column":2},"end":{"line":20,"column":46}},"5":{"start":{"line":23,"column":0},"end":{"line":25,"column":2}},"6":{"start":{"line":24,"column":2},"end":{"line":24,"column":46}},"7":{"start":{"line":27,"column":0},"end":{"line":31,"column":2}},"8":{"start":{"line":28,"column":2},"end":{"line":28,"column":54}},"9":{"start":{"line":29,"column":2},"end":{"line":30,"column":60}},"10":{"start":{"line":46,"column":0},"end":{"line":100,"column":2}},"11":{"start":{"line":47,"column":2},"end":{"line":47,"column":23}},"12":{"start":{"line":48,"column":2},"end":{"line":48,"column":38}},"13":{"start":{"line":49,"column":2},"end":{"line":49,"column":38}},"14":{"start":{"line":49,"column":21},"end":{"line":49,"column":38}},"15":{"start":{"line":51,"column":2},"end":{"line":51,"column":24}},"16":{"start":{"line":52,"column":2},"end":{"line":52,"column":20}},"17":{"start":{"line":53,"column":2},"end":{"line":56,"column":3}},"18":{"start":{"line":54,"column":4},"end":{"line":54,"column":41}},"19":{"start":{"line":55,"column":4},"end":{"line":55,"column":18}},"20":{"start":{"line":59,"column":2},"end":{"line":70,"column":3}},"21":{"start":{"line":60,"column":4},"end":{"line":60,"column":66}},"22":{"start":{"line":61,"column":4},"end":{"line":67,"column":5}},"23":{"start":{"line":62,"column":6},"end":{"line":62,"column":78}},"24":{"start":{"line":63,"column":6},"end":{"line":66,"column":7}},"25":{"start":{"line":64,"column":8},"end":{"line":64,"column":55}},"26":{"start":{"line":65,"column":8},"end":{"line":65,"column":48}},"27":{"start":{"line":69,"column":4},"end":{"line":69,"column":21}},"28":{"start":{"line":72,"column":2},"end":{"line":72,"column":31}},"29":{"start":{"line":73,"column":2},"end":{"line":73,"column":30}},"30":{"start":{"line":74,"column":2},"end":{"line":99,"column":3}},"31":{"start":{"line":75,"column":15},"end":{"line":75,"column":97}},"32":{"start":{"line":76,"column":15},"end":{"line":76,"column":97}},"33":{"start":{"line":77,"column":15},"end":{"line":77,"column":97}},"34":{"start":{"line":78,"column":15},"end":{"line":78,"column":97}},"35":{"start":{"line":79,"column":15},"end":{"line":79,"column":97}},"36":{"start":{"line":80,"column":15},"end":{"line":80,"column":98}},"37":{"start":{"line":84,"column":6},"end":{"line":84,"column":42}},"38":{"start":{"line":84,"column":25},"end":{"line":84,"column":42}},"39":{"start":{"line":85,"column":6},"end":{"line":85,"column":61}},"40":{"start":{"line":86,"column":6},"end":{"line":86,"column":58}},"41":{"start":{"line":88,"column":6},"end":{"line":88,"column":83}},"42":{"start":{"line":92,"column":6},"end":{"line":92,"column":38}},"43":{"start":{"line":92,"column":25},"end":{"line":92,"column":38}},"44":{"start":{"line":93,"column":6},"end":{"line":93,"column":61}},"45":{"start":{"line":94,"column":6},"end":{"line":94,"column":71}},"46":{"start":{"line":96,"column":6},"end":{"line":96,"column":83}},"47":{"start":{"line":98,"column":6},"end":{"line":98,"column":98}},"48":{"start":{"line":102,"column":0},"end":{"line":119,"column":2}},"49":{"start":{"line":103,"column":2},"end":{"line":109,"column":3}},"50":{"start":{"line":105,"column":4},"end":{"line":105,"column":50}},"51":{"start":{"line":106,"column":4},"end":{"line":106,"column":45}},"52":{"start":{"line":107,"column":4},"end":{"line":107,"column":61}},"53":{"start":{"line":108,"column":4},"end":{"line":108,"column":25}},"54":{"start":{"line":111,"column":2},"end":{"line":111,"column":34}},"55":{"start":{"line":112,"column":2},"end":{"line":114,"column":3}},"56":{"start":{"line":113,"column":4},"end":{"line":113,"column":83}},"57":{"start":{"line":116,"column":2},"end":{"line":116,"column":28}},"58":{"start":{"line":117,"column":2},"end":{"line":117,"column":49}},"59":{"start":{"line":118,"column":2},"end":{"line":118,"column":40}},"60":{"start":{"line":130,"column":0},"end":{"line":144,"column":2}},"61":{"start":{"line":131,"column":2},"end":{"line":131,"column":23}},"62":{"start":{"line":132,"column":2},"end":{"line":132,"column":39}},"63":{"start":{"line":134,"column":2},"end":{"line":134,"column":87}},"64":{"start":{"line":135,"column":2},"end":{"line":140,"column":3}},"65":{"start":{"line":136,"column":4},"end":{"line":136,"column":28}},"66":{"start":{"line":137,"column":4},"end":{"line":137,"column":30}},"67":{"start":{"line":138,"column":4},"end":{"line":138,"column":57}},"68":{"start":{"line":139,"column":4},"end":{"line":139,"column":29}},"69":{"start":{"line":143,"column":2},"end":{"line":143,"column":19}},"70":{"start":{"line":158,"column":0},"end":{"line":186,"column":2}},"71":{"start":{"line":160,"column":2},"end":{"line":162,"column":3}},"72":{"start":{"line":161,"column":4},"end":{"line":161,"column":44}},"73":{"start":{"line":164,"column":2},"end":{"line":175,"column":3}},"74":{"start":{"line":168,"column":4},"end":{"line":168,"column":113}},"75":{"start":{"line":168,"column":42},"end":{"line":168,"column":113}},"76":{"start":{"line":169,"column":4},"end":{"line":169,"column":35}},"77":{"start":{"line":170,"column":4},"end":{"line":172,"column":5}},"78":{"start":{"line":171,"column":6},"end":{"line":171,"column":72}},"79":{"start":{"line":174,"column":4},"end":{"line":174,"column":47}},"80":{"start":{"line":177,"column":2},"end":{"line":185,"column":3}},"81":{"start":{"line":178,"column":20},"end":{"line":178,"column":63}},"82":{"start":{"line":179,"column":19},"end":{"line":179,"column":61}},"83":{"start":{"line":180,"column":21},"end":{"line":180,"column":68}},"84":{"start":{"line":181,"column":19},"end":{"line":181,"column":60}},"85":{"start":{"line":182,"column":19},"end":{"line":182,"column":60}},"86":{"start":{"line":184,"column":6},"end":{"line":184,"column":77}},"87":{"start":{"line":188,"column":0},"end":{"line":204,"column":2}},"88":{"start":{"line":189,"column":2},"end":{"line":191,"column":3}},"89":{"start":{"line":190,"column":4},"end":{"line":190,"column":74}},"90":{"start":{"line":193,"column":2},"end":{"line":199,"column":3}},"91":{"start":{"line":194,"column":4},"end":{"line":194,"column":46}},"92":{"start":{"line":195,"column":9},"end":{"line":199,"column":3}},"93":{"start":{"line":196,"column":4},"end":{"line":197,"column":46}},"94":{"start":{"line":197,"column":6},"end":{"line":197,"column":46}},"95":{"start":{"line":198,"column":4},"end":{"line":198,"column":45}},"96":{"start":{"line":201,"column":2},"end":{"line":202,"column":43}},"97":{"start":{"line":202,"column":4},"end":{"line":202,"column":43}},"98":{"start":{"line":203,"column":2},"end":{"line":203,"column":42}},"99":{"start":{"line":206,"column":0},"end":{"line":245,"column":2}},"100":{"start":{"line":207,"column":2},"end":{"line":221,"column":3}},"101":{"start":{"line":208,"column":4},"end":{"line":208,"column":29}},"102":{"start":{"line":213,"column":4},"end":{"line":213,"column":106}},"103":{"start":{"line":214,"column":4},"end":{"line":215,"column":68}},"104":{"start":{"line":216,"column":4},"end":{"line":216,"column":49}},"105":{"start":{"line":217,"column":4},"end":{"line":217,"column":42}},"106":{"start":{"line":218,"column":4},"end":{"line":218,"column":92}},"107":{"start":{"line":219,"column":4},"end":{"line":219,"column":40}},"108":{"start":{"line":220,"column":4},"end":{"line":220,"column":11}},"109":{"start":{"line":224,"column":2},"end":{"line":226,"column":3}},"110":{"start":{"line":225,"column":4},"end":{"line":225,"column":62}},"111":{"start":{"line":228,"column":2},"end":{"line":228,"column":79}},"112":{"start":{"line":228,"column":31},"end":{"line":228,"column":79}},"113":{"start":{"line":229,"column":2},"end":{"line":229,"column":81}},"114":{"start":{"line":229,"column":34},"end":{"line":229,"column":81}},"115":{"start":{"line":230,"column":2},"end":{"line":230,"column":76}},"116":{"start":{"line":230,"column":30},"end":{"line":230,"column":76}},"117":{"start":{"line":231,"column":2},"end":{"line":231,"column":101}},"118":{"start":{"line":231,"column":29},"end":{"line":231,"column":101}},"119":{"start":{"line":232,"column":2},"end":{"line":232,"column":91}},"120":{"start":{"line":232,"column":35},"end":{"line":232,"column":91}},"121":{"start":{"line":234,"column":2},"end":{"line":234,"column":14}},"122":{"start":{"line":235,"column":2},"end":{"line":238,"column":3}},"123":{"start":{"line":236,"column":4},"end":{"line":236,"column":67}},"124":{"start":{"line":237,"column":4},"end":{"line":237,"column":40}},"125":{"start":{"line":240,"column":2},"end":{"line":242,"column":3}},"126":{"start":{"line":241,"column":4},"end":{"line":241,"column":38}},"127":{"start":{"line":244,"column":2},"end":{"line":244,"column":47}},"128":{"start":{"line":247,"column":0},"end":{"line":247,"column":29}}},"branchMap":{"1":{"line":28,"type":"cond-expr","locations":[{"start":{"line":28,"column":30},"end":{"line":28,"column":40}},{"start":{"line":28,"column":43},"end":{"line":28,"column":53}}]},"2":{"line":29,"type":"cond-expr","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":47}},{"start":{"line":30,"column":50},"end":{"line":30,"column":59}}]},"3":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":11},"end":{"line":47,"column":17}},{"start":{"line":47,"column":21},"end":{"line":47,"column":22}}]},"4":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":2},"end":{"line":49,"column":2}},{"start":{"line":49,"column":2},"end":{"line":49,"column":2}}]},"5":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":2},"end":{"line":53,"column":2}},{"start":{"line":53,"column":2},"end":{"line":53,"column":2}}]},"6":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":2},"end":{"line":59,"column":2}},{"start":{"line":59,"column":2},"end":{"line":59,"column":2}}]},"7":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":4},"end":{"line":61,"column":4}},{"start":{"line":61,"column":4},"end":{"line":61,"column":4}}]},"8":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":6},"end":{"line":63,"column":6}},{"start":{"line":63,"column":6},"end":{"line":63,"column":6}}]},"9":{"line":74,"type":"switch","locations":[{"start":{"line":75,"column":4},"end":{"line":75,"column":97}},{"start":{"line":76,"column":4},"end":{"line":76,"column":97}},{"start":{"line":77,"column":4},"end":{"line":77,"column":97}},{"start":{"line":78,"column":4},"end":{"line":78,"column":97}},{"start":{"line":79,"column":4},"end":{"line":79,"column":97}},{"start":{"line":80,"column":4},"end":{"line":80,"column":98}},{"start":{"line":81,"column":4},"end":{"line":81,"column":14}},{"start":{"line":82,"column":4},"end":{"line":82,"column":14}},{"start":{"line":83,"column":4},"end":{"line":88,"column":83}},{"start":{"line":89,"column":4},"end":{"line":89,"column":14}},{"start":{"line":90,"column":4},"end":{"line":90,"column":14}},{"start":{"line":91,"column":4},"end":{"line":96,"column":83}},{"start":{"line":97,"column":4},"end":{"line":98,"column":98}}]},"10":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":6},"end":{"line":84,"column":6}},{"start":{"line":84,"column":6},"end":{"line":84,"column":6}}]},"11":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":6},"end":{"line":92,"column":6}},{"start":{"line":92,"column":6},"end":{"line":92,"column":6}}]},"12":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":2},"end":{"line":103,"column":2}},{"start":{"line":103,"column":2},"end":{"line":103,"column":2}}]},"13":{"line":111,"type":"binary-expr","locations":[{"start":{"line":111,"column":13},"end":{"line":111,"column":23}},{"start":{"line":111,"column":27},"end":{"line":111,"column":33}}]},"14":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":2},"end":{"line":112,"column":2}},{"start":{"line":112,"column":2},"end":{"line":112,"column":2}}]},"15":{"line":117,"type":"cond-expr","locations":[{"start":{"line":117,"column":30},"end":{"line":117,"column":33}},{"start":{"line":117,"column":36},"end":{"line":117,"column":48}}]},"16":{"line":131,"type":"binary-expr","locations":[{"start":{"line":131,"column":11},"end":{"line":131,"column":17}},{"start":{"line":131,"column":21},"end":{"line":131,"column":22}}]},"17":{"line":132,"type":"binary-expr","locations":[{"start":{"line":132,"column":15},"end":{"line":132,"column":25}},{"start":{"line":132,"column":29},"end":{"line":132,"column":38}}]},"18":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":2},"end":{"line":135,"column":2}},{"start":{"line":135,"column":2},"end":{"line":135,"column":2}}]},"19":{"line":160,"type":"if","locations":[{"start":{"line":160,"column":2},"end":{"line":160,"column":2}},{"start":{"line":160,"column":2},"end":{"line":160,"column":2}}]},"20":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":2},"end":{"line":164,"column":2}},{"start":{"line":164,"column":2},"end":{"line":164,"column":2}}]},"21":{"line":168,"type":"if","locations":[{"start":{"line":168,"column":4},"end":{"line":168,"column":4}},{"start":{"line":168,"column":4},"end":{"line":168,"column":4}}]},"22":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":4},"end":{"line":170,"column":4}},{"start":{"line":170,"column":4},"end":{"line":170,"column":4}}]},"23":{"line":177,"type":"switch","locations":[{"start":{"line":178,"column":4},"end":{"line":178,"column":63}},{"start":{"line":179,"column":4},"end":{"line":179,"column":61}},{"start":{"line":180,"column":4},"end":{"line":180,"column":68}},{"start":{"line":181,"column":4},"end":{"line":181,"column":60}},{"start":{"line":182,"column":4},"end":{"line":182,"column":60}},{"start":{"line":183,"column":4},"end":{"line":184,"column":77}}]},"24":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":2},"end":{"line":189,"column":2}},{"start":{"line":189,"column":2},"end":{"line":189,"column":2}}]},"25":{"line":189,"type":"binary-expr","locations":[{"start":{"line":189,"column":6},"end":{"line":189,"column":18}},{"start":{"line":189,"column":22},"end":{"line":189,"column":38}}]},"26":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":2},"end":{"line":193,"column":2}},{"start":{"line":193,"column":2},"end":{"line":193,"column":2}}]},"27":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":9},"end":{"line":195,"column":9}},{"start":{"line":195,"column":9},"end":{"line":195,"column":9}}]},"28":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":4},"end":{"line":196,"column":4}},{"start":{"line":196,"column":4},"end":{"line":196,"column":4}}]},"29":{"line":201,"type":"if","locations":[{"start":{"line":201,"column":2},"end":{"line":201,"column":2}},{"start":{"line":201,"column":2},"end":{"line":201,"column":2}}]},"30":{"line":207,"type":"if","locations":[{"start":{"line":207,"column":2},"end":{"line":207,"column":2}},{"start":{"line":207,"column":2},"end":{"line":207,"column":2}}]},"31":{"line":213,"type":"cond-expr","locations":[{"start":{"line":213,"column":64},"end":{"line":213,"column":86}},{"start":{"line":213,"column":89},"end":{"line":213,"column":105}}]},"32":{"line":215,"type":"cond-expr","locations":[{"start":{"line":215,"column":41},"end":{"line":215,"column":52}},{"start":{"line":215,"column":55},"end":{"line":215,"column":67}}]},"33":{"line":218,"type":"cond-expr","locations":[{"start":{"line":218,"column":72},"end":{"line":218,"column":86}},{"start":{"line":218,"column":89},"end":{"line":218,"column":91}}]},"34":{"line":218,"type":"binary-expr","locations":[{"start":{"line":218,"column":22},"end":{"line":218,"column":38}},{"start":{"line":218,"column":42},"end":{"line":218,"column":68}}]},"35":{"line":224,"type":"if","locations":[{"start":{"line":224,"column":2},"end":{"line":224,"column":2}},{"start":{"line":224,"column":2},"end":{"line":224,"column":2}}]},"36":{"line":224,"type":"binary-expr","locations":[{"start":{"line":224,"column":6},"end":{"line":224,"column":27}},{"start":{"line":224,"column":31},"end":{"line":224,"column":74}}]},"37":{"line":225,"type":"binary-expr","locations":[{"start":{"line":225,"column":23},"end":{"line":225,"column":46}},{"start":{"line":225,"column":50},"end":{"line":225,"column":52}}]},"38":{"line":228,"type":"if","locations":[{"start":{"line":228,"column":2},"end":{"line":228,"column":2}},{"start":{"line":228,"column":2},"end":{"line":228,"column":2}}]},"39":{"line":229,"type":"if","locations":[{"start":{"line":229,"column":2},"end":{"line":229,"column":2}},{"start":{"line":229,"column":2},"end":{"line":229,"column":2}}]},"40":{"line":230,"type":"if","locations":[{"start":{"line":230,"column":2},"end":{"line":230,"column":2}},{"start":{"line":230,"column":2},"end":{"line":230,"column":2}}]},"41":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":2},"end":{"line":231,"column":2}},{"start":{"line":231,"column":2},"end":{"line":231,"column":2}}]},"42":{"line":232,"type":"if","locations":[{"start":{"line":232,"column":2},"end":{"line":232,"column":2}},{"start":{"line":232,"column":2},"end":{"line":232,"column":2}}]},"43":{"line":235,"type":"if","locations":[{"start":{"line":235,"column":2},"end":{"line":235,"column":2}},{"start":{"line":235,"column":2},"end":{"line":235,"column":2}}]},"44":{"line":236,"type":"cond-expr","locations":[{"start":{"line":236,"column":28},"end":{"line":236,"column":45}},{"start":{"line":236,"column":48},"end":{"line":236,"column":66}}]},"45":{"line":240,"type":"if","locations":[{"start":{"line":240,"column":2},"end":{"line":240,"column":2}},{"start":{"line":240,"column":2},"end":{"line":240,"column":2}}]},"46":{"line":240,"type":"binary-expr","locations":[{"start":{"line":240,"column":6},"end":{"line":240,"column":18}},{"start":{"line":240,"column":23},"end":{"line":240,"column":57}}]}},"code":["'use strict';","","var Int64 = require('node-int64'),","","    AMQPArray = require('./types/amqp_composites').Array,","    DescribedType = require('./types/described_type'),","    ForcedType = require('./types/forced_type'),","","    types = require('./types'),","    errors = require('./errors'),","    u = require('./utilities');","","/**"," * Build a codec."," *"," * @constructor"," */","var Codec = function() {};","Codec.prototype._peek = function(buf, offset, numBytes) {","  return buf.slice(offset, offset + numBytes);","};","","Codec.prototype._read = function(buf, offset, numBytes) {","  return buf.slice(offset, offset + numBytes);","};","","Codec.prototype._readOrPeekFixed = function(buf, offset, remaining, doNotConsume, numBytes) {","  var reader = doNotConsume ? this._peek : this._read;","  return remaining >= numBytes ?","    [ reader(buf, offset, numBytes), numBytes ] : undefined;","};","","/**"," * Reads a full value's worth of bytes from a circular or regular buffer, or returns undefined if not enough bytes are there."," * Note that for Buffers, the returned Buffer will be a slice (so backed by the original storage)!"," *"," * @param {Buffer|CBuffer} buf              Buffer or circular buffer to read from.  If a Buffer is given, it is assumed to be full."," * @param {integer} [offset=0]              Offset - only valid for Buffer, not CBuffer."," * @param {boolean} [doNotConsume=false]    If set to true, will peek bytes instead of reading them - useful for leaving"," *                                          circular buffer in original state for described values that are not yet complete."," * @param {Number} [forcedCode]             If given, first byte is not assumed to be code and given code will be used - useful for arrays."," * @return {Array}                         Buffer of full value + number of bytes read."," *                                          For described types, will return [ [ descriptor-buffer, value-buffer ], total-bytes ]."," * @private"," */","Codec.prototype._readFullValue = function(buf, offset, doNotConsume, forcedCode) {","  offset = offset || 0;","  var remaining = buf.length - offset;","  if (remaining < 1) return undefined;","","  var code = forcedCode;","  var codeBytes = 0;","  if (code === undefined) {","    code = this._peek(buf, offset, 1)[0];","    codeBytes = 1;","  }","","  // Constructor - need to read two full values back to back of unknown size.  ( ","  if (code === 0x00) {","    var val1 = this._readFullValue(buf, offset + codeBytes, true);","    if (val1 !== undefined) {","      var val2 = this._readFullValue(buf, offset + codeBytes + val1[1], true);","      if (val2 !== undefined) {","        var totalBytes = val1[1] + val2[1] + codeBytes;","        return [[val1[0], val2[0]], totalBytes];","      }","    }","","    return undefined;","  }","","  var codePrefix = code & 0xF0;","  var codeAndLength, numBytes;","  switch (codePrefix) {","    case 0x40: return this._readOrPeekFixed(buf, offset, remaining, doNotConsume, 0 + codeBytes);","    case 0x50: return this._readOrPeekFixed(buf, offset, remaining, doNotConsume, 1 + codeBytes);","    case 0x60: return this._readOrPeekFixed(buf, offset, remaining, doNotConsume, 2 + codeBytes);","    case 0x70: return this._readOrPeekFixed(buf, offset, remaining, doNotConsume, 4 + codeBytes);","    case 0x80: return this._readOrPeekFixed(buf, offset, remaining, doNotConsume, 8 + codeBytes);","    case 0x90: return this._readOrPeekFixed(buf, offset, remaining, doNotConsume, 16 + codeBytes);","    case 0xA0:","    case 0xC0:","    case 0xE0:","      if (remaining < 2) return undefined;","      codeAndLength = this._peek(buf, offset, codeBytes + 1);","      numBytes = codeAndLength[codeBytes] + 1 + codeBytes; // code + size + # octets","      //debug('Reading variable with prefix 0x'+codePrefix.toString(16)+' of length '+numBytes);","      return this._readOrPeekFixed(buf, offset, remaining, doNotConsume, numBytes);","    case 0xB0:","    case 0xD0:","    case 0xF0:","      if (remaining < 5) return false;","      codeAndLength = this._peek(buf, offset, codeBytes + 4);","      numBytes = codeAndLength.readUInt32BE(codeBytes) + 4 + codeBytes; // code + size + #octets","      //debug('Reading variable with prefix 0x'+codePrefix.toString(16)+' of length '+numBytes);","      return this._readOrPeekFixed(buf, offset, remaining, doNotConsume, numBytes);","    default:","      throw new errors.MalformedPayloadError('Unknown code prefix: 0x' + codePrefix.toString(16));","  }","};","","Codec.prototype._asMostSpecific = function(buf, forcedCode) {","  if (buf instanceof Array) {","    // Described type","    var descriptor = this._asMostSpecific(buf[0]);","    var value = this._asMostSpecific(buf[1]);","    var describedType = new DescribedType(descriptor, value);","    return describedType;","  }","","  var code = forcedCode || buf[0];","  if (!types.hasOwnProperty(code)) {","    throw new errors.MalformedPayloadError('Unknown code: 0x' + code.toString(16));","  }","","  var decoder = types[code];","  var valBytes = forcedCode ? buf : buf.slice(1);","  return decoder.decode(valBytes, this);","};","","","/**"," * Decode a single entity from a buffer (starting at offset 0).  Only simple values currently supported."," *"," * @param {Buffer|CBuffer} buf          The buffer/circular buffer to decode.  Will decode a single value per call."," * @param {Number} [offset=0]           The offset to read from (only used for Buffers)."," * @param {Number} [forcedCode]         If given, will not consume first byte for code and will instead use this as the code. Useful for arrays."," * @return {Array}                      Single decoded value + number of bytes consumed."," */","Codec.prototype.decode = function(buf, offset, forcedCode) {","  offset = offset || 0;","  forcedCode = forcedCode || undefined;","","  var fullBuf = this._readFullValue(buf, offset, /* doNotConsume= */false, forcedCode);","  if (fullBuf) {","    var bufVal = fullBuf[0];","    var numBytes = fullBuf[1];","    var value = this._asMostSpecific(bufVal, forcedCode);","    return [value, numBytes];","  }","","  /** @todo: debug unmatched */","  return undefined;","};","","","/**"," * Encode the given value as an AMQP 1.0 bitstring."," *"," * We do a best-effort to determine type.  Objects will be encoded as <code>maps</code>, unless:"," * + They are DescribedTypes, in which case they will be encoded as such."," * + They are Int64s, in which case they will be encoded as <code>longs</code>."," *"," * @param value                         Value to encode."," * @param {builder} buffer              buffer-builder to write into."," * @param {string} [forceType]          If set, forces the encoder for the given type."," */","Codec.prototype.encode = function(value, buffer, forceType) {","  // Special-case null values","  if (value === null) {","    return types.null.encode(value, buffer);","  }","","  if (!!forceType) {","    // @todo: this will unfortunately cause a deoptimization of the method","    //        until at least node 4.2.1, because v8 will assume that lookups","    //        by keyed value are done with a Number rather than a String","    if (!types.hasOwnProperty(forceType)) throw new errors.EncodingError(forceType, 'unknown type ' + forceType);","    var encoder = types[forceType];","    if (!encoder.encode) {","      throw new errors.NotImplementedError('encode(' + forceType + ')');","    }","","    return encoder.encode(value, buffer, this);","  }","","  switch (typeof value) {","    case 'boolean': return types.boolean.encode(value, buffer);","    case 'string': return types.string.encode(value, buffer);","    case 'function': return this.encode(value(), buffer, forceType);","    case 'object': return this._encodeObject(value, buffer);","    case 'number': return this._encodeNumber(value, buffer);","    default:","      throw new errors.NotImplementedError('encode(' + (typeof value) + ')');","  }","};","","Codec.prototype._encodeNumber = function(value, buffer) {","  if (isNaN(value) || !isFinite(value)) {","    throw new errors.EncodingError(value, 'value is not a finite number');","  }","","  if (Math.floor(value) - value !== 0) {","    return types.double.encode(value, buffer);","  } else if (value >= 0) {","    if (value <= 0xFFFFFFFF)","      return types.uint.encode(value, buffer);","    return types.ulong.encode(value, buffer);","  }","","  if (Math.abs(value) <= 0xFFFFFFFF)","    return types.int.encode(value, buffer);","  return types.long.encode(value, buffer);","};","","Codec.prototype._encodeObject = function(value, buffer) {","  if (value instanceof DescribedType) {","    buffer.appendUInt8(0x00);","","    // NOTE: Described type constructors are either ulongs or a symbol. Here","    //       we are checking if the passed in value is a number and forcing a","    //       ulong encoding. For everything else we attempt to encode as a symbol.","    var descriptor = (value.descriptor instanceof ForcedType) ? value.descriptor.value : value.descriptor;","    var descriptorEncoder =","      (typeof descriptor === 'number') ? types.ulong : types.symbol;","    descriptorEncoder.encode(descriptor, buffer);","    var describedValue = value.getValue();","    describedValue = (!!describedValue || u.isNumber(describedValue)) ? describedValue : [];","    this.encode(describedValue, buffer);","    return;","  }","","  // support for composite types","  if (value.toDescribedType && typeof value.toDescribedType === 'function') {","    return this.encode(value.toDescribedType() || [], buffer);","  }","","  if (value instanceof Buffer) return types.binary.encode(value, buffer, this);","  if (value instanceof AMQPArray) return types.array.encode(value, buffer, this);","  if (value instanceof Array) return types.list.encode(value, buffer, this);","  if (value instanceof Date) return types.timestamp.encode(new Int64(value.getTime()), buffer, this);","  if (value instanceof ForcedType) return this.encode(value.value, buffer, value.typeName);","","  var encoder;","  if (value instanceof Int64) {","    encoder = (value < 0) ? types.long.encode : types.ulong.encode;","    return encoder(value, buffer, this);","  }","","  if (value.encode && (typeof value.encode === 'function')) {","    return value.encode(this, buffer);","  }","","  return types.map.encode(value, buffer, this);","};","","module.exports = new Codec();",""],"l":{"3":1,"18":1,"19":1,"20":0,"23":1,"24":0,"27":1,"28":0,"29":0,"46":1,"47":0,"48":0,"49":0,"51":0,"52":0,"53":0,"54":0,"55":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"69":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"84":0,"85":0,"86":0,"88":0,"92":0,"93":0,"94":0,"96":0,"98":0,"102":1,"103":0,"105":0,"106":0,"107":0,"108":0,"111":0,"112":0,"113":0,"116":0,"117":0,"118":0,"130":1,"131":0,"132":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"143":0,"158":1,"160":0,"161":0,"164":0,"168":0,"169":0,"170":0,"171":0,"174":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"184":0,"188":1,"189":0,"190":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"201":0,"202":0,"203":0,"206":1,"207":0,"208":0,"213":0,"214":0,"216":0,"217":0,"218":0,"219":0,"220":0,"224":0,"225":0,"228":0,"229":0,"230":0,"231":0,"232":0,"234":0,"235":0,"236":0,"237":0,"240":0,"241":0,"244":0,"247":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types/amqp_composites.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types/amqp_composites.js","s":{"1":1,"2":0,"3":0,"4":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"AMQPArray","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":37}}}},"statementMap":{"1":{"start":{"line":10,"column":0},"end":{"line":13,"column":1}},"2":{"start":{"line":11,"column":2},"end":{"line":11,"column":19}},"3":{"start":{"line":12,"column":2},"end":{"line":12,"column":33}},"4":{"start":{"line":15,"column":0},"end":{"line":15,"column":33}}},"branchMap":{},"code":["'use strict';","","/**"," * Encoding for AMQP Arrays - homogeneous typed collections.  Provides the CODE for the element type."," *"," * @param {Array} arr           Array contents, should be encode-able to the given code type."," * @param {Number} elementType  BYTE code-point for the array values (e.g. 0xA1)."," * @constructor"," */","function AMQPArray(arr, elementType) {","  this.array = arr;","  this.elementType = elementType;","}","","module.exports.Array = AMQPArray;",""],"l":{"10":1,"11":0,"12":0,"15":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":36,"10":0,"11":36,"12":10,"13":10,"14":26,"15":26,"16":26,"17":13,"18":13,"19":13,"20":0,"21":0,"22":26,"23":2,"24":24,"25":39,"26":39,"27":39,"28":39,"29":1,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":1,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":1,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":1,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":1,"143":1,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":1,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":1,"185":39,"186":39,"187":0,"188":0,"189":39,"190":1,"191":12,"192":0,"193":0,"194":1,"195":5,"196":0,"197":1,"198":1,"199":0,"200":0,"201":0,"202":1,"203":1,"204":1,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":1,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":1,"250":1,"251":1,"252":0,"253":0,"254":0,"255":1,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"289":0,"290":1,"291":1,"292":1,"293":1,"294":1,"295":1,"296":0,"297":0,"298":0,"299":1,"300":0,"301":0,"302":0,"303":0,"304":0,"305":0,"306":0,"307":0,"308":0,"309":1,"310":0,"311":0,"312":1,"313":0,"314":0,"315":0,"316":0,"317":0,"318":0,"319":0,"320":0,"321":0,"322":0,"323":1,"324":0,"325":0,"326":0,"327":0,"328":0,"329":0,"330":0,"331":0,"332":0,"333":0,"334":0,"335":0,"336":0,"337":0,"338":0,"339":0,"340":0,"341":1,"342":0,"343":0,"344":0,"345":0,"346":0,"347":0,"348":0,"349":0,"350":0,"351":0,"352":0,"353":0,"354":1,"355":0,"356":0,"357":0,"358":0,"359":0,"360":1,"361":0,"362":0,"363":0,"364":0,"365":1,"366":0,"367":0,"368":0,"369":0,"370":1,"371":0,"372":0,"373":1,"374":1,"375":1,"376":1,"377":1,"378":1,"379":1,"380":1,"381":1,"382":1,"383":1},"b":{"1":[10,26],"2":[26,0],"3":[13,13],"4":[2,24],"5":[39,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0,0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[39,3],"48":[39,3],"49":[39,3],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0],"74":[0,0],"75":[0,0],"76":[0,0],"77":[0,0],"78":[0,0],"79":[0,0],"80":[0,0],"81":[0,0],"82":[0,0],"83":[0,0],"84":[0,0],"85":[0,0],"86":[0,0],"87":[0,0],"88":[0,0],"89":[0,0],"90":[0,0],"91":[0,0],"92":[0,0],"93":[0,0],"94":[0,0],"95":[0,0]},"f":{"1":0,"2":36,"3":0,"4":0,"5":39,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":39,"15":0,"16":0,"17":12,"18":0,"19":0,"20":5,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0},"fnMap":{"1":{"name":"(anonymous_1)","line":17,"loc":{"start":{"line":17,"column":23},"end":{"line":17,"column":51}}},"2":{"name":"registerType","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":37}}},"3":{"name":"(anonymous_3)","line":20,"loc":{"start":{"line":20,"column":21},"end":{"line":20,"column":37}}},"4":{"name":"(anonymous_4)","line":33,"loc":{"start":{"line":33,"column":25},"end":{"line":33,"column":45}}},"5":{"name":"(anonymous_5)","line":40,"loc":{"start":{"line":40,"column":28},"end":{"line":40,"column":47}}},"6":{"name":"listBuilder","line":99,"loc":{"start":{"line":99,"column":0},"end":{"line":99,"column":47}}},"7":{"name":"listDecoder","line":131,"loc":{"start":{"line":131,"column":0},"end":{"line":131,"column":43}}},"8":{"name":"arrayBuilder","line":170,"loc":{"start":{"line":170,"column":0},"end":{"line":170,"column":47}}},"9":{"name":"arrayDecoder","line":225,"loc":{"start":{"line":225,"column":0},"end":{"line":225,"column":44}}},"10":{"name":"mapBuilder","line":270,"loc":{"start":{"line":270,"column":0},"end":{"line":270,"column":45}}},"11":{"name":"mapBuilderForKeyType","line":312,"loc":{"start":{"line":312,"column":0},"end":{"line":312,"column":39}}},"12":{"name":"mapBuilder","line":313,"loc":{"start":{"line":313,"column":9},"end":{"line":313,"column":54}}},"13":{"name":"mapDecoder","line":357,"loc":{"start":{"line":357,"column":0},"end":{"line":357,"column":46}}},"14":{"name":"encoding","line":376,"loc":{"start":{"line":376,"column":0},"end":{"line":376,"column":33}}},"15":{"name":"(anonymous_15)","line":378,"loc":{"start":{"line":378,"column":35},"end":{"line":378,"column":46}}},"16":{"name":"(anonymous_16)","line":379,"loc":{"start":{"line":379,"column":35},"end":{"line":379,"column":46}}},"17":{"name":"bufferOperations","line":388,"loc":{"start":{"line":388,"column":0},"end":{"line":388,"column":36}}},"18":{"name":"(anonymous_18)","line":390,"loc":{"start":{"line":390,"column":13},"end":{"line":390,"column":33}}},"19":{"name":"(anonymous_19)","line":391,"loc":{"start":{"line":391,"column":13},"end":{"line":391,"column":27}}},"20":{"name":"constantValue","line":395,"loc":{"start":{"line":395,"column":0},"end":{"line":395,"column":30}}},"21":{"name":"(anonymous_21)","line":397,"loc":{"start":{"line":397,"column":13},"end":{"line":397,"column":33}}},"22":{"name":"(anonymous_22)","line":398,"loc":{"start":{"line":398,"column":13},"end":{"line":398,"column":27}}},"23":{"name":"(anonymous_23)","line":404,"loc":{"start":{"line":404,"column":11},"end":{"line":404,"column":31}}},"24":{"name":"(anonymous_24)","line":409,"loc":{"start":{"line":409,"column":15},"end":{"line":409,"column":35}}},"25":{"name":"(anonymous_25)","line":410,"loc":{"start":{"line":410,"column":15},"end":{"line":410,"column":29}}},"26":{"name":"(anonymous_26)","line":418,"loc":{"start":{"line":418,"column":11},"end":{"line":418,"column":31}}},"27":{"name":"(anonymous_27)","line":439,"loc":{"start":{"line":439,"column":11},"end":{"line":439,"column":31}}},"28":{"name":"(anonymous_28)","line":463,"loc":{"start":{"line":463,"column":15},"end":{"line":463,"column":35}}},"29":{"name":"(anonymous_29)","line":476,"loc":{"start":{"line":476,"column":15},"end":{"line":476,"column":29}}},"30":{"name":"(anonymous_30)","line":494,"loc":{"start":{"line":494,"column":11},"end":{"line":494,"column":31}}},"31":{"name":"(anonymous_31)","line":506,"loc":{"start":{"line":506,"column":11},"end":{"line":506,"column":31}}},"32":{"name":"(anonymous_32)","line":515,"loc":{"start":{"line":515,"column":15},"end":{"line":515,"column":35}}},"33":{"name":"(anonymous_33)","line":543,"loc":{"start":{"line":543,"column":15},"end":{"line":543,"column":29}}},"34":{"name":"(anonymous_34)","line":567,"loc":{"start":{"line":567,"column":15},"end":{"line":567,"column":35}}},"35":{"name":"(anonymous_35)","line":571,"loc":{"start":{"line":571,"column":15},"end":{"line":571,"column":29}}},"36":{"name":"(anonymous_36)","line":584,"loc":{"start":{"line":584,"column":15},"end":{"line":584,"column":35}}},"37":{"name":"(anonymous_37)","line":595,"loc":{"start":{"line":595,"column":15},"end":{"line":595,"column":29}}},"38":{"name":"(anonymous_38)","line":612,"loc":{"start":{"line":612,"column":15},"end":{"line":612,"column":35}}},"39":{"name":"(anonymous_39)","line":613,"loc":{"start":{"line":613,"column":15},"end":{"line":613,"column":29}}},"40":{"name":"(anonymous_40)","line":619,"loc":{"start":{"line":619,"column":11},"end":{"line":619,"column":31}}},"41":{"name":"(anonymous_41)","line":627,"loc":{"start":{"line":627,"column":15},"end":{"line":627,"column":35}}},"42":{"name":"(anonymous_42)","line":631,"loc":{"start":{"line":631,"column":15},"end":{"line":631,"column":29}}},"43":{"name":"(anonymous_43)","line":634,"loc":{"start":{"line":634,"column":15},"end":{"line":634,"column":35}}},"44":{"name":"(anonymous_44)","line":638,"loc":{"start":{"line":638,"column":15},"end":{"line":638,"column":29}}},"45":{"name":"(anonymous_45)","line":644,"loc":{"start":{"line":644,"column":11},"end":{"line":644,"column":31}}},"46":{"name":"(anonymous_46)","line":653,"loc":{"start":{"line":653,"column":15},"end":{"line":653,"column":35}}},"47":{"name":"(anonymous_47)","line":658,"loc":{"start":{"line":658,"column":15},"end":{"line":658,"column":29}}},"48":{"name":"(anonymous_48)","line":664,"loc":{"start":{"line":664,"column":15},"end":{"line":664,"column":35}}},"49":{"name":"(anonymous_49)","line":669,"loc":{"start":{"line":669,"column":15},"end":{"line":669,"column":29}}},"50":{"name":"(anonymous_50)","line":679,"loc":{"start":{"line":679,"column":11},"end":{"line":679,"column":31}}},"51":{"name":"(anonymous_51)","line":687,"loc":{"start":{"line":687,"column":15},"end":{"line":687,"column":35}}},"52":{"name":"(anonymous_52)","line":692,"loc":{"start":{"line":692,"column":15},"end":{"line":692,"column":29}}},"53":{"name":"(anonymous_53)","line":695,"loc":{"start":{"line":695,"column":15},"end":{"line":695,"column":35}}},"54":{"name":"(anonymous_54)","line":700,"loc":{"start":{"line":700,"column":15},"end":{"line":700,"column":29}}},"55":{"name":"(anonymous_55)","line":709,"loc":{"start":{"line":709,"column":15},"end":{"line":709,"column":42}}},"56":{"name":"(anonymous_56)","line":710,"loc":{"start":{"line":710,"column":15},"end":{"line":710,"column":29}}},"57":{"name":"(anonymous_57)","line":713,"loc":{"start":{"line":713,"column":15},"end":{"line":713,"column":42}}},"58":{"name":"(anonymous_58)","line":714,"loc":{"start":{"line":714,"column":15},"end":{"line":714,"column":36}}},"59":{"name":"(anonymous_59)","line":717,"loc":{"start":{"line":717,"column":15},"end":{"line":717,"column":42}}},"60":{"name":"(anonymous_60)","line":718,"loc":{"start":{"line":718,"column":15},"end":{"line":718,"column":36}}},"61":{"name":"(anonymous_61)","line":727,"loc":{"start":{"line":727,"column":15},"end":{"line":727,"column":42}}},"62":{"name":"(anonymous_62)","line":728,"loc":{"start":{"line":728,"column":15},"end":{"line":728,"column":36}}},"63":{"name":"(anonymous_63)","line":731,"loc":{"start":{"line":731,"column":15},"end":{"line":731,"column":42}}},"64":{"name":"(anonymous_64)","line":732,"loc":{"start":{"line":732,"column":15},"end":{"line":732,"column":36}}},"65":{"name":"(anonymous_65)","line":741,"loc":{"start":{"line":741,"column":15},"end":{"line":741,"column":42}}},"66":{"name":"(anonymous_66)","line":742,"loc":{"start":{"line":742,"column":15},"end":{"line":742,"column":36}}},"67":{"name":"(anonymous_67)","line":745,"loc":{"start":{"line":745,"column":15},"end":{"line":745,"column":42}}},"68":{"name":"(anonymous_68)","line":746,"loc":{"start":{"line":746,"column":15},"end":{"line":746,"column":36}}},"69":{"name":"(anonymous_69)","line":752,"loc":{"start":{"line":752,"column":11},"end":{"line":752,"column":40}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":9,"column":31}},"2":{"start":{"line":12,"column":0},"end":{"line":12,"column":34}},"3":{"start":{"line":13,"column":0},"end":{"line":13,"column":46}},"4":{"start":{"line":15,"column":0},"end":{"line":15,"column":32}},"5":{"start":{"line":16,"column":0},"end":{"line":16,"column":16}},"6":{"start":{"line":17,"column":0},"end":{"line":17,"column":100}},"7":{"start":{"line":17,"column":53},"end":{"line":17,"column":97}},"8":{"start":{"line":19,"column":0},"end":{"line":45,"column":1}},"9":{"start":{"line":20,"column":2},"end":{"line":20,"column":77}},"10":{"start":{"line":20,"column":39},"end":{"line":20,"column":74}},"11":{"start":{"line":22,"column":2},"end":{"line":25,"column":3}},"12":{"start":{"line":23,"column":4},"end":{"line":23,"column":33}},"13":{"start":{"line":24,"column":4},"end":{"line":24,"column":11}},"14":{"start":{"line":27,"column":2},"end":{"line":27,"column":52}},"15":{"start":{"line":27,"column":35},"end":{"line":27,"column":52}},"16":{"start":{"line":28,"column":2},"end":{"line":37,"column":3}},"17":{"start":{"line":29,"column":4},"end":{"line":29,"column":41}},"18":{"start":{"line":32,"column":4},"end":{"line":32,"column":45}},"19":{"start":{"line":33,"column":4},"end":{"line":36,"column":6}},"20":{"start":{"line":34,"column":6},"end":{"line":34,"column":33}},"21":{"start":{"line":35,"column":6},"end":{"line":35,"column":40}},"22":{"start":{"line":39,"column":2},"end":{"line":39,"column":51}},"23":{"start":{"line":39,"column":44},"end":{"line":39,"column":51}},"24":{"start":{"line":40,"column":2},"end":{"line":44,"column":5}},"25":{"start":{"line":41,"column":4},"end":{"line":41,"column":72}},"26":{"start":{"line":41,"column":46},"end":{"line":41,"column":72}},"27":{"start":{"line":42,"column":4},"end":{"line":42,"column":51}},"28":{"start":{"line":43,"column":4},"end":{"line":43,"column":51}},"29":{"start":{"line":47,"column":0},"end":{"line":47,"column":34}},"30":{"start":{"line":99,"column":0},"end":{"line":129,"column":1}},"31":{"start":{"line":100,"column":2},"end":{"line":102,"column":3}},"32":{"start":{"line":101,"column":4},"end":{"line":101,"column":83}},"33":{"start":{"line":104,"column":2},"end":{"line":107,"column":3}},"34":{"start":{"line":105,"column":4},"end":{"line":105,"column":27}},"35":{"start":{"line":106,"column":4},"end":{"line":106,"column":11}},"36":{"start":{"line":110,"column":2},"end":{"line":110,"column":34}},"37":{"start":{"line":111,"column":2},"end":{"line":111,"column":25}},"38":{"start":{"line":112,"column":2},"end":{"line":112,"column":72}},"39":{"start":{"line":112,"column":36},"end":{"line":112,"column":72}},"40":{"start":{"line":113,"column":2},"end":{"line":113,"column":37}},"41":{"start":{"line":116,"column":2},"end":{"line":126,"column":3}},"42":{"start":{"line":118,"column":4},"end":{"line":118,"column":39}},"43":{"start":{"line":118,"column":16},"end":{"line":118,"column":39}},"44":{"start":{"line":119,"column":4},"end":{"line":119,"column":44}},"45":{"start":{"line":120,"column":4},"end":{"line":120,"column":34}},"46":{"start":{"line":123,"column":4},"end":{"line":123,"column":39}},"47":{"start":{"line":123,"column":16},"end":{"line":123,"column":39}},"48":{"start":{"line":124,"column":4},"end":{"line":124,"column":47}},"49":{"start":{"line":125,"column":4},"end":{"line":125,"column":37}},"50":{"start":{"line":128,"column":2},"end":{"line":128,"column":32}},"51":{"start":{"line":131,"column":0},"end":{"line":142,"column":1}},"52":{"start":{"line":132,"column":2},"end":{"line":132,"column":25}},"53":{"start":{"line":133,"column":2},"end":{"line":133,"column":45}},"54":{"start":{"line":134,"column":2},"end":{"line":134,"column":18}},"55":{"start":{"line":135,"column":2},"end":{"line":139,"column":3}},"56":{"start":{"line":136,"column":4},"end":{"line":136,"column":28}},"57":{"start":{"line":137,"column":4},"end":{"line":137,"column":25}},"58":{"start":{"line":138,"column":4},"end":{"line":138,"column":43}},"59":{"start":{"line":141,"column":2},"end":{"line":141,"column":16}},"60":{"start":{"line":170,"column":0},"end":{"line":223,"column":1}},"61":{"start":{"line":171,"column":2},"end":{"line":173,"column":3}},"62":{"start":{"line":172,"column":4},"end":{"line":172,"column":88}},"63":{"start":{"line":175,"column":2},"end":{"line":178,"column":3}},"64":{"start":{"line":176,"column":4},"end":{"line":176,"column":27}},"65":{"start":{"line":177,"column":4},"end":{"line":177,"column":11}},"66":{"start":{"line":180,"column":2},"end":{"line":182,"column":3}},"67":{"start":{"line":181,"column":4},"end":{"line":181,"column":90}},"68":{"start":{"line":184,"column":2},"end":{"line":184,"column":39}},"69":{"start":{"line":185,"column":2},"end":{"line":185,"column":30}},"70":{"start":{"line":186,"column":2},"end":{"line":186,"column":19}},"71":{"start":{"line":187,"column":2},"end":{"line":204,"column":3}},"72":{"start":{"line":188,"column":4},"end":{"line":188,"column":33}},"73":{"start":{"line":189,"column":4},"end":{"line":189,"column":51}},"74":{"start":{"line":193,"column":4},"end":{"line":203,"column":5}},"75":{"start":{"line":194,"column":6},"end":{"line":200,"column":7}},"76":{"start":{"line":195,"column":8},"end":{"line":195,"column":54}},"77":{"start":{"line":196,"column":8},"end":{"line":196,"column":54}},"78":{"start":{"line":197,"column":8},"end":{"line":197,"column":30}},"79":{"start":{"line":199,"column":8},"end":{"line":199,"column":37}},"80":{"start":{"line":202,"column":6},"end":{"line":202,"column":35}},"81":{"start":{"line":205,"column":2},"end":{"line":205,"column":42}},"82":{"start":{"line":206,"column":2},"end":{"line":206,"column":17}},"83":{"start":{"line":207,"column":2},"end":{"line":219,"column":3}},"84":{"start":{"line":208,"column":4},"end":{"line":208,"column":39}},"85":{"start":{"line":208,"column":16},"end":{"line":208,"column":39}},"86":{"start":{"line":209,"column":4},"end":{"line":209,"column":35}},"87":{"start":{"line":210,"column":4},"end":{"line":210,"column":57}},"88":{"start":{"line":210,"column":45},"end":{"line":210,"column":57}},"89":{"start":{"line":211,"column":4},"end":{"line":211,"column":29}},"90":{"start":{"line":212,"column":4},"end":{"line":212,"column":39}},"91":{"start":{"line":214,"column":4},"end":{"line":214,"column":39}},"92":{"start":{"line":214,"column":16},"end":{"line":214,"column":39}},"93":{"start":{"line":215,"column":4},"end":{"line":215,"column":35}},"94":{"start":{"line":216,"column":4},"end":{"line":216,"column":57}},"95":{"start":{"line":216,"column":45},"end":{"line":216,"column":57}},"96":{"start":{"line":217,"column":4},"end":{"line":217,"column":32}},"97":{"start":{"line":218,"column":4},"end":{"line":218,"column":42}},"98":{"start":{"line":221,"column":2},"end":{"line":221,"column":77}},"99":{"start":{"line":221,"column":43},"end":{"line":221,"column":77}},"100":{"start":{"line":222,"column":2},"end":{"line":222,"column":32}},"101":{"start":{"line":225,"column":0},"end":{"line":245,"column":1}},"102":{"start":{"line":226,"column":2},"end":{"line":226,"column":79}},"103":{"start":{"line":227,"column":2},"end":{"line":227,"column":25}},"104":{"start":{"line":228,"column":2},"end":{"line":228,"column":47}},"105":{"start":{"line":229,"column":2},"end":{"line":231,"column":3}},"106":{"start":{"line":230,"column":4},"end":{"line":230,"column":101}},"107":{"start":{"line":233,"column":2},"end":{"line":233,"column":18}},"108":{"start":{"line":234,"column":2},"end":{"line":242,"column":3}},"109":{"start":{"line":235,"column":4},"end":{"line":235,"column":60}},"110":{"start":{"line":236,"column":4},"end":{"line":238,"column":5}},"111":{"start":{"line":237,"column":6},"end":{"line":237,"column":180}},"112":{"start":{"line":240,"column":4},"end":{"line":240,"column":28}},"113":{"start":{"line":241,"column":4},"end":{"line":241,"column":25}},"114":{"start":{"line":244,"column":2},"end":{"line":244,"column":16}},"115":{"start":{"line":270,"column":0},"end":{"line":310,"column":1}},"116":{"start":{"line":271,"column":2},"end":{"line":273,"column":3}},"117":{"start":{"line":272,"column":4},"end":{"line":272,"column":82}},"118":{"start":{"line":275,"column":2},"end":{"line":277,"column":3}},"119":{"start":{"line":276,"column":4},"end":{"line":276,"column":77}},"120":{"start":{"line":279,"column":2},"end":{"line":279,"column":30}},"121":{"start":{"line":280,"column":2},"end":{"line":285,"column":3}},"122":{"start":{"line":281,"column":4},"end":{"line":281,"column":27}},"123":{"start":{"line":282,"column":4},"end":{"line":282,"column":24}},"124":{"start":{"line":283,"column":4},"end":{"line":283,"column":24}},"125":{"start":{"line":284,"column":4},"end":{"line":284,"column":11}},"126":{"start":{"line":288,"column":2},"end":{"line":288,"column":34}},"127":{"start":{"line":289,"column":2},"end":{"line":289,"column":25}},"128":{"start":{"line":290,"column":2},"end":{"line":293,"column":3}},"129":{"start":{"line":291,"column":4},"end":{"line":291,"column":40}},"130":{"start":{"line":292,"column":4},"end":{"line":292,"column":45}},"131":{"start":{"line":294,"column":2},"end":{"line":294,"column":37}},"132":{"start":{"line":297,"column":2},"end":{"line":307,"column":3}},"133":{"start":{"line":299,"column":4},"end":{"line":299,"column":39}},"134":{"start":{"line":299,"column":16},"end":{"line":299,"column":39}},"135":{"start":{"line":300,"column":4},"end":{"line":300,"column":44}},"136":{"start":{"line":301,"column":4},"end":{"line":301,"column":38}},"137":{"start":{"line":304,"column":4},"end":{"line":304,"column":39}},"138":{"start":{"line":304,"column":16},"end":{"line":304,"column":39}},"139":{"start":{"line":305,"column":4},"end":{"line":305,"column":47}},"140":{"start":{"line":306,"column":4},"end":{"line":306,"column":41}},"141":{"start":{"line":309,"column":2},"end":{"line":309,"column":32}},"142":{"start":{"line":312,"column":0},"end":{"line":355,"column":1}},"143":{"start":{"line":313,"column":2},"end":{"line":354,"column":4}},"144":{"start":{"line":314,"column":4},"end":{"line":316,"column":5}},"145":{"start":{"line":315,"column":6},"end":{"line":315,"column":84}},"146":{"start":{"line":318,"column":4},"end":{"line":320,"column":5}},"147":{"start":{"line":319,"column":6},"end":{"line":319,"column":79}},"148":{"start":{"line":322,"column":4},"end":{"line":322,"column":32}},"149":{"start":{"line":323,"column":4},"end":{"line":328,"column":5}},"150":{"start":{"line":324,"column":6},"end":{"line":324,"column":29}},"151":{"start":{"line":325,"column":6},"end":{"line":325,"column":26}},"152":{"start":{"line":326,"column":6},"end":{"line":326,"column":26}},"153":{"start":{"line":327,"column":6},"end":{"line":327,"column":13}},"154":{"start":{"line":331,"column":4},"end":{"line":331,"column":36}},"155":{"start":{"line":332,"column":4},"end":{"line":332,"column":27}},"156":{"start":{"line":333,"column":4},"end":{"line":337,"column":5}},"157":{"start":{"line":334,"column":6},"end":{"line":334,"column":75}},"158":{"start":{"line":335,"column":6},"end":{"line":335,"column":37}},"159":{"start":{"line":336,"column":6},"end":{"line":336,"column":47}},"160":{"start":{"line":338,"column":4},"end":{"line":338,"column":39}},"161":{"start":{"line":341,"column":4},"end":{"line":351,"column":5}},"162":{"start":{"line":343,"column":6},"end":{"line":343,"column":41}},"163":{"start":{"line":343,"column":18},"end":{"line":343,"column":41}},"164":{"start":{"line":344,"column":6},"end":{"line":344,"column":46}},"165":{"start":{"line":345,"column":6},"end":{"line":345,"column":40}},"166":{"start":{"line":348,"column":6},"end":{"line":348,"column":41}},"167":{"start":{"line":348,"column":18},"end":{"line":348,"column":41}},"168":{"start":{"line":349,"column":6},"end":{"line":349,"column":49}},"169":{"start":{"line":350,"column":6},"end":{"line":350,"column":43}},"170":{"start":{"line":353,"column":4},"end":{"line":353,"column":34}},"171":{"start":{"line":357,"column":0},"end":{"line":374,"column":1}},"172":{"start":{"line":358,"column":2},"end":{"line":358,"column":29}},"173":{"start":{"line":359,"column":2},"end":{"line":359,"column":48}},"174":{"start":{"line":360,"column":2},"end":{"line":360,"column":17}},"175":{"start":{"line":361,"column":2},"end":{"line":361,"column":18}},"176":{"start":{"line":362,"column":2},"end":{"line":371,"column":3}},"177":{"start":{"line":363,"column":4},"end":{"line":363,"column":28}},"178":{"start":{"line":364,"column":4},"end":{"line":364,"column":46}},"179":{"start":{"line":366,"column":4},"end":{"line":370,"column":5}},"180":{"start":{"line":367,"column":6},"end":{"line":367,"column":44}},"181":{"start":{"line":368,"column":6},"end":{"line":368,"column":30}},"182":{"start":{"line":369,"column":6},"end":{"line":369,"column":48}},"183":{"start":{"line":373,"column":2},"end":{"line":373,"column":16}},"184":{"start":{"line":376,"column":0},"end":{"line":386,"column":1}},"185":{"start":{"line":377,"column":2},"end":{"line":377,"column":26}},"186":{"start":{"line":378,"column":2},"end":{"line":379,"column":94}},"187":{"start":{"line":378,"column":48},"end":{"line":378,"column":91}},"188":{"start":{"line":379,"column":48},"end":{"line":379,"column":91}},"189":{"start":{"line":381,"column":2},"end":{"line":385,"column":5}},"190":{"start":{"line":388,"column":0},"end":{"line":393,"column":1}},"191":{"start":{"line":389,"column":2},"end":{"line":392,"column":4}},"192":{"start":{"line":390,"column":35},"end":{"line":390,"column":66}},"193":{"start":{"line":391,"column":29},"end":{"line":391,"column":62}},"194":{"start":{"line":395,"column":0},"end":{"line":400,"column":1}},"195":{"start":{"line":396,"column":2},"end":{"line":399,"column":4}},"196":{"start":{"line":398,"column":29},"end":{"line":398,"column":42}},"197":{"start":{"line":402,"column":0},"end":{"line":402,"column":77}},"198":{"start":{"line":403,"column":0},"end":{"line":413,"column":3}},"199":{"start":{"line":404,"column":33},"end":{"line":404,"column":69}},"200":{"start":{"line":409,"column":37},"end":{"line":409,"column":73}},"201":{"start":{"line":410,"column":31},"end":{"line":410,"column":60}},"202":{"start":{"line":415,"column":0},"end":{"line":415,"column":84}},"203":{"start":{"line":416,"column":0},"end":{"line":416,"column":88}},"204":{"start":{"line":417,"column":0},"end":{"line":436,"column":3}},"205":{"start":{"line":419,"column":4},"end":{"line":419,"column":13}},"206":{"start":{"line":420,"column":4},"end":{"line":426,"column":5}},"207":{"start":{"line":421,"column":6},"end":{"line":421,"column":18}},"208":{"start":{"line":422,"column":11},"end":{"line":426,"column":5}},"209":{"start":{"line":423,"column":6},"end":{"line":423,"column":18}},"210":{"start":{"line":425,"column":6},"end":{"line":425,"column":18}},"211":{"start":{"line":428,"column":4},"end":{"line":428,"column":27}},"212":{"start":{"line":429,"column":4},"end":{"line":429,"column":34}},"213":{"start":{"line":438,"column":0},"end":{"line":489,"column":3}},"214":{"start":{"line":440,"column":4},"end":{"line":440,"column":20}},"215":{"start":{"line":441,"column":4},"end":{"line":454,"column":5}},"216":{"start":{"line":442,"column":6},"end":{"line":442,"column":68}},"217":{"start":{"line":443,"column":6},"end":{"line":447,"column":7}},"218":{"start":{"line":444,"column":8},"end":{"line":444,"column":20}},"219":{"start":{"line":445,"column":13},"end":{"line":447,"column":7}},"220":{"start":{"line":446,"column":8},"end":{"line":446,"column":20}},"221":{"start":{"line":448,"column":11},"end":{"line":454,"column":5}},"222":{"start":{"line":449,"column":6},"end":{"line":449,"column":18}},"223":{"start":{"line":450,"column":11},"end":{"line":454,"column":5}},"224":{"start":{"line":451,"column":6},"end":{"line":451,"column":18}},"225":{"start":{"line":453,"column":6},"end":{"line":453,"column":83}},"226":{"start":{"line":456,"column":4},"end":{"line":456,"column":27}},"227":{"start":{"line":457,"column":4},"end":{"line":457,"column":34}},"228":{"start":{"line":464,"column":8},"end":{"line":464,"column":79}},"229":{"start":{"line":464,"column":34},"end":{"line":464,"column":79}},"230":{"start":{"line":465,"column":8},"end":{"line":465,"column":65}},"231":{"start":{"line":465,"column":35},"end":{"line":465,"column":65}},"232":{"start":{"line":466,"column":8},"end":{"line":466,"column":83}},"233":{"start":{"line":466,"column":65},"end":{"line":466,"column":83}},"234":{"start":{"line":467,"column":8},"end":{"line":469,"column":9}},"235":{"start":{"line":468,"column":10},"end":{"line":468,"column":64}},"236":{"start":{"line":471,"column":8},"end":{"line":471,"column":34}},"237":{"start":{"line":472,"column":8},"end":{"line":472,"column":33}},"238":{"start":{"line":473,"column":8},"end":{"line":473,"column":34}},"239":{"start":{"line":474,"column":8},"end":{"line":474,"column":33}},"240":{"start":{"line":477,"column":8},"end":{"line":477,"column":39}},"241":{"start":{"line":478,"column":8},"end":{"line":478,"column":38}},"242":{"start":{"line":479,"column":8},"end":{"line":480,"column":57}},"243":{"start":{"line":480,"column":10},"end":{"line":480,"column":57}},"244":{"start":{"line":482,"column":8},"end":{"line":482,"column":35}},"245":{"start":{"line":483,"column":8},"end":{"line":483,"column":43}},"246":{"start":{"line":484,"column":8},"end":{"line":484,"column":44}},"247":{"start":{"line":484,"column":30},"end":{"line":484,"column":44}},"248":{"start":{"line":485,"column":8},"end":{"line":485,"column":21}},"249":{"start":{"line":491,"column":0},"end":{"line":491,"column":82}},"250":{"start":{"line":492,"column":0},"end":{"line":492,"column":86}},"251":{"start":{"line":493,"column":0},"end":{"line":503,"column":3}},"252":{"start":{"line":495,"column":4},"end":{"line":495,"column":52}},"253":{"start":{"line":496,"column":4},"end":{"line":496,"column":27}},"254":{"start":{"line":497,"column":4},"end":{"line":497,"column":34}},"255":{"start":{"line":505,"column":0},"end":{"line":556,"column":3}},"256":{"start":{"line":507,"column":4},"end":{"line":507,"column":66}},"257":{"start":{"line":508,"column":4},"end":{"line":508,"column":54}},"258":{"start":{"line":509,"column":4},"end":{"line":509,"column":27}},"259":{"start":{"line":510,"column":4},"end":{"line":510,"column":34}},"260":{"start":{"line":516,"column":8},"end":{"line":516,"column":79}},"261":{"start":{"line":516,"column":34},"end":{"line":516,"column":79}},"262":{"start":{"line":517,"column":8},"end":{"line":517,"column":65}},"263":{"start":{"line":517,"column":35},"end":{"line":517,"column":65}},"264":{"start":{"line":518,"column":8},"end":{"line":518,"column":83}},"265":{"start":{"line":518,"column":65},"end":{"line":518,"column":83}},"266":{"start":{"line":519,"column":8},"end":{"line":521,"column":9}},"267":{"start":{"line":520,"column":10},"end":{"line":520,"column":64}},"268":{"start":{"line":523,"column":8},"end":{"line":523,"column":32}},"269":{"start":{"line":524,"column":8},"end":{"line":524,"column":34}},"270":{"start":{"line":525,"column":8},"end":{"line":525,"column":33}},"271":{"start":{"line":526,"column":8},"end":{"line":541,"column":9}},"272":{"start":{"line":527,"column":10},"end":{"line":527,"column":35}},"273":{"start":{"line":528,"column":10},"end":{"line":528,"column":35}},"274":{"start":{"line":531,"column":10},"end":{"line":532,"column":39}},"275":{"start":{"line":533,"column":10},"end":{"line":538,"column":11}},"276":{"start":{"line":534,"column":12},"end":{"line":534,"column":58}},"277":{"start":{"line":535,"column":12},"end":{"line":535,"column":35}},"278":{"start":{"line":536,"column":12},"end":{"line":536,"column":55}},"279":{"start":{"line":537,"column":12},"end":{"line":537,"column":31}},"280":{"start":{"line":540,"column":10},"end":{"line":540,"column":34}},"281":{"start":{"line":544,"column":8},"end":{"line":544,"column":39}},"282":{"start":{"line":545,"column":8},"end":{"line":545,"column":38}},"283":{"start":{"line":546,"column":8},"end":{"line":547,"column":47}},"284":{"start":{"line":547,"column":10},"end":{"line":547,"column":47}},"285":{"start":{"line":549,"column":8},"end":{"line":549,"column":35}},"286":{"start":{"line":550,"column":8},"end":{"line":550,"column":43}},"287":{"start":{"line":551,"column":8},"end":{"line":551,"column":44}},"288":{"start":{"line":551,"column":30},"end":{"line":551,"column":44}},"289":{"start":{"line":552,"column":8},"end":{"line":552,"column":21}},"290":{"start":{"line":558,"column":0},"end":{"line":558,"column":86}},"291":{"start":{"line":559,"column":0},"end":{"line":559,"column":88}},"292":{"start":{"line":560,"column":0},"end":{"line":560,"column":61}},"293":{"start":{"line":561,"column":0},"end":{"line":561,"column":61}},"294":{"start":{"line":562,"column":0},"end":{"line":562,"column":62}},"295":{"start":{"line":564,"column":0},"end":{"line":579,"column":3}},"296":{"start":{"line":568,"column":8},"end":{"line":568,"column":31}},"297":{"start":{"line":569,"column":8},"end":{"line":569,"column":47}},"298":{"start":{"line":575,"column":8},"end":{"line":575,"column":56}},"299":{"start":{"line":581,"column":0},"end":{"line":607,"column":3}},"300":{"start":{"line":585,"column":8},"end":{"line":593,"column":9}},"301":{"start":{"line":586,"column":10},"end":{"line":586,"column":48}},"302":{"start":{"line":587,"column":15},"end":{"line":593,"column":9}},"303":{"start":{"line":588,"column":10},"end":{"line":588,"column":69}},"304":{"start":{"line":589,"column":15},"end":{"line":593,"column":9}},"305":{"start":{"line":590,"column":10},"end":{"line":590,"column":59}},"306":{"start":{"line":592,"column":10},"end":{"line":592,"column":88}},"307":{"start":{"line":596,"column":8},"end":{"line":596,"column":33}},"308":{"start":{"line":597,"column":8},"end":{"line":597,"column":45}},"309":{"start":{"line":609,"column":0},"end":{"line":616,"column":3}},"310":{"start":{"line":612,"column":37},"end":{"line":612,"column":85}},"311":{"start":{"line":613,"column":31},"end":{"line":613,"column":57}},"312":{"start":{"line":618,"column":0},"end":{"line":641,"column":3}},"313":{"start":{"line":620,"column":4},"end":{"line":620,"column":58}},"314":{"start":{"line":621,"column":4},"end":{"line":621,"column":50}},"315":{"start":{"line":622,"column":4},"end":{"line":622,"column":27}},"316":{"start":{"line":623,"column":4},"end":{"line":623,"column":34}},"317":{"start":{"line":628,"column":8},"end":{"line":628,"column":37}},"318":{"start":{"line":629,"column":8},"end":{"line":629,"column":31}},"319":{"start":{"line":631,"column":31},"end":{"line":631,"column":51}},"320":{"start":{"line":635,"column":8},"end":{"line":635,"column":40}},"321":{"start":{"line":636,"column":8},"end":{"line":636,"column":31}},"322":{"start":{"line":638,"column":31},"end":{"line":638,"column":51}},"323":{"start":{"line":643,"column":0},"end":{"line":676,"column":3}},"324":{"start":{"line":645,"column":4},"end":{"line":645,"column":42}},"325":{"start":{"line":646,"column":4},"end":{"line":646,"column":54}},"326":{"start":{"line":648,"column":4},"end":{"line":648,"column":27}},"327":{"start":{"line":649,"column":4},"end":{"line":649,"column":38}},"328":{"start":{"line":654,"column":8},"end":{"line":654,"column":46}},"329":{"start":{"line":655,"column":8},"end":{"line":655,"column":41}},"330":{"start":{"line":656,"column":8},"end":{"line":656,"column":35}},"331":{"start":{"line":659,"column":8},"end":{"line":659,"column":36}},"332":{"start":{"line":659,"column":26},"end":{"line":659,"column":36}},"333":{"start":{"line":660,"column":8},"end":{"line":660,"column":45}},"334":{"start":{"line":665,"column":8},"end":{"line":665,"column":46}},"335":{"start":{"line":666,"column":8},"end":{"line":666,"column":44}},"336":{"start":{"line":667,"column":8},"end":{"line":667,"column":35}},"337":{"start":{"line":670,"column":8},"end":{"line":670,"column":39}},"338":{"start":{"line":671,"column":8},"end":{"line":671,"column":34}},"339":{"start":{"line":671,"column":24},"end":{"line":671,"column":34}},"340":{"start":{"line":672,"column":8},"end":{"line":672,"column":45}},"341":{"start":{"line":678,"column":0},"end":{"line":703,"column":3}},"342":{"start":{"line":680,"column":4},"end":{"line":680,"column":81}},"343":{"start":{"line":681,"column":4},"end":{"line":681,"column":54}},"344":{"start":{"line":682,"column":4},"end":{"line":682,"column":27}},"345":{"start":{"line":683,"column":4},"end":{"line":683,"column":38}},"346":{"start":{"line":688,"column":8},"end":{"line":688,"column":79}},"347":{"start":{"line":689,"column":8},"end":{"line":689,"column":41}},"348":{"start":{"line":690,"column":8},"end":{"line":690,"column":35}},"349":{"start":{"line":692,"column":31},"end":{"line":692,"column":69}},"350":{"start":{"line":696,"column":8},"end":{"line":696,"column":79}},"351":{"start":{"line":697,"column":8},"end":{"line":697,"column":44}},"352":{"start":{"line":698,"column":8},"end":{"line":698,"column":35}},"353":{"start":{"line":700,"column":31},"end":{"line":700,"column":69}},"354":{"start":{"line":705,"column":0},"end":{"line":721,"column":3}},"355":{"start":{"line":710,"column":31},"end":{"line":710,"column":41}},"356":{"start":{"line":713,"column":44},"end":{"line":713,"column":77}},"357":{"start":{"line":714,"column":38},"end":{"line":714,"column":72}},"358":{"start":{"line":717,"column":44},"end":{"line":717,"column":77}},"359":{"start":{"line":718,"column":38},"end":{"line":718,"column":72}},"360":{"start":{"line":723,"column":0},"end":{"line":735,"column":3}},"361":{"start":{"line":727,"column":44},"end":{"line":727,"column":76}},"362":{"start":{"line":728,"column":38},"end":{"line":728,"column":71}},"363":{"start":{"line":731,"column":44},"end":{"line":731,"column":76}},"364":{"start":{"line":732,"column":38},"end":{"line":732,"column":71}},"365":{"start":{"line":737,"column":0},"end":{"line":749,"column":3}},"366":{"start":{"line":741,"column":44},"end":{"line":741,"column":78}},"367":{"start":{"line":742,"column":38},"end":{"line":742,"column":73}},"368":{"start":{"line":745,"column":44},"end":{"line":745,"column":78}},"369":{"start":{"line":746,"column":38},"end":{"line":746,"column":73}},"370":{"start":{"line":751,"column":0},"end":{"line":757,"column":3}},"371":{"start":{"line":753,"column":4},"end":{"line":754,"column":65}},"372":{"start":{"line":755,"column":4},"end":{"line":755,"column":30}},"373":{"start":{"line":760,"column":0},"end":{"line":760,"column":68}},"374":{"start":{"line":761,"column":0},"end":{"line":761,"column":32}},"375":{"start":{"line":762,"column":0},"end":{"line":762,"column":37}},"376":{"start":{"line":763,"column":0},"end":{"line":763,"column":36}},"377":{"start":{"line":764,"column":0},"end":{"line":764,"column":40}},"378":{"start":{"line":765,"column":0},"end":{"line":765,"column":40}},"379":{"start":{"line":766,"column":0},"end":{"line":766,"column":39}},"380":{"start":{"line":767,"column":0},"end":{"line":767,"column":31}},"381":{"start":{"line":768,"column":0},"end":{"line":768,"column":39}},"382":{"start":{"line":769,"column":0},"end":{"line":769,"column":34}},"383":{"start":{"line":770,"column":0},"end":{"line":770,"column":44}}},"branchMap":{"1":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":2},"end":{"line":22,"column":2}},{"start":{"line":22,"column":2},"end":{"line":22,"column":2}}]},"2":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":27,"column":2}},{"start":{"line":27,"column":2},"end":{"line":27,"column":2}}]},"3":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":2},"end":{"line":28,"column":2}},{"start":{"line":28,"column":2},"end":{"line":28,"column":2}}]},"4":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":2},"end":{"line":39,"column":2}},{"start":{"line":39,"column":2},"end":{"line":39,"column":2}}]},"5":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":4},"end":{"line":41,"column":4}},{"start":{"line":41,"column":4},"end":{"line":41,"column":4}}]},"6":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":2},"end":{"line":100,"column":2}},{"start":{"line":100,"column":2},"end":{"line":100,"column":2}}]},"7":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":2},"end":{"line":104,"column":2}},{"start":{"line":104,"column":2},"end":{"line":104,"column":2}}]},"8":{"line":104,"type":"binary-expr","locations":[{"start":{"line":104,"column":6},"end":{"line":104,"column":12}},{"start":{"line":104,"column":16},"end":{"line":104,"column":33}}]},"9":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":2},"end":{"line":116,"column":2}},{"start":{"line":116,"column":2},"end":{"line":116,"column":2}}]},"10":{"line":116,"type":"binary-expr","locations":[{"start":{"line":116,"column":6},"end":{"line":116,"column":17}},{"start":{"line":116,"column":22},"end":{"line":116,"column":46}},{"start":{"line":116,"column":50},"end":{"line":116,"column":68}},{"start":{"line":116,"column":72},"end":{"line":116,"column":83}}]},"11":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":4},"end":{"line":118,"column":4}},{"start":{"line":118,"column":4},"end":{"line":118,"column":4}}]},"12":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":4},"end":{"line":123,"column":4}},{"start":{"line":123,"column":4},"end":{"line":123,"column":4}}]},"13":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":2},"end":{"line":171,"column":2}},{"start":{"line":171,"column":2},"end":{"line":171,"column":2}}]},"14":{"line":175,"type":"if","locations":[{"start":{"line":175,"column":2},"end":{"line":175,"column":2}},{"start":{"line":175,"column":2},"end":{"line":175,"column":2}}]},"15":{"line":175,"type":"binary-expr","locations":[{"start":{"line":175,"column":6},"end":{"line":175,"column":12}},{"start":{"line":175,"column":16},"end":{"line":175,"column":38}}]},"16":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":2},"end":{"line":180,"column":2}},{"start":{"line":180,"column":2},"end":{"line":180,"column":2}}]},"17":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":4},"end":{"line":193,"column":4}},{"start":{"line":193,"column":4},"end":{"line":193,"column":4}}]},"18":{"line":194,"type":"if","locations":[{"start":{"line":194,"column":6},"end":{"line":194,"column":6}},{"start":{"line":194,"column":6},"end":{"line":194,"column":6}}]},"19":{"line":207,"type":"if","locations":[{"start":{"line":207,"column":2},"end":{"line":207,"column":2}},{"start":{"line":207,"column":2},"end":{"line":207,"column":2}}]},"20":{"line":207,"type":"binary-expr","locations":[{"start":{"line":207,"column":6},"end":{"line":207,"column":17}},{"start":{"line":207,"column":22},"end":{"line":207,"column":33}},{"start":{"line":207,"column":37},"end":{"line":207,"column":61}},{"start":{"line":207,"column":65},"end":{"line":207,"column":88}}]},"21":{"line":208,"type":"if","locations":[{"start":{"line":208,"column":4},"end":{"line":208,"column":4}},{"start":{"line":208,"column":4},"end":{"line":208,"column":4}}]},"22":{"line":210,"type":"if","locations":[{"start":{"line":210,"column":4},"end":{"line":210,"column":4}},{"start":{"line":210,"column":4},"end":{"line":210,"column":4}}]},"23":{"line":214,"type":"if","locations":[{"start":{"line":214,"column":4},"end":{"line":214,"column":4}},{"start":{"line":214,"column":4},"end":{"line":214,"column":4}}]},"24":{"line":216,"type":"if","locations":[{"start":{"line":216,"column":4},"end":{"line":216,"column":4}},{"start":{"line":216,"column":4},"end":{"line":216,"column":4}}]},"25":{"line":221,"type":"if","locations":[{"start":{"line":221,"column":2},"end":{"line":221,"column":2}},{"start":{"line":221,"column":2},"end":{"line":221,"column":2}}]},"26":{"line":226,"type":"cond-expr","locations":[{"start":{"line":226,"column":30},"end":{"line":226,"column":49}},{"start":{"line":226,"column":52},"end":{"line":226,"column":78}}]},"27":{"line":229,"type":"if","locations":[{"start":{"line":229,"column":2},"end":{"line":229,"column":2}},{"start":{"line":229,"column":2},"end":{"line":229,"column":2}}]},"28":{"line":236,"type":"if","locations":[{"start":{"line":236,"column":4},"end":{"line":236,"column":4}},{"start":{"line":236,"column":4},"end":{"line":236,"column":4}}]},"29":{"line":271,"type":"if","locations":[{"start":{"line":271,"column":2},"end":{"line":271,"column":2}},{"start":{"line":271,"column":2},"end":{"line":271,"column":2}}]},"30":{"line":275,"type":"if","locations":[{"start":{"line":275,"column":2},"end":{"line":275,"column":2}},{"start":{"line":275,"column":2},"end":{"line":275,"column":2}}]},"31":{"line":280,"type":"if","locations":[{"start":{"line":280,"column":2},"end":{"line":280,"column":2}},{"start":{"line":280,"column":2},"end":{"line":280,"column":2}}]},"32":{"line":280,"type":"binary-expr","locations":[{"start":{"line":280,"column":6},"end":{"line":280,"column":12}},{"start":{"line":280,"column":16},"end":{"line":280,"column":33}}]},"33":{"line":297,"type":"if","locations":[{"start":{"line":297,"column":2},"end":{"line":297,"column":2}},{"start":{"line":297,"column":2},"end":{"line":297,"column":2}}]},"34":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":6},"end":{"line":297,"column":17}},{"start":{"line":297,"column":22},"end":{"line":297,"column":33}},{"start":{"line":297,"column":37},"end":{"line":297,"column":61}}]},"35":{"line":299,"type":"if","locations":[{"start":{"line":299,"column":4},"end":{"line":299,"column":4}},{"start":{"line":299,"column":4},"end":{"line":299,"column":4}}]},"36":{"line":304,"type":"if","locations":[{"start":{"line":304,"column":4},"end":{"line":304,"column":4}},{"start":{"line":304,"column":4},"end":{"line":304,"column":4}}]},"37":{"line":314,"type":"if","locations":[{"start":{"line":314,"column":4},"end":{"line":314,"column":4}},{"start":{"line":314,"column":4},"end":{"line":314,"column":4}}]},"38":{"line":318,"type":"if","locations":[{"start":{"line":318,"column":4},"end":{"line":318,"column":4}},{"start":{"line":318,"column":4},"end":{"line":318,"column":4}}]},"39":{"line":323,"type":"if","locations":[{"start":{"line":323,"column":4},"end":{"line":323,"column":4}},{"start":{"line":323,"column":4},"end":{"line":323,"column":4}}]},"40":{"line":323,"type":"binary-expr","locations":[{"start":{"line":323,"column":8},"end":{"line":323,"column":14}},{"start":{"line":323,"column":18},"end":{"line":323,"column":35}}]},"41":{"line":334,"type":"cond-expr","locations":[{"start":{"line":334,"column":30},"end":{"line":334,"column":63}},{"start":{"line":334,"column":66},"end":{"line":334,"column":74}}]},"42":{"line":341,"type":"if","locations":[{"start":{"line":341,"column":4},"end":{"line":341,"column":4}},{"start":{"line":341,"column":4},"end":{"line":341,"column":4}}]},"43":{"line":341,"type":"binary-expr","locations":[{"start":{"line":341,"column":8},"end":{"line":341,"column":19}},{"start":{"line":341,"column":24},"end":{"line":341,"column":35}},{"start":{"line":341,"column":39},"end":{"line":341,"column":63}}]},"44":{"line":343,"type":"if","locations":[{"start":{"line":343,"column":6},"end":{"line":343,"column":6}},{"start":{"line":343,"column":6},"end":{"line":343,"column":6}}]},"45":{"line":348,"type":"if","locations":[{"start":{"line":348,"column":6},"end":{"line":348,"column":6}},{"start":{"line":348,"column":6},"end":{"line":348,"column":6}}]},"46":{"line":366,"type":"if","locations":[{"start":{"line":366,"column":4},"end":{"line":366,"column":4}},{"start":{"line":366,"column":4},"end":{"line":366,"column":4}}]},"47":{"line":377,"type":"binary-expr","locations":[{"start":{"line":377,"column":12},"end":{"line":377,"column":19}},{"start":{"line":377,"column":23},"end":{"line":377,"column":25}}]},"48":{"line":378,"type":"binary-expr","locations":[{"start":{"line":378,"column":16},"end":{"line":378,"column":31}},{"start":{"line":378,"column":35},"end":{"line":378,"column":93}}]},"49":{"line":379,"type":"binary-expr","locations":[{"start":{"line":379,"column":16},"end":{"line":379,"column":31}},{"start":{"line":379,"column":35},"end":{"line":379,"column":93}}]},"50":{"line":404,"type":"cond-expr","locations":[{"start":{"line":404,"column":56},"end":{"line":404,"column":60}},{"start":{"line":404,"column":63},"end":{"line":404,"column":67}}]},"51":{"line":409,"type":"cond-expr","locations":[{"start":{"line":409,"column":60},"end":{"line":409,"column":64}},{"start":{"line":409,"column":67},"end":{"line":409,"column":71}}]},"52":{"line":410,"type":"cond-expr","locations":[{"start":{"line":410,"column":47},"end":{"line":410,"column":51}},{"start":{"line":410,"column":54},"end":{"line":410,"column":59}}]},"53":{"line":420,"type":"if","locations":[{"start":{"line":420,"column":4},"end":{"line":420,"column":4}},{"start":{"line":420,"column":4},"end":{"line":420,"column":4}}]},"54":{"line":422,"type":"if","locations":[{"start":{"line":422,"column":11},"end":{"line":422,"column":11}},{"start":{"line":422,"column":11},"end":{"line":422,"column":11}}]},"55":{"line":441,"type":"if","locations":[{"start":{"line":441,"column":4},"end":{"line":441,"column":4}},{"start":{"line":441,"column":4},"end":{"line":441,"column":4}}]},"56":{"line":441,"type":"binary-expr","locations":[{"start":{"line":441,"column":8},"end":{"line":441,"column":28}},{"start":{"line":441,"column":32},"end":{"line":441,"column":42}}]},"57":{"line":442,"type":"cond-expr","locations":[{"start":{"line":442,"column":43},"end":{"line":442,"column":61}},{"start":{"line":442,"column":64},"end":{"line":442,"column":67}}]},"58":{"line":443,"type":"if","locations":[{"start":{"line":443,"column":6},"end":{"line":443,"column":6}},{"start":{"line":443,"column":6},"end":{"line":443,"column":6}}]},"59":{"line":445,"type":"if","locations":[{"start":{"line":445,"column":13},"end":{"line":445,"column":13}},{"start":{"line":445,"column":13},"end":{"line":445,"column":13}}]},"60":{"line":448,"type":"if","locations":[{"start":{"line":448,"column":11},"end":{"line":448,"column":11}},{"start":{"line":448,"column":11},"end":{"line":448,"column":11}}]},"61":{"line":448,"type":"binary-expr","locations":[{"start":{"line":448,"column":15},"end":{"line":448,"column":22}},{"start":{"line":448,"column":26},"end":{"line":448,"column":37}}]},"62":{"line":450,"type":"if","locations":[{"start":{"line":450,"column":11},"end":{"line":450,"column":11}},{"start":{"line":450,"column":11},"end":{"line":450,"column":11}}]},"63":{"line":464,"type":"if","locations":[{"start":{"line":464,"column":8},"end":{"line":464,"column":8}},{"start":{"line":464,"column":8},"end":{"line":464,"column":8}}]},"64":{"line":465,"type":"if","locations":[{"start":{"line":465,"column":8},"end":{"line":465,"column":8}},{"start":{"line":465,"column":8},"end":{"line":465,"column":8}}]},"65":{"line":466,"type":"if","locations":[{"start":{"line":466,"column":8},"end":{"line":466,"column":8}},{"start":{"line":466,"column":8},"end":{"line":466,"column":8}}]},"66":{"line":466,"type":"binary-expr","locations":[{"start":{"line":466,"column":12},"end":{"line":466,"column":35}},{"start":{"line":466,"column":39},"end":{"line":466,"column":63}}]},"67":{"line":467,"type":"if","locations":[{"start":{"line":467,"column":8},"end":{"line":467,"column":8}},{"start":{"line":467,"column":8},"end":{"line":467,"column":8}}]},"68":{"line":479,"type":"if","locations":[{"start":{"line":479,"column":8},"end":{"line":479,"column":8}},{"start":{"line":479,"column":8},"end":{"line":479,"column":8}}]},"69":{"line":484,"type":"if","locations":[{"start":{"line":484,"column":8},"end":{"line":484,"column":8}},{"start":{"line":484,"column":8},"end":{"line":484,"column":8}}]},"70":{"line":495,"type":"cond-expr","locations":[{"start":{"line":495,"column":40},"end":{"line":495,"column":44}},{"start":{"line":495,"column":47},"end":{"line":495,"column":51}}]},"71":{"line":507,"type":"cond-expr","locations":[{"start":{"line":507,"column":41},"end":{"line":507,"column":59}},{"start":{"line":507,"column":62},"end":{"line":507,"column":65}}]},"72":{"line":508,"type":"cond-expr","locations":[{"start":{"line":508,"column":42},"end":{"line":508,"column":46}},{"start":{"line":508,"column":49},"end":{"line":508,"column":53}}]},"73":{"line":516,"type":"if","locations":[{"start":{"line":516,"column":8},"end":{"line":516,"column":8}},{"start":{"line":516,"column":8},"end":{"line":516,"column":8}}]},"74":{"line":517,"type":"if","locations":[{"start":{"line":517,"column":8},"end":{"line":517,"column":8}},{"start":{"line":517,"column":8},"end":{"line":517,"column":8}}]},"75":{"line":518,"type":"if","locations":[{"start":{"line":518,"column":8},"end":{"line":518,"column":8}},{"start":{"line":518,"column":8},"end":{"line":518,"column":8}}]},"76":{"line":518,"type":"binary-expr","locations":[{"start":{"line":518,"column":12},"end":{"line":518,"column":35}},{"start":{"line":518,"column":39},"end":{"line":518,"column":63}}]},"77":{"line":519,"type":"if","locations":[{"start":{"line":519,"column":8},"end":{"line":519,"column":8}},{"start":{"line":519,"column":8},"end":{"line":519,"column":8}}]},"78":{"line":526,"type":"if","locations":[{"start":{"line":526,"column":8},"end":{"line":526,"column":8}},{"start":{"line":526,"column":8},"end":{"line":526,"column":8}}]},"79":{"line":536,"type":"cond-expr","locations":[{"start":{"line":536,"column":34},"end":{"line":536,"column":38}},{"start":{"line":536,"column":41},"end":{"line":536,"column":54}}]},"80":{"line":546,"type":"if","locations":[{"start":{"line":546,"column":8},"end":{"line":546,"column":8}},{"start":{"line":546,"column":8},"end":{"line":546,"column":8}}]},"81":{"line":546,"type":"binary-expr","locations":[{"start":{"line":546,"column":12},"end":{"line":546,"column":37}},{"start":{"line":546,"column":41},"end":{"line":546,"column":67}}]},"82":{"line":551,"type":"if","locations":[{"start":{"line":551,"column":8},"end":{"line":551,"column":8}},{"start":{"line":551,"column":8},"end":{"line":551,"column":8}}]},"83":{"line":585,"type":"if","locations":[{"start":{"line":585,"column":8},"end":{"line":585,"column":8}},{"start":{"line":585,"column":8},"end":{"line":585,"column":8}}]},"84":{"line":587,"type":"if","locations":[{"start":{"line":587,"column":15},"end":{"line":587,"column":15}},{"start":{"line":587,"column":15},"end":{"line":587,"column":15}}]},"85":{"line":589,"type":"if","locations":[{"start":{"line":589,"column":15},"end":{"line":589,"column":15}},{"start":{"line":589,"column":15},"end":{"line":589,"column":15}}]},"86":{"line":620,"type":"cond-expr","locations":[{"start":{"line":620,"column":36},"end":{"line":620,"column":39}},{"start":{"line":620,"column":42},"end":{"line":620,"column":57}}]},"87":{"line":621,"type":"cond-expr","locations":[{"start":{"line":621,"column":38},"end":{"line":621,"column":42}},{"start":{"line":621,"column":45},"end":{"line":621,"column":49}}]},"88":{"line":646,"type":"cond-expr","locations":[{"start":{"line":646,"column":42},"end":{"line":646,"column":46}},{"start":{"line":646,"column":49},"end":{"line":646,"column":53}}]},"89":{"line":659,"type":"if","locations":[{"start":{"line":659,"column":8},"end":{"line":659,"column":8}},{"start":{"line":659,"column":8},"end":{"line":659,"column":8}}]},"90":{"line":671,"type":"if","locations":[{"start":{"line":671,"column":8},"end":{"line":671,"column":8}},{"start":{"line":671,"column":8},"end":{"line":671,"column":8}}]},"91":{"line":680,"type":"cond-expr","locations":[{"start":{"line":680,"column":55},"end":{"line":680,"column":64}},{"start":{"line":680,"column":67},"end":{"line":680,"column":70}}]},"92":{"line":681,"type":"cond-expr","locations":[{"start":{"line":681,"column":42},"end":{"line":681,"column":46}},{"start":{"line":681,"column":49},"end":{"line":681,"column":53}}]},"93":{"line":688,"type":"cond-expr","locations":[{"start":{"line":688,"column":48},"end":{"line":688,"column":51}},{"start":{"line":688,"column":54},"end":{"line":688,"column":78}}]},"94":{"line":696,"type":"cond-expr","locations":[{"start":{"line":696,"column":48},"end":{"line":696,"column":51}},{"start":{"line":696,"column":54},"end":{"line":696,"column":78}}]},"95":{"line":753,"type":"cond-expr","locations":[{"start":{"line":754,"column":6},"end":{"line":754,"column":26}},{"start":{"line":754,"column":29},"end":{"line":754,"column":64}}]}},"code":["'use strict';","var Builder = require('buffer-builder'),","    Int64 = require('node-int64'),","    errors = require('./errors'),","    AMQPArray = require('./types/amqp_composites').Array,","    AMQPError = require('./types/amqp_error'),","    ForcedType = require('./types/forced_type'),","    DescribedType = require('./types/described_type'),","    u = require('./utilities');","","// constants","var MAX_UINT = Math.pow(1<<16, 2);","var MAX_SAFE_HIGH_BITS = Math.pow(2, 53 - 32);","","var types = module.exports = {};","types.Type = {};","types.Type.described = function(descriptor, value) { return new DescribedType(descriptor, value); };","","function registerType(name, options) {","  types.Type[name] = function(value) { return new ForcedType(name, value); };","","  if (typeof options === 'string') { // this is an alias","    types[name] = types[options];","    return;","  }","","  if (!types.hasOwnProperty(name)) types[name] = {};","  if (!!options.encoder) {","    types[name].encode = options.encoder;","  } else {","    // default to first encoding","    var typeCode = options.encodings[0].code;","    types[name].encode = function(val, bufb) {","      bufb.appendUInt8(typeCode);","      types[typeCode].encode(val, bufb);","    };","  }","","  if (!options.hasOwnProperty('encodings')) return;","  options.encodings.forEach(function(encoding) {","    if (!types.hasOwnProperty(encoding.code)) types[encoding.code] = {};","    types[encoding.code].decode = encoding.decoder;","    types[encoding.code].encode = encoding.encoder;","  });","}","","types.registerType = registerType;","","/**"," * Encoder methods are used for all examples of that type and are expected to encode to the proper"," * type (e.g. a uint will encode to the fixed-zero-value, the short uint, or the full uint as appropriate)."," *"," * @function encoder"," * @param val               Value to encode (for fixed value encoders (e.g. null) this will be ignored)"," * @param {Builder} buf     Buffer-builder into which to write code and encoded value"," * @param {Codec} [codec]   If needed, the codec to encode other values (e.g. for lists/arrays)"," */","","/**"," * Decoder methods decode an incoming buffer into an appropriate concrete JS entity."," *"," * @function decoder"," * @param {Buffer} buf          Buffer to decode, stripped of prefix code (e.g. 0xA1 0x03 'foo' would"," *                              have the 0xA1 stripped)"," * @param {Codec} [codec]       If needed, the codec to decode sub-values for composite types."," * @return                      Decoded value"," */","","/**"," * Encoder for list types, specified in AMQP 1.0 as:"," *"," <pre>","                       +----------= count items =----------+","                       |                                   |","   n OCTETs   n OCTETs |                                   |"," +----------+----------+--------------+------------+-------+"," |   size   |  count   |      ...    /|    item    |\\ ...  |"," +----------+----------+------------/ +------------+ \\-----+","                                   / /              \\ \\","                                  / /                \\ \\","                                 / /                  \\ \\","                                +-------------+----------+","                                | constructor |   data   |","                                +-------------+----------+","","              Subcategory     n","              =================","              0xC             1","              0xD             4"," </pre>"," *"," * @param {Array} val           Value to encode."," * @param {Builder} bufb        Buffer-encoder to write encoded list into."," * @param {Codec} codec         Codec to use for encoding list entries."," * @param {Number} [width]      Should be 1 or 4.  If given, encoder assumes code already written,"," *                              and will ensure array is encoded to the given byte-width type. Useful for arrays."," * @private"," */","function listBuilder(list, bufb, codec, width) {","  if (!Array.isArray(list)) {","    throw new errors.EncodingError(list, 'Unsure how to encode non-array as list');","  }","","  if (!width && list.length === 0) {","    bufb.appendUInt8(0x45);","    return;","  }","","  // Encode all elements into a temp buffer to allow us to front-load appropriate size and count.","  var tempBuilder = new Builder();","  var _len = list.length;","  for (var _i = 0; _i < _len; ++_i) codec.encode(list[_i], tempBuilder);","  var tempBuffer = tempBuilder.get();","","  // Code, size, length, data","  if (width === 1 || (tempBuffer.length < 0xFF && list.length < 0xFF && width !== 4)) {","    // list8","    if (!width) bufb.appendUInt8(0xC0);","    bufb.appendUInt8(tempBuffer.length + 1);","    bufb.appendUInt8(list.length);","  } else {","    // list32","    if (!width) bufb.appendUInt8(0xD0);","    bufb.appendUInt32BE(tempBuffer.length + 4);","    bufb.appendUInt32BE(list.length);","  }","","  bufb.appendBuffer(tempBuffer);","}","","function listDecoder(width, buffer, codec) {","  var offset = width * 2;","  var decoded = codec.decode(buffer, offset);","  var result = [];","  while (decoded !== undefined) {","    result.push(decoded[0]);","    offset += decoded[1];","    decoded = codec.decode(buffer, offset);","  }","","  return result;","}","","/**"," *"," * All array encodings consist of a size followed by a count followed by an element constructor"," * followed by <i>count</i> elements of encoded data formatted as required by the element"," * constructor:"," <pre>","                                             +--= count elements =--+","                                             |                      |","   n OCTETs   n OCTETs                       |                      |"," +----------+----------+---------------------+-------+------+-------+"," |   size   |  count   | element-constructor |  ...  | data |  ...  |"," +----------+----------+---------------------+-------+------+-------+","","                         Subcategory     n","                         =================","                         0xE             1","                         0xF             4"," </pre>"," *"," * @param {AMQPArray} val       Value to encode."," * @param {Builder} bufb        Buffer-encoder to encode array into."," * @param {Codec} codec         Codec to use for encoding array values.  Passed into encoder."," * @param {Number} [width]      Should be 1 or 4.  If given, encoder assumes code already written,"," *                              and will ensure array is encoded to the given byte-width type. Useful for arrays."," * @private"," */","function arrayBuilder(val, bufb, codec, width) {","  if (!(val instanceof AMQPArray)) {","    throw new errors.EncodingError(val, 'Unsure how to encode non-amqp array as array');","  }","","  if (!width && val.array.length === 0) {","    bufb.appendUInt8(0x40); // null","    return;","  }","","  if (!types.hasOwnProperty(val.elementType)) {","    throw new errors.EncodingError(val.elementType, 'invalid element type for AMQPArray');","  }","","  var encoder = types[val.elementType];","  var _len = val.array.length;","  var buffers = [];","  for (var _i = 0; _i < _len; ++_i) {","    var tempBufb = new Builder();","    encoder.encode(val.array[_i], tempBufb, codec);","","    // NOTE: massive hack around the fact that we haven't split the code","    // from encoding.","    if (typeof val.elementType === 'string') {","      if (_i > 0) {","        var tempBuf = new Buffer(tempBufb.length - 1);","        tempBufb.copy(tempBuf, 0, 1, tempBufb.length);","        buffers.push(tempBuf);","      } else {","        buffers.push(tempBufb.get());","      }","    } else {","      buffers.push(tempBufb.get());","    }","  }","  var arrayBytes = Buffer.concat(buffers);","  var length = 0;","  if (width === 1 || (width !== 4 && arrayBytes.length < 0xFF && val.array.length < 0xFF)) {","    if (!width) bufb.appendUInt8(0xE0);","    length = arrayBytes.length + 1;","    if (typeof val.elementType === 'number') length += 1;","    bufb.appendUInt8(length); // buffer + count + constructor","    bufb.appendUInt8(val.array.length);","  } else {","    if (!width) bufb.appendUInt8(0xF0);","    length = arrayBytes.length + 4;","    if (typeof val.elementType === 'number') length += 1;","    bufb.appendUInt32BE(length); // buffer + count + constructor","    bufb.appendUInt32BE(val.array.length);","  }","","  if (typeof val.elementType === 'number') bufb.appendUInt8(val.elementType);","  bufb.appendBuffer(arrayBytes);","}","","function arrayDecoder(width, buffer, codec) {","  var count = (width === 1) ? buffer.readUInt8(1) : buffer.readUInt32BE(width);","  var offset = width * 2;","  var elementType = buffer.readUInt8(offset++);","  if (!types.hasOwnProperty(elementType)) {","    throw new errors.MalformedPayloadError('Unknown array element type ' + elementType.toString(16));","  }","","  var result = [];","  for (var idx = 0; idx < count; ++idx) {","    var decoded = codec.decode(buffer, offset, elementType);","    if (!decoded) {","      throw new errors.MalformedPayloadError('Unable to decode value of ' + elementType.toString(16) + ' from buffer ' + buffer.toString('hex') + ' at index ' + idx + ' of array');","    }","","    result.push(decoded[0]);","    offset += decoded[1];","  }","","  return result;","}","","/**"," * A map is encoded as a compound value where the constituent elements form alternating key value pairs."," *"," <pre>","  item 0   item 1      item n-1    item n"," +-------+-------+----+---------+---------+"," | key 1 | val 1 | .. | key n/2 | val n/2 |"," +-------+-------+----+---------+---------+"," </pre>"," *"," * Map encodings must contain an even number of items (i.e. an equal number of keys and"," * values). A map in which there exist two identical key values is invalid. Unless known to"," * be otherwise, maps must be considered to be ordered - that is the order of the key-value"," * pairs is semantically important and two maps which are different only in the order in"," * which their key-value pairs are encoded are not equal."," *"," * @param {Object} val          Value to encode."," * @param {Builder} bufb        Buffer-builder to encode map into."," * @param {Codec} codec         Codec to use for encoding keys and values."," * @param {Number} [width]      Should be 1 or 4.  If given, encoder assumes code already written,"," *                              and will ensure array is encoded to the given byte-width type. Useful for arrays."," * @private"," */","function mapBuilder(map, bufb, codec, width) {","  if (typeof map !== 'object') {","    throw new errors.EncodingError(map, 'Unsure how to encode non-object as map');","  }","","  if (Array.isArray(map)) {","    throw new errors.EncodingError(map, 'Unsure how to encode array as map');","  }","","  var keys = Object.keys(map);","  if (!width && keys.length === 0) {","    bufb.appendUInt8(0xC1);","    bufb.appendUInt8(1);","    bufb.appendUInt8(0);","    return;","  }","","  // Encode all elements into a temp buffer to allow us to front-load appropriate size and count.","  var tempBuilder = new Builder();","  var _len = keys.length;","  for (var _i = 0; _i < _len; ++_i) {","    codec.encode(keys[_i], tempBuilder);","    codec.encode(map[keys[_i]], tempBuilder);","  }","  var tempBuffer = tempBuilder.get();","","  // Code, size, length, data","  if (width === 1 || (width !== 4 && tempBuffer.length < 0xFF)) {","    // map8","    if (!width) bufb.appendUInt8(0xC1);","    bufb.appendUInt8(tempBuffer.length + 1);","    bufb.appendUInt8(keys.length * 2);","  } else {","    // map32","    if (!width) bufb.appendUInt8(0xD1);","    bufb.appendUInt32BE(tempBuffer.length + 4);","    bufb.appendUInt32BE(keys.length * 2);","  }","","  bufb.appendBuffer(tempBuffer);","}","","function mapBuilderForKeyType(keyType) {","  return function mapBuilder(map, bufb, codec, width) {","    if (typeof map !== 'object') {","      throw new errors.EncodingError(map, 'Unsure how to encode non-object as map');","    }","","    if (Array.isArray(map)) {","      throw new errors.EncodingError(map, 'Unsure how to encode array as map');","    }","","    var keys = Object.keys(map);","    if (!width && keys.length === 0) {","      bufb.appendUInt8(0xC1);","      bufb.appendUInt8(1);","      bufb.appendUInt8(0);","      return;","    }","","    // Encode all elements into a temp buffer to allow us to front-load appropriate size and count.","    var tempBuilder = new Builder();","    var _len = keys.length;","    for (var _i = 0; _i < _len; ++_i) {","      var key = (!!keyType) ? new ForcedType(keyType, keys[_i]) : keys[_i];","      codec.encode(key, tempBuilder);","      codec.encode(map[keys[_i]], tempBuilder);","    }","    var tempBuffer = tempBuilder.get();","","    // Code, size, length, data","    if (width === 1 || (width !== 4 && tempBuffer.length < 0xFF)) {","      // map8","      if (!width) bufb.appendUInt8(0xC1);","      bufb.appendUInt8(tempBuffer.length + 1);","      bufb.appendUInt8(keys.length * 2);","    } else {","      // map32","      if (!width) bufb.appendUInt8(0xD1);","      bufb.appendUInt32BE(tempBuffer.length + 4);","      bufb.appendUInt32BE(keys.length * 2);","    }","","    bufb.appendBuffer(tempBuffer);","  };","}","","function mapDecoder(countSize, buffer, codec) {","  var offset = countSize * 2;","  var decodedKey = codec.decode(buffer, offset);","  var decodedVal;","  var result = {};","  while (decodedKey !== undefined) {","    offset += decodedKey[1];","    decodedVal = codec.decode(buffer, offset);","","    if (decodedVal !== undefined) {","      result[decodedKey[0]] = decodedVal[0];","      offset += decodedVal[1];","      decodedKey = codec.decode(buffer, offset);","    }","  }","","  return result;","}","","function encoding(code, options) {","  options = options || {};","  var encoder = options.encoder || function() { throw new errors.NotImplementedError(code); },","      decoder = options.decoder || function() { throw new errors.NotImplementedError(code); };","","  return Object.create(Object.prototype, {","    code: { value: code, configurable: false, writable: false },","    encoder: { value: encoder, configurable: false, writable: false },","    decoder: { value: decoder, configurable: false, writable: false },","  });","}","","function bufferOperations(typeName) {","  return {","    encoder: function(val, bufb) { bufb['append' + typeName](val); },","    decoder: function(buf) { return buf['read' + typeName](0); }","  };","}","","function constantValue(value) {","  return {","    encoder: function(val, bufb) { },","    decoder: function(buf) { return value; }","  };","}","","registerType('null', { encodings: [ encoding(0x40, constantValue(null)) ] });","registerType('boolean', {","  encoder: function(val, bufb) { bufb.appendUInt8(val ? 0x41 : 0x42); },","  encodings: [","    encoding(0x41, constantValue(true)),","    encoding(0x42, constantValue(false)),","    encoding(0x56, {","      encoder: function(val, bufb) { bufb.appendUInt8(val ? 0x01 : 0x00); },","      decoder: function(buf) { return buf[0] ? true : false; }","    })","  ]","});","","registerType('ubyte', { encodings: [ encoding(0x50, bufferOperations('UInt8')) ] });","registerType('ushort', { encodings: [ encoding(0x60, bufferOperations('UInt16BE')) ] });","registerType('uint', {","  encoder: function(val, bufb) {","    var code;","    if (val === 0) {","      code = 0x43;","    } else if (val < 0xFF) {","      code = 0x52;","    } else {","      code = 0x70;","    }","","    bufb.appendUInt8(code);","    types[code].encode(val, bufb);","  },","  encodings: [","    encoding(0x70, bufferOperations('UInt32BE')),","    encoding(0x52, bufferOperations('UInt8')),","    encoding(0x43, constantValue(0))","  ]","});","","registerType('ulong', {","  encoder: function(val, bufb) {","    var code = 0x80;","    if (val instanceof Int64 || val > 0xFF) {","      var check = (val instanceof Int64) ? val.toNumber(true) : val;","      if (check === 0) {","        code = 0x44;","      } else if (check <= 0xFF) {","        code = 0x53;","      }","    } else if (val > 0 && val <= 0xFF) {","      code = 0x53;","    } else if (val === 0) {","      code = 0x44;","    } else {","      throw new errors.EncodingError(val, 'Invalid encoding type for ulong value');","    }","","    bufb.appendUInt8(code);","    types[code].encode(val, bufb);","  },","  encodings: [","    encoding(0x53, bufferOperations('UInt8')),","    encoding(0x44, constantValue(0)),","    encoding(0x80, {","      encoder: function(val, bufb) {","        if (val instanceof Int64) return bufb.appendBuffer(val.toBuffer(true));","        if (val instanceof Buffer) return bufb.appendBuffer(val);","        if (typeof val !== 'number' || !(val instanceof Number)) val = Number(val);","        if (!Number.isFinite(val)) {","          throw new errors.EncodingError(val, 'invalid number');","        }","","        var high = val / MAX_UINT;","        var low = val % MAX_UINT;","        bufb.appendUInt32BE(high);","        bufb.appendUInt32BE(low);","      },","      decoder: function(buf) {","        var high = buf.readUInt32BE(0);","        var low = buf.readUInt32BE(4);","        if (high < MAX_SAFE_HIGH_BITS)","          return ((high >>> 0) * MAX_UINT) + (low >>> 0);","","        var int64 = new Int64(buf);","        var number = int64.toNumber(false);","        if (isFinite(number)) return number;","        return int64;","      }","    })","  ]","});","","registerType('byte', { encodings: [ encoding(0x51, bufferOperations('Int8')) ] });","registerType('short', { encodings: [ encoding(0x61, bufferOperations('Int16BE')) ] });","registerType('int', {","  encoder: function(val, bufb) {","    var code = (Math.abs(val) < 0x80) ? 0x54 : 0x71;","    bufb.appendUInt8(code);","    types[code].encode(val, bufb);","  },","  encodings: [","    encoding(0x71, bufferOperations('Int32BE')),","    encoding(0x54, bufferOperations('Int8'))","  ]","});","","registerType('long', {","  encoder: function(val, bufb) {","    var check = (val instanceof Int64) ? val.toNumber(true) : val;","    var code = (Math.abs(check) < 0x80) ? 0x55 : 0x81;","    bufb.appendUInt8(code);","    types[code].encode(val, bufb); // @todo Deal with Math.abs(val) < 0x7F cases","  },","  encodings: [","    encoding(0x55, bufferOperations('Int8')),","    encoding(0x81, {","      encoder: function(val, bufb) {","        if (val instanceof Int64) return bufb.appendBuffer(val.toBuffer(true));","        if (val instanceof Buffer) return bufb.appendBuffer(val);","        if (typeof val !== 'number' || !(val instanceof Number)) val = Number(val);","        if (!Number.isFinite(val)) {","          throw new errors.EncodingError(val, 'invalid number');","        }","","        var abs = Math.abs(val);","        var high = abs / MAX_UINT;","        var low = abs % MAX_UINT;","        if (val > 0) {","          bufb.appendInt32BE(high);","          bufb.appendUInt32BE(low);","        } else {","          // need to write to a buffer in order to calculate the 2s complement","          var data = new Buffer(8),","              carry = 1, current = low;","          for (var i = 7; i >= 0; i--) {","            var value = ((current & 0xff) ^ 0xff) + carry;","            data[i] = value & 0xff;","            current = (i === 4) ? high : current >>> 8;","            carry = value >> 8;","          }","","          bufb.appendBuffer(data);","        }","      },","      decoder: function(buf) {","        var high = buf.readUInt32BE(0);","        var low = buf.readUInt32BE(4);","        if (high < MAX_SAFE_HIGH_BITS && high > -MAX_SAFE_HIGH_BITS)","          return high * MAX_UINT + (low >>> 0);","","        var int64 = new Int64(buf);","        var number = int64.toNumber(false);","        if (isFinite(number)) return number;","        return int64;","      }","    })","  ]","});","","registerType('float', { encodings: [ encoding(0x72, bufferOperations('FloatBE')) ] });","registerType('double', { encodings: [ encoding(0x82, bufferOperations('DoubleBE')) ] });","registerType('decimal32', { encodings: [ encoding(0x74) ] });","registerType('decimal64', { encodings: [ encoding(0x84) ] });","registerType('decimal128', { encodings: [ encoding(0x94) ] });","","registerType('char', {","  encodings: [","    encoding(0x73, {","      encoder: function(val, bufb) {","        bufb.appendUInt8(0x73);","        bufb.appendUInt32BE(val.charCodeAt(0));","      },","      decoder: function(buf) {","        // @todo: this will surely break on something in the future, but in order","        //        to maintain our desire to not depend on any native modules it may","        //        be the best we can do for the moment.","        return String.fromCharCode(buf.readUInt32BE(0));","      }","    })","  ]","});","","registerType('timestamp', {","  encodings: [","    encoding(0x83, {","      encoder: function(val, bufb) {","        if (val instanceof Int64) {","          bufb.appendBuffer(val.toBuffer(true));","        } else if (val instanceof Date) {","          bufb.appendBuffer(new Int64(val.getTime()).toBuffer(true));","        } else if (typeof val === 'number') {","          bufb.appendBuffer(new Int64(val).toBuffer(true));","        } else {","          throw new errors.EncodingError(val, 'Invalid encoding type for 64-bit value');","        }","      },","      decoder: function(buf) {","        var tmp = new Int64(buf);","        return new Date(tmp.toNumber(false));","","        // @todo: the above conversion is potentially imprecise. We used to","        //        simply run the following line, giving a user access to the","        //        exact value. In the future we should allow users to opt-out","        //        of the above convenience.","        // return new Int64(buf);","      }","    })","  ]","});","","registerType('uuid', {","  encodings: [","    encoding(0x98, {","      encoder: function(val, bufb) { bufb.appendBuffer(new Buffer(u.parseUuid(val))); },","      decoder: function(buf) { return u.unparseUuid(buf); }","    })","  ]","});","","registerType('binary', {","  encoder: function(val, bufb) {","    val = (val instanceof Buffer) ? val : new Buffer(val);","    var code = (val.length <= 0xFF) ? 0xA0 : 0xB0;","    bufb.appendUInt8(code);","    types[code].encode(val, bufb);","  },","  encodings: [","    encoding(0xa0, {","      encoder: function(val, bufb) {","        bufb.appendUInt8(val.length);","        bufb.appendBuffer(val);","      },","      decoder: function(buf) { return buf.slice(1); }","    }),","    encoding(0xb0, {","      encoder: function(val, bufb) {","        bufb.appendUInt32BE(val.length);","        bufb.appendBuffer(val);","      },","      decoder: function(buf) { return buf.slice(4); }","    })","  ]","});","","registerType('string', {","  encoder: function(val, bufb) {","    var encoded = new Buffer(val, 'utf8');","    var code = (encoded.length <= 0xFF) ? 0xA1 : 0xB1;","","    bufb.appendUInt8(code);","    types[code].encode(encoded, bufb);","  },","  encodings: [","    encoding(0xa1, {","      encoder: function(val, bufb) {","        var encoded = new Buffer(val, 'utf8');","        bufb.appendUInt8(encoded.length);","        bufb.appendBuffer(encoded);","      },","      decoder: function(buf) {","        if (buf[0] === 0) return '';","        return buf.slice(1).toString('utf8');","      }","    }),","    encoding(0xb1, {","      encoder: function(val, bufb) {","        var encoded = new Buffer(val, 'utf8');","        bufb.appendUInt32BE(encoded.length);","        bufb.appendBuffer(encoded);","      },","      decoder: function(buf) {","        var size = buf.readUInt32BE(0);","        if (size === 0) return '';","        return buf.slice(4).toString('utf8');","      }","    })","  ]","});","","registerType('symbol', {","  encoder: function(val, bufb) {","    var encoded = new Buffer(typeof val === 'object' ? val.value : val, 'ascii');","    var code = (encoded.length <= 0xFF) ? 0xA3 : 0xB3;","    bufb.appendUInt8(code);","    types[code].encode(encoded, bufb);","  },","  encodings: [","    encoding(0xa3, {","      encoder: function(val, bufb) {","        var encoded = (val instanceof Buffer) ? val : new Buffer(val, 'ascii');","        bufb.appendUInt8(encoded.length);","        bufb.appendBuffer(encoded);","      },","      decoder: function(buf) { return buf.slice(1).toString('ascii'); }","    }),","    encoding(0xb3, {","      encoder: function(val, bufb) {","        var encoded = (val instanceof Buffer) ? val : new Buffer(val, 'ascii');","        bufb.appendUInt32BE(encoded.length);","        bufb.appendBuffer(encoded);","      },","      decoder: function(buf) { return buf.slice(4).toString('ascii'); }","    })","  ]","});","","registerType('list', {","  encoder: listBuilder,","  encodings: [","    encoding(0x45, {","      encoder: function(val, bufb, codec) {},","      decoder: function(buf) { return []; }","    }),","    encoding(0xc0, {","      encoder: function(val, bufb, codec) { listBuilder(val, bufb, codec, 1); },","      decoder: function(buf, codec) { return listDecoder(1, buf, codec); }","    }),","    encoding(0xd0, {","      encoder: function(val, bufb, codec) { listBuilder(val, bufb, codec, 4); },","      decoder: function(buf, codec) { return listDecoder(4, buf, codec); }","    })","  ]","});","","registerType('map', {","  encoder: mapBuilder,","  encodings: [","    encoding(0xc1, {","      encoder: function(val, bufb, codec) { mapBuilder(val, bufb, codec, 1); },","      decoder: function(buf, codec) { return mapDecoder(1, buf, codec); }","    }),","    encoding(0xd1, {","      encoder: function(val, bufb, codec) { mapBuilder(val, bufb, codec, 4); },","      decoder: function(buf, codec) { return mapDecoder(4, buf, codec); }","    })","  ]","});","","registerType('array', {","  encoder: arrayBuilder,","  encodings: [","    encoding(0xe0, {","      encoder: function(val, bufb, codec) { arrayBuilder(val, bufb, codec, 1); },","      decoder: function(buf, codec) { return arrayDecoder(1, buf, codec); }","    }),","    encoding(0xf0, {","      encoder: function(val, bufb, codec) { arrayBuilder(val, bufb, codec, 4); },","      decoder: function(buf, codec) { return arrayDecoder(4, buf, codec); }","    })","  ]","});","","registerType('error', {","  encoder: function(value, bufb, codec) {","    var error = u.isObject(value) ?","      new AMQPError(value) : new AMQPError({ condition: value });","    codec.encode(error, bufb);","  }","});","","// aliases","registerType('fields', { encoder: mapBuilderForKeyType('symbol') });","registerType('seconds', 'uint');","registerType('milliseconds', 'uint');","registerType('sequence-no', 'uint');","registerType('transfer-number', 'uint');","registerType('delivery-number', 'uint');","registerType('delivery-tag', 'binary');","registerType('handle', 'uint');","registerType('message-format', 'uint');","registerType('address', 'string');","registerType('ietf-language-tag', 'symbol');",""],"l":{"2":1,"12":1,"13":1,"15":1,"16":1,"17":1,"19":1,"20":36,"22":36,"23":10,"24":10,"27":26,"28":26,"29":13,"32":13,"33":13,"34":0,"35":0,"39":26,"40":24,"41":39,"42":39,"43":39,"47":1,"99":1,"100":0,"101":0,"104":0,"105":0,"106":0,"110":0,"111":0,"112":0,"113":0,"116":0,"118":0,"119":0,"120":0,"123":0,"124":0,"125":0,"128":0,"131":1,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"141":0,"170":1,"171":0,"172":0,"175":0,"176":0,"177":0,"180":0,"181":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"193":0,"194":0,"195":0,"196":0,"197":0,"199":0,"202":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"214":0,"215":0,"216":0,"217":0,"218":0,"221":0,"222":0,"225":1,"226":0,"227":0,"228":0,"229":0,"230":0,"233":0,"234":0,"235":0,"236":0,"237":0,"240":0,"241":0,"244":0,"270":1,"271":0,"272":0,"275":0,"276":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"288":0,"289":0,"290":0,"291":0,"292":0,"294":0,"297":0,"299":0,"300":0,"301":0,"304":0,"305":0,"306":0,"309":0,"312":1,"313":1,"314":0,"315":0,"318":0,"319":0,"322":0,"323":0,"324":0,"325":0,"326":0,"327":0,"331":0,"332":0,"333":0,"334":0,"335":0,"336":0,"338":0,"341":0,"343":0,"344":0,"345":0,"348":0,"349":0,"350":0,"353":0,"357":1,"358":0,"359":0,"360":0,"361":0,"362":0,"363":0,"364":0,"366":0,"367":0,"368":0,"369":0,"373":0,"376":1,"377":39,"378":39,"379":0,"381":39,"388":1,"389":12,"390":0,"391":0,"395":1,"396":5,"398":0,"402":1,"403":1,"404":0,"409":0,"410":0,"415":1,"416":1,"417":1,"419":0,"420":0,"421":0,"422":0,"423":0,"425":0,"428":0,"429":0,"438":1,"440":0,"441":0,"442":0,"443":0,"444":0,"445":0,"446":0,"448":0,"449":0,"450":0,"451":0,"453":0,"456":0,"457":0,"464":0,"465":0,"466":0,"467":0,"468":0,"471":0,"472":0,"473":0,"474":0,"477":0,"478":0,"479":0,"480":0,"482":0,"483":0,"484":0,"485":0,"491":1,"492":1,"493":1,"495":0,"496":0,"497":0,"505":1,"507":0,"508":0,"509":0,"510":0,"516":0,"517":0,"518":0,"519":0,"520":0,"523":0,"524":0,"525":0,"526":0,"527":0,"528":0,"531":0,"533":0,"534":0,"535":0,"536":0,"537":0,"540":0,"544":0,"545":0,"546":0,"547":0,"549":0,"550":0,"551":0,"552":0,"558":1,"559":1,"560":1,"561":1,"562":1,"564":1,"568":0,"569":0,"575":0,"581":1,"585":0,"586":0,"587":0,"588":0,"589":0,"590":0,"592":0,"596":0,"597":0,"609":1,"612":0,"613":0,"618":1,"620":0,"621":0,"622":0,"623":0,"628":0,"629":0,"631":0,"635":0,"636":0,"638":0,"643":1,"645":0,"646":0,"648":0,"649":0,"654":0,"655":0,"656":0,"659":0,"660":0,"665":0,"666":0,"667":0,"670":0,"671":0,"672":0,"678":1,"680":0,"681":0,"682":0,"683":0,"688":0,"689":0,"690":0,"692":0,"696":0,"697":0,"698":0,"700":0,"705":1,"710":0,"713":0,"714":0,"717":0,"718":0,"723":1,"727":0,"728":0,"731":0,"732":0,"737":1,"741":0,"742":0,"745":0,"746":0,"751":1,"753":0,"755":0,"760":1,"761":1,"762":1,"763":1,"764":1,"765":1,"766":1,"767":1,"768":1,"769":1,"770":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types/terminus.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types/terminus.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":1,"21":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"terminusDurability","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}}},"2":{"name":"terminusExpiryPolicy","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":37}}},"3":{"name":"distributionMode","line":23,"loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":33}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":3,"column":34}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":35}},"3":{"start":{"line":7,"column":0},"end":{"line":14,"column":1}},"4":{"start":{"line":8,"column":2},"end":{"line":9,"column":17}},"5":{"start":{"line":9,"column":4},"end":{"line":9,"column":17}},"6":{"start":{"line":11,"column":2},"end":{"line":13,"column":16}},"7":{"start":{"line":11,"column":33},"end":{"line":11,"column":42}},"8":{"start":{"line":12,"column":7},"end":{"line":13,"column":16}},"9":{"start":{"line":12,"column":40},"end":{"line":12,"column":49}},"10":{"start":{"line":13,"column":7},"end":{"line":13,"column":16}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":91}},"12":{"start":{"line":17,"column":0},"end":{"line":21,"column":1}},"13":{"start":{"line":18,"column":2},"end":{"line":19,"column":76}},"14":{"start":{"line":19,"column":4},"end":{"line":19,"column":76}},"15":{"start":{"line":20,"column":2},"end":{"line":20,"column":15}},"16":{"start":{"line":23,"column":0},"end":{"line":27,"column":1}},"17":{"start":{"line":24,"column":2},"end":{"line":25,"column":71}},"18":{"start":{"line":25,"column":4},"end":{"line":25,"column":71}},"19":{"start":{"line":26,"column":2},"end":{"line":26,"column":15}},"20":{"start":{"line":29,"column":0},"end":{"line":44,"column":3}},"21":{"start":{"line":46,"column":0},"end":{"line":57,"column":3}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"2":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":6},"end":{"line":8,"column":31}},{"start":{"line":8,"column":35},"end":{"line":8,"column":58}}]},"3":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":2},"end":{"line":11,"column":2}},{"start":{"line":11,"column":2},"end":{"line":11,"column":2}}]},"4":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":7},"end":{"line":12,"column":7}},{"start":{"line":12,"column":7},"end":{"line":12,"column":7}}]},"5":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":2},"end":{"line":18,"column":2}},{"start":{"line":18,"column":2},"end":{"line":18,"column":2}}]},"6":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":2},"end":{"line":24,"column":2}},{"start":{"line":24,"column":2},"end":{"line":24,"column":2}}]},"7":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":6},"end":{"line":24,"column":22}},{"start":{"line":24,"column":26},"end":{"line":24,"column":42}}]}},"code":["'use strict';","var defineComposite = require('./composite_type').defineComposite,","    errors = require('../errors');","","var Terminus = module.exports = {};","","function terminusDurability(value) {","  if (typeof value === 'number' || value instanceof Number)","    return value;","","  if (value === 'configuration') return 1;","  else if (value === 'unsettled-state') return 2;","  else return 0;","}","","var TerminusExpiryPolicies = [ 'link-detach', 'session-end', 'connection-close', 'never' ];","function terminusExpiryPolicy(value) {","  if (TerminusExpiryPolicies.indexOf(value) === -1)","    throw new errors.EncodingError(value, 'invalid terminus expiry policy');","  return value;","}","","function distributionMode(value) {","  if (value !== 'move' && value !== 'copy')","    throw new errors.EncodingError(value, 'invalid distribution mode');","  return value;","}","","Terminus.Source = defineComposite({","  name: 'source', code: 0x28,","  fields: [","    { name: 'address', type: 'address' },","    { name: 'durable', type: 'uint', requires: terminusDurability, default: 'none' },","    { name: 'expiryPolicy', type: 'symbol', requires: terminusExpiryPolicy, default: 'session-end' },","    { name: 'timeout', type: 'seconds', default: 0 },","    { name: 'dynamic', type: 'boolean', default: false },","    { name: 'dynamicNodeProperties', type: 'fields', default: {} }, // @spec type: `node-properties` => `fields`","    { name: 'distributionMode', type: 'symbol', requires: distributionMode },","    { name: 'filter', type: 'fields', default: {} },  // @spec type: `filter-set` => `fields`","    { name: 'defaultOutcome', type: '*' },  // @spec type: `*`, requires: `outcome` => `deliveryState`","    { name: 'outcomes', type: 'symbol', multiple: true },","    { name: 'capabilities', type: 'symbol', multiple: true }","  ]","});","","Terminus.Target = defineComposite({","  name: 'target', code: 0x29,","  fields: [","    { name: 'address', type: 'address' },","    { name: 'durable', type: 'uint', requires: terminusDurability, default: 'none' },","    { name: 'expiryPolicy', type: 'symbol', requires: terminusExpiryPolicy, default: 'session-end' },","    { name: 'timeout', type: 'seconds', default: 0 },","    { name: 'dynamic', type: 'boolean', default: false },","    { name: 'dynamicNodeProperties', type: 'fields', default: {} }, // @spec type: `node-properties` => `fields`","    { name: 'capabilities', type: 'symbol', multiple: true }","  ]","});",""],"l":{"2":1,"5":1,"7":1,"8":0,"9":0,"11":0,"12":0,"13":0,"16":1,"17":1,"18":0,"19":0,"20":0,"23":1,"24":0,"25":0,"26":0,"29":1,"46":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/transport/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/transport/index.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":2,"10":40,"11":8,"12":0,"13":2,"14":0,"15":1,"16":2,"17":2,"18":1,"19":0,"20":0,"21":0,"22":1,"23":1,"24":1,"25":1,"26":1},"b":{"1":[8,32],"2":[0,8],"3":[0,2],"4":[0,0]},"f":{"1":1,"2":2,"3":2,"4":0,"5":1},"fnMap":{"1":{"name":"TransportProvider","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":29}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":27},"end":{"line":12,"column":55}}},"3":{"name":"(anonymous_3)","line":31,"loc":{"start":{"line":31,"column":48},"end":{"line":31,"column":85}}},"4":{"name":"(anonymous_4)","line":36,"loc":{"start":{"line":36,"column":46},"end":{"line":36,"column":65}}},"5":{"name":"(anonymous_5)","line":43,"loc":{"start":{"line":43,"column":18},"end":{"line":43,"column":29}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":50}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":59}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":49}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":49}},"5":{"start":{"line":8,"column":0},"end":{"line":10,"column":1}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":32}},"7":{"start":{"line":12,"column":0},"end":{"line":29,"column":2}},"8":{"start":{"line":17,"column":2},"end":{"line":17,"column":37}},"9":{"start":{"line":18,"column":2},"end":{"line":23,"column":3}},"10":{"start":{"line":19,"column":4},"end":{"line":22,"column":7}},"11":{"start":{"line":20,"column":6},"end":{"line":22,"column":7}},"12":{"start":{"line":21,"column":8},"end":{"line":21,"column":85}},"13":{"start":{"line":25,"column":2},"end":{"line":28,"column":3}},"14":{"start":{"line":27,"column":4},"end":{"line":27,"column":66}},"15":{"start":{"line":31,"column":0},"end":{"line":34,"column":2}},"16":{"start":{"line":32,"column":2},"end":{"line":32,"column":41}},"17":{"start":{"line":33,"column":2},"end":{"line":33,"column":56}},"18":{"start":{"line":36,"column":0},"end":{"line":41,"column":2}},"19":{"start":{"line":37,"column":2},"end":{"line":38,"column":52}},"20":{"start":{"line":38,"column":4},"end":{"line":38,"column":52}},"21":{"start":{"line":40,"column":2},"end":{"line":40,"column":46}},"22":{"start":{"line":43,"column":0},"end":{"line":50,"column":5}},"23":{"start":{"line":44,"column":2},"end":{"line":44,"column":41}},"24":{"start":{"line":47,"column":2},"end":{"line":47,"column":34}},"25":{"start":{"line":48,"column":2},"end":{"line":48,"column":34}},"26":{"start":{"line":49,"column":2},"end":{"line":49,"column":18}}},"branchMap":{"1":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":4}},{"start":{"line":19,"column":4},"end":{"line":19,"column":4}}]},"2":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":6},"end":{"line":20,"column":6}},{"start":{"line":20,"column":6},"end":{"line":20,"column":6}}]},"3":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":25,"column":2}},{"start":{"line":25,"column":2},"end":{"line":25,"column":2}}]},"4":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":2},"end":{"line":37,"column":2}},{"start":{"line":37,"column":2},"end":{"line":37,"column":2}}]}},"code":["'use strict';","","var EventEmitter = require('events').EventEmitter;","var AbstractTransport = require('./abstract_transport.js');","var NetTransport = require('./net_transport.js');","var TlsTransport = require('./tls_transport.js');","","function TransportProvider() {","  this._transportFactories = {};","}","","var verifyImplementation = function (transportFactory) {","  // NOTE: if we only cared about internal modules, 'instanceof' would work, but","  // since we're \"duck typing\" transports to avoid circular dependencies, we have to","  // verify the transport prototype differently.","","  var transport = transportFactory();","  for(var member in AbstractTransport.prototype) {","    if (AbstractTransport.prototype.hasOwnProperty(member))","      if (typeof AbstractTransport.prototype[member] !== typeof transport[member]) {","        throw new Error('transport should implement the \\'' + member + '\\' method.');","      }","  }","","  if (!(transport instanceof EventEmitter))","  {","    throw new Error('transport should inherit from EventEmitter');","  }","};","","TransportProvider.prototype.registerTransport = function(protocol, transportFactory) {","  verifyImplementation(transportFactory);","  this._transportFactories[protocol] = transportFactory;","};","","TransportProvider.prototype.getTransportFor = function(protocol) {","  if (!this._transportFactories.hasOwnProperty(protocol))","    throw new Error('invalid protocol: ', protocol);","","  return this._transportFactories[protocol]();","};","","module.exports = (function() {","  var provider = new TransportProvider();","","  // pre-register our \"known\" transports","  NetTransport.register(provider);","  TlsTransport.register(provider);","  return provider;","})();",""],"l":{"3":1,"4":1,"5":1,"6":1,"8":1,"9":1,"12":1,"17":2,"18":2,"19":40,"20":8,"21":0,"25":2,"27":0,"31":1,"32":2,"33":2,"36":1,"37":0,"38":0,"40":0,"43":1,"44":1,"47":1,"48":1,"49":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/transport/abstract_transport.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/transport/abstract_transport.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":2,"8":0,"9":2,"10":1,"11":1,"12":0,"13":1,"14":0,"15":1,"16":0,"17":1,"18":0,"19":1,"20":0,"21":1},"b":{"1":[0,2]},"f":{"1":0,"2":2,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":7,"loc":{"start":{"line":7,"column":27},"end":{"line":7,"column":48}}},"2":{"name":"(anonymous_2)","line":11,"loc":{"start":{"line":11,"column":24},"end":{"line":11,"column":36}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":29},"end":{"line":21,"column":47}}},"4":{"name":"(anonymous_4)","line":25,"loc":{"start":{"line":25,"column":38},"end":{"line":25,"column":57}}},"5":{"name":"(anonymous_5)","line":29,"loc":{"start":{"line":29,"column":36},"end":{"line":29,"column":62}}},"6":{"name":"(anonymous_6)","line":33,"loc":{"start":{"line":33,"column":34},"end":{"line":33,"column":45}}},"7":{"name":"(anonymous_7)","line":37,"loc":{"start":{"line":37,"column":38},"end":{"line":37,"column":49}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":50}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":34}},"4":{"start":{"line":7,"column":0},"end":{"line":9,"column":2}},"5":{"start":{"line":8,"column":2},"end":{"line":8,"column":105}},"6":{"start":{"line":11,"column":0},"end":{"line":17,"column":2}},"7":{"start":{"line":12,"column":2},"end":{"line":14,"column":3}},"8":{"start":{"line":13,"column":4},"end":{"line":13,"column":40}},"9":{"start":{"line":16,"column":2},"end":{"line":16,"column":26}},"10":{"start":{"line":19,"column":0},"end":{"line":19,"column":47}},"11":{"start":{"line":21,"column":0},"end":{"line":23,"column":2}},"12":{"start":{"line":22,"column":2},"end":{"line":22,"column":35}},"13":{"start":{"line":25,"column":0},"end":{"line":27,"column":2}},"14":{"start":{"line":26,"column":2},"end":{"line":26,"column":34}},"15":{"start":{"line":29,"column":0},"end":{"line":31,"column":2}},"16":{"start":{"line":30,"column":2},"end":{"line":30,"column":32}},"17":{"start":{"line":33,"column":0},"end":{"line":35,"column":2}},"18":{"start":{"line":34,"column":2},"end":{"line":34,"column":30}},"19":{"start":{"line":37,"column":0},"end":{"line":39,"column":2}},"20":{"start":{"line":38,"column":2},"end":{"line":38,"column":34}},"21":{"start":{"line":41,"column":0},"end":{"line":41,"column":35}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":2},"end":{"line":12,"column":2}},{"start":{"line":12,"column":2},"end":{"line":12,"column":2}}]}},"code":["'use strict';","","var util = require('util');","var EventEmitter = require('events').EventEmitter;","var errors = require('../errors');","","var throwBecauseAbstract = function(methodName) {","  throw new errors.TransportError('Cannot use AbstractTransport. Subclass must implement ' + methodName);","};","","var AbstractTransport = function () {","  if (this.constructor === AbstractTransport) {","    throwBecauseAbstract('constructor');","  }","","  EventEmitter.call(this);","};","","util.inherits(AbstractTransport, EventEmitter);","","AbstractTransport.register = function (client) {","  throwBecauseAbstract('register');","};","","AbstractTransport.prototype.connect = function (address) {","  throwBecauseAbstract('connect');","};","","AbstractTransport.prototype.write = function (data, callback) {","  throwBecauseAbstract('write');","};","","AbstractTransport.prototype.end = function() {","  throwBecauseAbstract('end');","};","","AbstractTransport.prototype.destroy = function() {","  throwBecauseAbstract('destroy');","};","","module.exports = AbstractTransport;",""],"l":{"3":1,"4":1,"5":1,"7":1,"8":0,"11":1,"12":2,"13":0,"16":2,"19":1,"21":1,"22":0,"25":1,"26":0,"29":1,"30":0,"33":1,"34":0,"37":1,"38":0,"41":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/transport/net_transport.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/transport/net_transport.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":19},"end":{"line":9,"column":31}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":24},"end":{"line":16,"column":53}}},"3":{"name":"(anonymous_3)","line":17,"loc":{"start":{"line":17,"column":46},"end":{"line":17,"column":57}}},"4":{"name":"(anonymous_4)","line":20,"loc":{"start":{"line":20,"column":33},"end":{"line":20,"column":52}}},"5":{"name":"(anonymous_5)","line":25,"loc":{"start":{"line":25,"column":29},"end":{"line":25,"column":40}}},"6":{"name":"(anonymous_6)","line":26,"loc":{"start":{"line":26,"column":26},"end":{"line":26,"column":41}}},"7":{"name":"(anonymous_7)","line":27,"loc":{"start":{"line":27,"column":27},"end":{"line":27,"column":41}}},"8":{"name":"(anonymous_8)","line":28,"loc":{"start":{"line":28,"column":25},"end":{"line":28,"column":36}}},"9":{"name":"(anonymous_9)","line":31,"loc":{"start":{"line":31,"column":31},"end":{"line":31,"column":57}}},"10":{"name":"(anonymous_10)","line":39,"loc":{"start":{"line":39,"column":29},"end":{"line":39,"column":40}}},"11":{"name":"(anonymous_11)","line":47,"loc":{"start":{"line":47,"column":33},"end":{"line":47,"column":44}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":7,"column":34}},"2":{"start":{"line":9,"column":0},"end":{"line":12,"column":2}},"3":{"start":{"line":10,"column":2},"end":{"line":10,"column":31}},"4":{"start":{"line":11,"column":2},"end":{"line":11,"column":22}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":47}},"6":{"start":{"line":16,"column":0},"end":{"line":18,"column":2}},"7":{"start":{"line":17,"column":2},"end":{"line":17,"column":89}},"8":{"start":{"line":17,"column":59},"end":{"line":17,"column":85}},"9":{"start":{"line":20,"column":0},"end":{"line":29,"column":2}},"10":{"start":{"line":21,"column":2},"end":{"line":21,"column":91}},"11":{"start":{"line":22,"column":2},"end":{"line":22,"column":73}},"12":{"start":{"line":24,"column":2},"end":{"line":24,"column":18}},"13":{"start":{"line":25,"column":2},"end":{"line":25,"column":67}},"14":{"start":{"line":25,"column":42},"end":{"line":25,"column":63}},"15":{"start":{"line":26,"column":2},"end":{"line":26,"column":71}},"16":{"start":{"line":26,"column":43},"end":{"line":26,"column":67}},"17":{"start":{"line":27,"column":2},"end":{"line":27,"column":71}},"18":{"start":{"line":27,"column":43},"end":{"line":27,"column":67}},"19":{"start":{"line":28,"column":2},"end":{"line":28,"column":59}},"20":{"start":{"line":28,"column":38},"end":{"line":28,"column":55}},"21":{"start":{"line":31,"column":0},"end":{"line":37,"column":2}},"22":{"start":{"line":32,"column":2},"end":{"line":34,"column":3}},"23":{"start":{"line":33,"column":4},"end":{"line":33,"column":60}},"24":{"start":{"line":36,"column":2},"end":{"line":36,"column":37}},"25":{"start":{"line":39,"column":0},"end":{"line":45,"column":2}},"26":{"start":{"line":40,"column":2},"end":{"line":42,"column":3}},"27":{"start":{"line":41,"column":4},"end":{"line":41,"column":60}},"28":{"start":{"line":44,"column":2},"end":{"line":44,"column":21}},"29":{"start":{"line":47,"column":0},"end":{"line":54,"column":2}},"30":{"start":{"line":48,"column":2},"end":{"line":51,"column":3}},"31":{"start":{"line":49,"column":4},"end":{"line":49,"column":27}},"32":{"start":{"line":50,"column":4},"end":{"line":50,"column":24}},"33":{"start":{"line":53,"column":2},"end":{"line":53,"column":28}},"34":{"start":{"line":56,"column":0},"end":{"line":56,"column":30}}},"branchMap":{"1":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":2},"end":{"line":32,"column":2}},{"start":{"line":32,"column":2},"end":{"line":32,"column":2}}]},"2":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":2},"end":{"line":40,"column":2}},{"start":{"line":40,"column":2},"end":{"line":40,"column":2}}]},"3":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":2},"end":{"line":48,"column":2}},{"start":{"line":48,"column":2},"end":{"line":48,"column":2}}]}},"code":["'use strict';","","var AbstractTransport = require('./abstract_transport.js'),","    util = require('util'),","    net = require('net'),","    debug = require('debug')('amqp10:transport:net'),","    errors = require('../errors');","","var NetTransport = function () {","  AbstractTransport.call(this);","  this._socket = null;","};","","util.inherits(NetTransport, AbstractTransport);","","NetTransport.register = function (transportProvider) {","  transportProvider.registerTransport('amqp', function() { return new NetTransport(); });","};","","NetTransport.prototype.connect = function (address) {","  debug('Connecting to ' + address.host + ':' + address.port + ' via straight-up sockets');","  this._socket = net.connect({ port: address.port, host: address.host });","","  var self = this;","  this._socket.on('connect', function() { self.emit('connect'); });","  this._socket.on('data', function(data) { self.emit('data', data); });","  this._socket.on('error', function(err) { self.emit('error', err); });","  this._socket.on('end', function() { self.emit('end'); });","};","","NetTransport.prototype.write = function (data, callback) {","  if (!this._socket) {","    throw new errors.TransportError('Socket not connected');","  }","","  this._socket.write(data, callback);","};","","NetTransport.prototype.end = function() {","  if (!this._socket) {","    throw new errors.TransportError('Socket not connected');","  }","","  this._socket.end();","};","","NetTransport.prototype.destroy = function() {","  if (this._socket) {","    this._socket.destroy();","    this._socket = null;","  }","","  this.removeAllListeners();","};","","module.exports = NetTransport;",""],"l":{"3":1,"9":1,"10":1,"11":1,"14":1,"16":1,"17":1,"20":1,"21":0,"22":0,"24":0,"25":0,"26":0,"27":0,"28":0,"31":1,"32":0,"33":0,"36":0,"39":1,"40":0,"41":0,"44":0,"47":1,"48":0,"49":0,"50":0,"53":0,"56":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/transport/tls_transport.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/transport/tls_transport.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":19},"end":{"line":9,"column":30}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":24},"end":{"line":16,"column":53}}},"3":{"name":"(anonymous_3)","line":17,"loc":{"start":{"line":17,"column":47},"end":{"line":17,"column":59}}},"4":{"name":"(anonymous_4)","line":20,"loc":{"start":{"line":20,"column":33},"end":{"line":20,"column":61}}},"5":{"name":"(anonymous_5)","line":28,"loc":{"start":{"line":28,"column":35},"end":{"line":28,"column":46}}},"6":{"name":"(anonymous_6)","line":29,"loc":{"start":{"line":29,"column":26},"end":{"line":29,"column":41}}},"7":{"name":"(anonymous_7)","line":30,"loc":{"start":{"line":30,"column":27},"end":{"line":30,"column":41}}},"8":{"name":"(anonymous_8)","line":31,"loc":{"start":{"line":31,"column":25},"end":{"line":31,"column":36}}},"9":{"name":"(anonymous_9)","line":34,"loc":{"start":{"line":34,"column":31},"end":{"line":34,"column":57}}},"10":{"name":"(anonymous_10)","line":42,"loc":{"start":{"line":42,"column":29},"end":{"line":42,"column":40}}},"11":{"name":"(anonymous_11)","line":50,"loc":{"start":{"line":50,"column":33},"end":{"line":50,"column":44}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":7,"column":34}},"2":{"start":{"line":9,"column":0},"end":{"line":12,"column":2}},"3":{"start":{"line":10,"column":2},"end":{"line":10,"column":31}},"4":{"start":{"line":11,"column":2},"end":{"line":11,"column":22}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":47}},"6":{"start":{"line":16,"column":0},"end":{"line":18,"column":2}},"7":{"start":{"line":17,"column":2},"end":{"line":17,"column":90}},"8":{"start":{"line":17,"column":60},"end":{"line":17,"column":86}},"9":{"start":{"line":20,"column":0},"end":{"line":32,"column":2}},"10":{"start":{"line":21,"column":2},"end":{"line":21,"column":33}},"11":{"start":{"line":22,"column":2},"end":{"line":22,"column":33}},"12":{"start":{"line":23,"column":2},"end":{"line":23,"column":33}},"13":{"start":{"line":24,"column":2},"end":{"line":24,"column":41}},"14":{"start":{"line":25,"column":2},"end":{"line":25,"column":75}},"15":{"start":{"line":27,"column":2},"end":{"line":27,"column":18}},"16":{"start":{"line":28,"column":2},"end":{"line":28,"column":73}},"17":{"start":{"line":28,"column":48},"end":{"line":28,"column":69}},"18":{"start":{"line":29,"column":2},"end":{"line":29,"column":71}},"19":{"start":{"line":29,"column":43},"end":{"line":29,"column":67}},"20":{"start":{"line":30,"column":2},"end":{"line":30,"column":71}},"21":{"start":{"line":30,"column":43},"end":{"line":30,"column":67}},"22":{"start":{"line":31,"column":2},"end":{"line":31,"column":59}},"23":{"start":{"line":31,"column":38},"end":{"line":31,"column":55}},"24":{"start":{"line":34,"column":0},"end":{"line":40,"column":2}},"25":{"start":{"line":35,"column":2},"end":{"line":37,"column":3}},"26":{"start":{"line":36,"column":4},"end":{"line":36,"column":60}},"27":{"start":{"line":39,"column":2},"end":{"line":39,"column":37}},"28":{"start":{"line":42,"column":0},"end":{"line":48,"column":2}},"29":{"start":{"line":43,"column":2},"end":{"line":45,"column":3}},"30":{"start":{"line":44,"column":4},"end":{"line":44,"column":60}},"31":{"start":{"line":47,"column":2},"end":{"line":47,"column":21}},"32":{"start":{"line":50,"column":0},"end":{"line":57,"column":2}},"33":{"start":{"line":51,"column":2},"end":{"line":54,"column":3}},"34":{"start":{"line":52,"column":4},"end":{"line":52,"column":27}},"35":{"start":{"line":53,"column":4},"end":{"line":53,"column":24}},"36":{"start":{"line":56,"column":2},"end":{"line":56,"column":28}},"37":{"start":{"line":59,"column":0},"end":{"line":59,"column":30}}},"branchMap":{"1":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":19},"end":{"line":21,"column":26}},{"start":{"line":21,"column":30},"end":{"line":21,"column":32}}]},"2":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":2},"end":{"line":35,"column":2}},{"start":{"line":35,"column":2},"end":{"line":35,"column":2}}]},"3":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":2},"end":{"line":43,"column":2}},{"start":{"line":43,"column":2},"end":{"line":43,"column":2}}]},"4":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":2},"end":{"line":51,"column":2}},{"start":{"line":51,"column":2},"end":{"line":51,"column":2}}]}},"code":["'use strict';","","var AbstractTransport = require('./abstract_transport.js'),","    util = require('util'),","    tls = require('tls'),","    debug = require('debug')('amqp10:transport:tls'),","    errors = require('../errors');","","var TlsTransport = function() {","  AbstractTransport.call(this);","  this._socket = null;","};","","util.inherits(TlsTransport, AbstractTransport);","","TlsTransport.register = function (transportProvider) {","  transportProvider.registerTransport('amqps', function () {return new TlsTransport(); });","};","","TlsTransport.prototype.connect = function (address, sslOpts) {","  var sslOptions = sslOpts || {};","  sslOptions.port = address.port;","  sslOptions.host = address.host;","  this._socket = tls.connect(sslOptions);","  debug('Connecting to ' + address.host + ':' + address.port + ' via TLS');","","  var self = this;","  this._socket.on('secureConnect', function() { self.emit('connect'); });","  this._socket.on('data', function(data) { self.emit('data', data); });","  this._socket.on('error', function(err) { self.emit('error', err); });","  this._socket.on('end', function() { self.emit('end'); });","};","","TlsTransport.prototype.write = function (data, callback) {","  if (!this._socket) {","    throw new errors.TransportError('Socket not connected');","  }","","  this._socket.write(data, callback);","};","","TlsTransport.prototype.end = function() {","  if (!this._socket) {","    throw new errors.TransportError('Socket not connected');","  }","","  this._socket.end();","};","","TlsTransport.prototype.destroy = function() {","  if (this._socket) {","    this._socket.destroy();","    this._socket = null;","  }","","  this.removeAllListeners();","};","","module.exports = TlsTransport;",""],"l":{"3":1,"9":1,"10":1,"11":1,"14":1,"16":1,"17":1,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"27":0,"28":0,"29":0,"30":0,"31":0,"34":1,"35":0,"36":0,"39":0,"42":1,"43":0,"44":0,"47":0,"50":1,"51":0,"52":0,"53":0,"56":0,"59":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/sasl.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/sasl.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"Sasl","line":24,"loc":{"start":{"line":24,"column":0},"end":{"line":24,"column":25}}},"2":{"name":"(anonymous_2)","line":35,"loc":{"start":{"line":35,"column":27},"end":{"line":35,"column":67}}},"3":{"name":"(anonymous_3)","line":43,"loc":{"start":{"line":43,"column":25},"end":{"line":43,"column":41}}},"4":{"name":"(anonymous_4)","line":48,"loc":{"start":{"line":48,"column":29},"end":{"line":48,"column":40}}},"5":{"name":"(anonymous_5)","line":52,"loc":{"start":{"line":52,"column":32},"end":{"line":52,"column":49}}},"6":{"name":"(anonymous_6)","line":62,"loc":{"start":{"line":62,"column":31},"end":{"line":62,"column":47}}},"7":{"name":"(anonymous_7)","line":67,"loc":{"start":{"line":67,"column":37},"end":{"line":67,"column":49}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":11,"column":41}},"2":{"start":{"line":13,"column":0},"end":{"line":17,"column":2}},"3":{"start":{"line":24,"column":0},"end":{"line":31,"column":1}},"4":{"start":{"line":25,"column":2},"end":{"line":28,"column":3}},"5":{"start":{"line":26,"column":4},"end":{"line":27,"column":54}},"6":{"start":{"line":29,"column":2},"end":{"line":29,"column":29}},"7":{"start":{"line":30,"column":2},"end":{"line":30,"column":30}},"8":{"start":{"line":33,"column":0},"end":{"line":33,"column":31}},"9":{"start":{"line":35,"column":0},"end":{"line":46,"column":2}},"10":{"start":{"line":36,"column":2},"end":{"line":36,"column":31}},"11":{"start":{"line":37,"column":2},"end":{"line":37,"column":33}},"12":{"start":{"line":38,"column":2},"end":{"line":40,"column":3}},"13":{"start":{"line":39,"column":4},"end":{"line":39,"column":42}},"14":{"start":{"line":41,"column":2},"end":{"line":41,"column":23}},"15":{"start":{"line":42,"column":2},"end":{"line":42,"column":18}},"16":{"start":{"line":43,"column":2},"end":{"line":43,"column":72}},"17":{"start":{"line":43,"column":43},"end":{"line":43,"column":69}},"18":{"start":{"line":44,"column":2},"end":{"line":44,"column":69}},"19":{"start":{"line":45,"column":2},"end":{"line":45,"column":21}},"20":{"start":{"line":48,"column":0},"end":{"line":50,"column":2}},"21":{"start":{"line":49,"column":2},"end":{"line":49,"column":52}},"22":{"start":{"line":52,"column":0},"end":{"line":60,"column":2}},"23":{"start":{"line":53,"column":2},"end":{"line":53,"column":107}},"24":{"start":{"line":54,"column":2},"end":{"line":59,"column":3}},"25":{"start":{"line":55,"column":4},"end":{"line":55,"column":31}},"26":{"start":{"line":58,"column":4},"end":{"line":58,"column":100}},"27":{"start":{"line":62,"column":0},"end":{"line":105,"column":2}},"28":{"start":{"line":63,"column":2},"end":{"line":104,"column":3}},"29":{"start":{"line":64,"column":4},"end":{"line":64,"column":28}},"30":{"start":{"line":65,"column":4},"end":{"line":65,"column":35}},"31":{"start":{"line":66,"column":4},"end":{"line":67,"column":99}},"32":{"start":{"line":67,"column":51},"end":{"line":67,"column":66}},"33":{"start":{"line":68,"column":4},"end":{"line":71,"column":5}},"34":{"start":{"line":69,"column":6},"end":{"line":70,"column":60}},"35":{"start":{"line":72,"column":4},"end":{"line":87,"column":5}},"36":{"start":{"line":73,"column":6},"end":{"line":73,"column":78}},"37":{"start":{"line":74,"column":6},"end":{"line":74,"column":25}},"38":{"start":{"line":75,"column":6},"end":{"line":75,"column":46}},"39":{"start":{"line":76,"column":6},"end":{"line":76,"column":25}},"40":{"start":{"line":77,"column":6},"end":{"line":77,"column":46}},"41":{"start":{"line":78,"column":11},"end":{"line":87,"column":5}},"42":{"start":{"line":79,"column":6},"end":{"line":82,"column":7}},"43":{"start":{"line":80,"column":8},"end":{"line":81,"column":82}},"44":{"start":{"line":83,"column":6},"end":{"line":83,"column":25}},"45":{"start":{"line":85,"column":6},"end":{"line":86,"column":59}},"46":{"start":{"line":88,"column":4},"end":{"line":91,"column":7}},"47":{"start":{"line":93,"column":4},"end":{"line":93,"column":74}},"48":{"start":{"line":93,"column":32},"end":{"line":93,"column":74}},"49":{"start":{"line":94,"column":4},"end":{"line":94,"column":41}},"50":{"start":{"line":95,"column":9},"end":{"line":104,"column":3}},"51":{"start":{"line":96,"column":4},"end":{"line":96,"column":57}},"52":{"start":{"line":97,"column":4},"end":{"line":97,"column":45}},"53":{"start":{"line":98,"column":9},"end":{"line":104,"column":3}},"54":{"start":{"line":99,"column":4},"end":{"line":103,"column":5}},"55":{"start":{"line":100,"column":6},"end":{"line":100,"column":22}},"56":{"start":{"line":102,"column":6},"end":{"line":102,"column":105}},"57":{"start":{"line":109,"column":0},"end":{"line":109,"column":22}}},"branchMap":{"1":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":25,"column":2}},{"start":{"line":25,"column":2},"end":{"line":25,"column":2}}]},"2":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":6},"end":{"line":25,"column":15}},{"start":{"line":25,"column":19},"end":{"line":25,"column":56}}]},"3":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":2},"end":{"line":38,"column":2}},{"start":{"line":38,"column":2},"end":{"line":38,"column":2}}]},"4":{"line":38,"type":"binary-expr","locations":[{"start":{"line":38,"column":6},"end":{"line":38,"column":27}},{"start":{"line":38,"column":31},"end":{"line":38,"column":52}},{"start":{"line":38,"column":56},"end":{"line":38,"column":71}}]},"5":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":2},"end":{"line":54,"column":2}},{"start":{"line":54,"column":2},"end":{"line":54,"column":2}}]},"6":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":2},"end":{"line":63,"column":2}},{"start":{"line":63,"column":2},"end":{"line":63,"column":2}}]},"7":{"line":66,"type":"cond-expr","locations":[{"start":{"line":67,"column":6},"end":{"line":67,"column":69}},{"start":{"line":67,"column":72},"end":{"line":67,"column":98}}]},"8":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":4},"end":{"line":68,"column":4}},{"start":{"line":68,"column":4},"end":{"line":68,"column":4}}]},"9":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":4},"end":{"line":72,"column":4}},{"start":{"line":72,"column":4},"end":{"line":72,"column":4}}]},"10":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":11},"end":{"line":78,"column":11}},{"start":{"line":78,"column":11},"end":{"line":78,"column":11}}]},"11":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":6},"end":{"line":79,"column":6}},{"start":{"line":79,"column":6},"end":{"line":79,"column":6}}]},"12":{"line":79,"type":"binary-expr","locations":[{"start":{"line":79,"column":10},"end":{"line":79,"column":31}},{"start":{"line":79,"column":35},"end":{"line":79,"column":56}}]},"13":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":4},"end":{"line":93,"column":4}},{"start":{"line":93,"column":4},"end":{"line":93,"column":4}}]},"14":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":9},"end":{"line":95,"column":9}},{"start":{"line":95,"column":9},"end":{"line":95,"column":9}}]},"15":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":9},"end":{"line":98,"column":9}},{"start":{"line":98,"column":9},"end":{"line":98,"column":9}}]},"16":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":4},"end":{"line":99,"column":4}},{"start":{"line":99,"column":4},"end":{"line":99,"column":4}}]}},"code":["'use strict';","","var debug = require('debug')('amqp10:sasl'),","    Builder = require('buffer-builder'),","","    constants = require('./constants'),","    frames = require('./frames'),","    errors = require('./errors'),","    u = require('./utilities'),","","    Connection = require('./connection');","","var saslMechanism = {","  PLAIN: 'PLAIN',","  ANONYMOUS: 'ANONYMOUS',","  NONE: 'NONE'","};","","/**"," * Currently, only supports SASL ANONYMOUS or PLAIN"," *"," * @constructor"," */","function Sasl(mechanism) {","  if (mechanism && !u.includes(saslMechanism, mechanism)) {","    throw new errors.NotImplementedError(","      'Only SASL PLAIN and ANONYMOUS are supported.');","  }","  this.mechanism = mechanism;","  this.receivedHeader = false;","}","","Sasl.Mechanism = saslMechanism;","","Sasl.prototype.negotiate = function(connection, credentials, done) {","  this.connection = connection;","  this.credentials = credentials;","  if (this.credentials.user && this.credentials.pass && !this.mechanism) {","    this.mechanism = Sasl.Mechanism.PLAIN;","  }","  this.callback = done;","  var self = this;","  this._processFrameEH = function(frame) { self._processFrame(frame); };","  this.connection.on(Connection.FrameReceived, this._processFrameEH);","  this._sendHeader();","};","","Sasl.prototype._sendHeader = function() {","  this.connection.sendHeader(constants.saslVersion);","};","","Sasl.prototype.headerReceived = function(header) {","  debug('Server SASL Version: ' + header.toString('hex') + ' vs ' + constants.saslVersion.toString('hex'));","  if (u.bufferEquals(header, constants.saslVersion)) {","    this.receivedHeader = true;","    // Wait for mechanisms","  } else {","    this.callback(new errors.MalformedHeaderError('Invalid SASL Header ' + header.toString('hex')));","  }","};","","Sasl.prototype._processFrame = function(frame) {","  if (frame instanceof frames.SaslMechanismsFrame) {","    var buf = new Builder();","    var mechanism = this.mechanism;","    var mechanisms = Array.isArray(frame.saslServerMechanisms) ?","      frame.saslServerMechanisms.map(function(m) { return m.value; }) : frame.saslServerMechanisms;","    if (!u.includes(mechanisms, mechanism)) {","      this.callback(new errors.AuthenticationError(","        'SASL ' + mechanism + ' not supported by remote.'));","    }","    if (mechanism === Sasl.Mechanism.PLAIN) {","      debug('Sending ' + this.credentials.user + ':' + this.credentials.pass);","      buf.appendUInt8(0); // <null>","      buf.appendString(this.credentials.user);","      buf.appendUInt8(0); // <null>","      buf.appendString(this.credentials.pass);","    } else if (mechanism === Sasl.Mechanism.ANONYMOUS) {","      if (this.credentials.user && this.credentials.pass) {","        console.warn(","            'Sasl ANONYMOUS requested, but credentials provided in endpoint URI');","      }","      buf.appendUInt8(0); // <null>","    } else {","      this.callback(new errors.NotImplementedError(","          'Only SASL PLAIN and ANONYMOUS are supported.'));","    }","    var initFrame = new frames.SaslInitFrame({","      mechanism: mechanism,","      initialResponse: buf.get()","    });","","    if (!!this._remoteHostname) initFrame.hostname = this._remoteHostname;","    this.connection.sendFrame(initFrame);","  } else if (frame instanceof frames.SaslChallengeFrame) {","    var responseFrame = new frames.SaslResponseFrame({});","    this.connection.sendFrame(responseFrame);","  } else if (frame instanceof frames.SaslOutcomeFrame) {","    if (frame.code === constants.saslOutcomes.ok) {","      this.callback();","    } else {","      this.callback(new errors.AuthenticationError('SASL Failed: ' + frame.code + ': ' + frame.details));","    }","  }","};","","// @todo: Methods for sending init, receiving challenge, sending response, receiving outcome.","","module.exports = Sasl;",""],"l":{"3":1,"13":1,"24":1,"25":0,"26":0,"29":0,"30":0,"33":1,"35":1,"36":0,"37":0,"38":0,"39":0,"41":0,"42":0,"43":0,"44":0,"45":0,"48":1,"49":0,"52":1,"53":0,"54":0,"55":0,"58":0,"62":1,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"83":0,"85":0,"88":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"102":0,"109":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/session.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/session.js","s":{"1":1,"2":1,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":1,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":1,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":1,"84":0,"85":1,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":1,"94":0,"95":0,"96":0,"97":0,"98":0,"99":1,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":1,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":1,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":1,"135":0,"136":0,"137":0,"138":0,"139":1,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":1,"147":0,"148":0,"149":0,"150":0,"151":1,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":1,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":1,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":1,"183":0,"184":0,"185":1,"186":0,"187":0,"188":0,"189":1,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":1,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":1,"211":0,"212":0,"213":0,"214":0,"215":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},"fnMap":{"1":{"name":"(anonymous_1)","line":20,"loc":{"start":{"line":20,"column":19},"end":{"line":20,"column":37}}},"2":{"name":"Session","line":117,"loc":{"start":{"line":117,"column":0},"end":{"line":117,"column":23}}},"3":{"name":"(anonymous_3)","line":131,"loc":{"start":{"line":131,"column":15},"end":{"line":131,"column":51}}},"4":{"name":"(anonymous_4)","line":151,"loc":{"start":{"line":151,"column":26},"end":{"line":151,"column":50}}},"5":{"name":"(anonymous_5)","line":162,"loc":{"start":{"line":162,"column":25},"end":{"line":162,"column":41}}},"6":{"name":"(anonymous_6)","line":171,"loc":{"start":{"line":171,"column":31},"end":{"line":171,"column":52}}},"7":{"name":"(anonymous_7)","line":191,"loc":{"start":{"line":191,"column":25},"end":{"line":191,"column":43}}},"8":{"name":"(anonymous_8)","line":196,"loc":{"start":{"line":196,"column":30},"end":{"line":196,"column":44}}},"9":{"name":"(anonymous_9)","line":211,"loc":{"start":{"line":211,"column":32},"end":{"line":211,"column":47}}},"10":{"name":"(anonymous_10)","line":222,"loc":{"start":{"line":222,"column":30},"end":{"line":222,"column":64}}},"11":{"name":"(anonymous_11)","line":239,"loc":{"start":{"line":239,"column":31},"end":{"line":239,"column":46}}},"12":{"name":"(anonymous_12)","line":243,"loc":{"start":{"line":243,"column":24},"end":{"line":243,"column":35}}},"13":{"name":"(anonymous_13)","line":254,"loc":{"start":{"line":254,"column":32},"end":{"line":254,"column":43}}},"14":{"name":"(anonymous_14)","line":264,"loc":{"start":{"line":264,"column":34},"end":{"line":264,"column":50}}},"15":{"name":"(anonymous_15)","line":287,"loc":{"start":{"line":287,"column":37},"end":{"line":287,"column":53}}},"16":{"name":"(anonymous_16)","line":298,"loc":{"start":{"line":298,"column":40},"end":{"line":298,"column":56}}},"17":{"name":"(anonymous_17)","line":312,"loc":{"start":{"line":312,"column":40},"end":{"line":312,"column":56}}},"18":{"name":"(anonymous_18)","line":322,"loc":{"start":{"line":322,"column":38},"end":{"line":322,"column":54}}},"19":{"name":"(anonymous_19)","line":329,"loc":{"start":{"line":329,"column":40},"end":{"line":329,"column":62}}},"20":{"name":"(anonymous_20)","line":335,"loc":{"start":{"line":335,"column":42},"end":{"line":335,"column":58}}},"21":{"name":"(anonymous_21)","line":344,"loc":{"start":{"line":344,"column":35},"end":{"line":344,"column":51}}},"22":{"name":"(anonymous_22)","line":360,"loc":{"start":{"line":360,"column":22},"end":{"line":360,"column":34}}},"23":{"name":"(anonymous_23)","line":368,"loc":{"start":{"line":368,"column":34},"end":{"line":368,"column":50}}},"24":{"name":"(anonymous_24)","line":384,"loc":{"start":{"line":384,"column":38},"end":{"line":384,"column":54}}},"25":{"name":"(anonymous_25)","line":398,"loc":{"start":{"line":398,"column":33},"end":{"line":398,"column":49}}},"26":{"name":"(anonymous_26)","line":404,"loc":{"start":{"line":404,"column":29},"end":{"line":404,"column":45}}},"27":{"name":"(anonymous_27)","line":410,"loc":{"start":{"line":410,"column":27},"end":{"line":410,"column":38}}},"28":{"name":"(anonymous_28)","line":429,"loc":{"start":{"line":429,"column":45},"end":{"line":429,"column":61}}},"29":{"name":"(anonymous_29)","line":437,"loc":{"start":{"line":437,"column":27},"end":{"line":437,"column":39}}},"30":{"name":"(anonymous_30)","line":451,"loc":{"start":{"line":451,"column":36},"end":{"line":451,"column":47}}},"31":{"name":"(anonymous_31)","line":452,"loc":{"start":{"line":452,"column":24},"end":{"line":452,"column":36}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":18,"column":41}},"2":{"start":{"line":20,"column":0},"end":{"line":32,"column":2}},"3":{"start":{"line":21,"column":2},"end":{"line":31,"column":4}},"4":{"start":{"line":117,"column":0},"end":{"line":134,"column":1}},"5":{"start":{"line":118,"column":2},"end":{"line":118,"column":28}},"6":{"start":{"line":119,"column":2},"end":{"line":119,"column":28}},"7":{"start":{"line":120,"column":2},"end":{"line":120,"column":25}},"8":{"start":{"line":121,"column":2},"end":{"line":121,"column":22}},"9":{"start":{"line":122,"column":2},"end":{"line":122,"column":33}},"10":{"start":{"line":123,"column":2},"end":{"line":123,"column":30}},"11":{"start":{"line":124,"column":2},"end":{"line":124,"column":24}},"12":{"start":{"line":125,"column":2},"end":{"line":125,"column":25}},"13":{"start":{"line":126,"column":2},"end":{"line":126,"column":27}},"14":{"start":{"line":127,"column":2},"end":{"line":127,"column":33}},"15":{"start":{"line":129,"column":2},"end":{"line":129,"column":18}},"16":{"start":{"line":130,"column":2},"end":{"line":130,"column":49}},"17":{"start":{"line":131,"column":2},"end":{"line":133,"column":5}},"18":{"start":{"line":132,"column":4},"end":{"line":132,"column":100}},"19":{"start":{"line":136,"column":0},"end":{"line":136,"column":37}},"20":{"start":{"line":139,"column":0},"end":{"line":139,"column":26}},"21":{"start":{"line":140,"column":0},"end":{"line":140,"column":30}},"22":{"start":{"line":145,"column":0},"end":{"line":145,"column":40}},"23":{"start":{"line":149,"column":0},"end":{"line":149,"column":44}},"24":{"start":{"line":151,"column":0},"end":{"line":169,"column":2}},"25":{"start":{"line":152,"column":2},"end":{"line":152,"column":56}},"26":{"start":{"line":153,"column":2},"end":{"line":153,"column":91}},"27":{"start":{"line":155,"column":2},"end":{"line":155,"column":30}},"28":{"start":{"line":156,"column":2},"end":{"line":156,"column":56}},"29":{"start":{"line":157,"column":2},"end":{"line":157,"column":38}},"30":{"start":{"line":158,"column":2},"end":{"line":158,"column":57}},"31":{"start":{"line":160,"column":2},"end":{"line":160,"column":22}},"32":{"start":{"line":161,"column":2},"end":{"line":161,"column":18}},"33":{"start":{"line":162,"column":2},"end":{"line":162,"column":72}},"34":{"start":{"line":162,"column":43},"end":{"line":162,"column":69}},"35":{"start":{"line":163,"column":2},"end":{"line":163,"column":69}},"36":{"start":{"line":164,"column":2},"end":{"line":164,"column":68}},"37":{"start":{"line":166,"column":2},"end":{"line":166,"column":62}},"38":{"start":{"line":167,"column":2},"end":{"line":167,"column":36}},"39":{"start":{"line":168,"column":2},"end":{"line":168,"column":40}},"40":{"start":{"line":171,"column":0},"end":{"line":206,"column":2}},"41":{"start":{"line":172,"column":2},"end":{"line":173,"column":42}},"42":{"start":{"line":175,"column":2},"end":{"line":175,"column":44}},"43":{"start":{"line":176,"column":2},"end":{"line":177,"column":46}},"44":{"start":{"line":177,"column":4},"end":{"line":177,"column":46}},"45":{"start":{"line":179,"column":2},"end":{"line":179,"column":11}},"46":{"start":{"line":180,"column":2},"end":{"line":186,"column":3}},"47":{"start":{"line":181,"column":4},"end":{"line":181,"column":62}},"48":{"start":{"line":182,"column":4},"end":{"line":182,"column":49}},"49":{"start":{"line":184,"column":4},"end":{"line":184,"column":64}},"50":{"start":{"line":185,"column":4},"end":{"line":185,"column":51}},"51":{"start":{"line":188,"column":2},"end":{"line":188,"column":54}},"52":{"start":{"line":190,"column":2},"end":{"line":190,"column":18}},"53":{"start":{"line":191,"column":2},"end":{"line":194,"column":5}},"54":{"start":{"line":192,"column":4},"end":{"line":192,"column":86}},"55":{"start":{"line":193,"column":4},"end":{"line":193,"column":55}},"56":{"start":{"line":193,"column":32},"end":{"line":193,"column":55}},"57":{"start":{"line":196,"column":2},"end":{"line":198,"column":5}},"58":{"start":{"line":197,"column":4},"end":{"line":197,"column":42}},"59":{"start":{"line":200,"column":2},"end":{"line":203,"column":3}},"60":{"start":{"line":202,"column":4},"end":{"line":202,"column":18}},"61":{"start":{"line":205,"column":2},"end":{"line":205,"column":14}},"62":{"start":{"line":211,"column":0},"end":{"line":220,"column":2}},"63":{"start":{"line":212,"column":2},"end":{"line":212,"column":45}},"64":{"start":{"line":213,"column":2},"end":{"line":219,"column":3}},"65":{"start":{"line":214,"column":4},"end":{"line":214,"column":47}},"66":{"start":{"line":215,"column":4},"end":{"line":215,"column":40}},"67":{"start":{"line":217,"column":4},"end":{"line":217,"column":49}},"68":{"start":{"line":218,"column":4},"end":{"line":218,"column":42}},"69":{"start":{"line":222,"column":0},"end":{"line":237,"column":2}},"70":{"start":{"line":223,"column":2},"end":{"line":223,"column":31}},"71":{"start":{"line":224,"column":2},"end":{"line":224,"column":51}},"72":{"start":{"line":225,"column":2},"end":{"line":225,"column":59}},"73":{"start":{"line":226,"column":2},"end":{"line":226,"column":59}},"74":{"start":{"line":227,"column":2},"end":{"line":227,"column":59}},"75":{"start":{"line":228,"column":2},"end":{"line":228,"column":59}},"76":{"start":{"line":229,"column":2},"end":{"line":229,"column":21}},"77":{"start":{"line":230,"column":2},"end":{"line":230,"column":24}},"78":{"start":{"line":231,"column":2},"end":{"line":231,"column":28}},"79":{"start":{"line":232,"column":2},"end":{"line":232,"column":21}},"80":{"start":{"line":234,"column":2},"end":{"line":234,"column":40}},"81":{"start":{"line":235,"column":2},"end":{"line":235,"column":30}},"82":{"start":{"line":236,"column":2},"end":{"line":236,"column":34}},"83":{"start":{"line":239,"column":0},"end":{"line":241,"column":2}},"84":{"start":{"line":240,"column":2},"end":{"line":240,"column":23}},"85":{"start":{"line":243,"column":0},"end":{"line":252,"column":2}},"86":{"start":{"line":244,"column":2},"end":{"line":251,"column":3}},"87":{"start":{"line":245,"column":4},"end":{"line":245,"column":22}},"88":{"start":{"line":246,"column":4},"end":{"line":246,"column":20}},"89":{"start":{"line":247,"column":4},"end":{"line":247,"column":64}},"90":{"start":{"line":247,"column":50},"end":{"line":247,"column":64}},"91":{"start":{"line":249,"column":4},"end":{"line":249,"column":96}},"92":{"start":{"line":250,"column":4},"end":{"line":250,"column":18}},"93":{"start":{"line":254,"column":0},"end":{"line":262,"column":2}},"94":{"start":{"line":255,"column":2},"end":{"line":260,"column":3}},"95":{"start":{"line":256,"column":4},"end":{"line":259,"column":5}},"96":{"start":{"line":257,"column":6},"end":{"line":257,"column":41}},"97":{"start":{"line":258,"column":6},"end":{"line":258,"column":17}},"98":{"start":{"line":261,"column":2},"end":{"line":261,"column":111}},"99":{"start":{"line":264,"column":0},"end":{"line":285,"column":2}},"100":{"start":{"line":265,"column":2},"end":{"line":269,"column":3}},"101":{"start":{"line":266,"column":4},"end":{"line":266,"column":28}},"102":{"start":{"line":267,"column":4},"end":{"line":267,"column":31}},"103":{"start":{"line":268,"column":4},"end":{"line":268,"column":11}},"104":{"start":{"line":271,"column":2},"end":{"line":274,"column":3}},"105":{"start":{"line":272,"column":4},"end":{"line":272,"column":36}},"106":{"start":{"line":273,"column":4},"end":{"line":273,"column":11}},"107":{"start":{"line":276,"column":2},"end":{"line":281,"column":97}},"108":{"start":{"line":276,"column":40},"end":{"line":276,"column":76}},"109":{"start":{"line":277,"column":7},"end":{"line":281,"column":97}},"110":{"start":{"line":277,"column":48},"end":{"line":277,"column":87}},"111":{"start":{"line":278,"column":7},"end":{"line":281,"column":97}},"112":{"start":{"line":278,"column":48},"end":{"line":278,"column":87}},"113":{"start":{"line":279,"column":7},"end":{"line":281,"column":97}},"114":{"start":{"line":279,"column":46},"end":{"line":279,"column":83}},"115":{"start":{"line":280,"column":7},"end":{"line":281,"column":97}},"116":{"start":{"line":280,"column":50},"end":{"line":280,"column":91}},"117":{"start":{"line":281,"column":7},"end":{"line":281,"column":97}},"118":{"start":{"line":281,"column":53},"end":{"line":281,"column":97}},"119":{"start":{"line":284,"column":2},"end":{"line":284,"column":50}},"120":{"start":{"line":287,"column":0},"end":{"line":296,"column":2}},"121":{"start":{"line":288,"column":2},"end":{"line":288,"column":24}},"122":{"start":{"line":289,"column":2},"end":{"line":289,"column":27}},"123":{"start":{"line":290,"column":2},"end":{"line":293,"column":3}},"124":{"start":{"line":291,"column":4},"end":{"line":291,"column":22}},"125":{"start":{"line":292,"column":4},"end":{"line":292,"column":20}},"126":{"start":{"line":295,"column":2},"end":{"line":295,"column":16}},"127":{"start":{"line":298,"column":0},"end":{"line":310,"column":2}},"128":{"start":{"line":299,"column":2},"end":{"line":300,"column":89}},"129":{"start":{"line":302,"column":2},"end":{"line":307,"column":3}},"130":{"start":{"line":304,"column":4},"end":{"line":304,"column":73}},"131":{"start":{"line":305,"column":4},"end":{"line":305,"column":23}},"132":{"start":{"line":306,"column":4},"end":{"line":306,"column":11}},"133":{"start":{"line":309,"column":2},"end":{"line":309,"column":43}},"134":{"start":{"line":312,"column":0},"end":{"line":320,"column":2}},"135":{"start":{"line":313,"column":2},"end":{"line":317,"column":3}},"136":{"start":{"line":315,"column":4},"end":{"line":315,"column":101}},"137":{"start":{"line":316,"column":4},"end":{"line":316,"column":11}},"138":{"start":{"line":319,"column":2},"end":{"line":319,"column":67}},"139":{"start":{"line":322,"column":0},"end":{"line":333,"column":2}},"140":{"start":{"line":323,"column":2},"end":{"line":323,"column":28}},"141":{"start":{"line":324,"column":2},"end":{"line":332,"column":3}},"142":{"start":{"line":325,"column":4},"end":{"line":327,"column":5}},"143":{"start":{"line":326,"column":6},"end":{"line":326,"column":67}},"144":{"start":{"line":329,"column":4},"end":{"line":331,"column":7}},"145":{"start":{"line":330,"column":6},"end":{"line":330,"column":38}},"146":{"start":{"line":335,"column":0},"end":{"line":342,"column":2}},"147":{"start":{"line":336,"column":2},"end":{"line":341,"column":3}},"148":{"start":{"line":337,"column":4},"end":{"line":337,"column":34}},"149":{"start":{"line":338,"column":4},"end":{"line":338,"column":68}},"150":{"start":{"line":340,"column":4},"end":{"line":340,"column":109}},"151":{"start":{"line":344,"column":0},"end":{"line":366,"column":2}},"152":{"start":{"line":345,"column":2},"end":{"line":345,"column":37}},"153":{"start":{"line":346,"column":2},"end":{"line":346,"column":60}},"154":{"start":{"line":347,"column":2},"end":{"line":347,"column":66}},"155":{"start":{"line":348,"column":2},"end":{"line":348,"column":66}},"156":{"start":{"line":349,"column":2},"end":{"line":351,"column":58}},"157":{"start":{"line":352,"column":2},"end":{"line":353,"column":94}},"158":{"start":{"line":355,"column":2},"end":{"line":355,"column":21}},"159":{"start":{"line":356,"column":2},"end":{"line":356,"column":24}},"160":{"start":{"line":357,"column":2},"end":{"line":357,"column":34}},"161":{"start":{"line":360,"column":2},"end":{"line":363,"column":4}},"162":{"start":{"line":361,"column":4},"end":{"line":361,"column":81}},"163":{"start":{"line":362,"column":4},"end":{"line":362,"column":74}},"164":{"start":{"line":362,"column":63},"end":{"line":362,"column":74}},"165":{"start":{"line":364,"column":2},"end":{"line":364,"column":53}},"166":{"start":{"line":365,"column":2},"end":{"line":365,"column":55}},"167":{"start":{"line":368,"column":0},"end":{"line":382,"column":2}},"168":{"start":{"line":369,"column":2},"end":{"line":369,"column":60}},"169":{"start":{"line":370,"column":2},"end":{"line":370,"column":66}},"170":{"start":{"line":371,"column":2},"end":{"line":381,"column":3}},"171":{"start":{"line":372,"column":4},"end":{"line":373,"column":70}},"172":{"start":{"line":374,"column":4},"end":{"line":375,"column":113}},"173":{"start":{"line":377,"column":4},"end":{"line":378,"column":70}},"174":{"start":{"line":379,"column":4},"end":{"line":380,"column":106}},"175":{"start":{"line":384,"column":0},"end":{"line":396,"column":2}},"176":{"start":{"line":385,"column":2},"end":{"line":385,"column":39}},"177":{"start":{"line":386,"column":2},"end":{"line":386,"column":45}},"178":{"start":{"line":388,"column":2},"end":{"line":391,"column":3}},"179":{"start":{"line":390,"column":4},"end":{"line":390,"column":132}},"180":{"start":{"line":393,"column":2},"end":{"line":395,"column":3}},"181":{"start":{"line":394,"column":4},"end":{"line":394,"column":62}},"182":{"start":{"line":398,"column":0},"end":{"line":402,"column":2}},"183":{"start":{"line":399,"column":2},"end":{"line":401,"column":3}},"184":{"start":{"line":400,"column":4},"end":{"line":400,"column":76}},"185":{"start":{"line":404,"column":0},"end":{"line":408,"column":2}},"186":{"start":{"line":405,"column":2},"end":{"line":405,"column":39}},"187":{"start":{"line":406,"column":2},"end":{"line":406,"column":34}},"188":{"start":{"line":407,"column":2},"end":{"line":407,"column":38}},"189":{"start":{"line":410,"column":0},"end":{"line":427,"column":2}},"190":{"start":{"line":411,"column":2},"end":{"line":426,"column":3}},"191":{"start":{"line":412,"column":4},"end":{"line":412,"column":83}},"192":{"start":{"line":413,"column":4},"end":{"line":413,"column":52}},"193":{"start":{"line":414,"column":4},"end":{"line":414,"column":32}},"194":{"start":{"line":415,"column":4},"end":{"line":415,"column":35}},"195":{"start":{"line":416,"column":4},"end":{"line":416,"column":29}},"196":{"start":{"line":417,"column":4},"end":{"line":417,"column":24}},"197":{"start":{"line":419,"column":4},"end":{"line":419,"column":59}},"198":{"start":{"line":421,"column":4},"end":{"line":421,"column":27}},"199":{"start":{"line":422,"column":4},"end":{"line":422,"column":35}},"200":{"start":{"line":423,"column":4},"end":{"line":423,"column":32}},"201":{"start":{"line":425,"column":4},"end":{"line":425,"column":32}},"202":{"start":{"line":429,"column":0},"end":{"line":445,"column":2}},"203":{"start":{"line":430,"column":2},"end":{"line":435,"column":4}},"204":{"start":{"line":437,"column":2},"end":{"line":437,"column":80}},"205":{"start":{"line":437,"column":41},"end":{"line":437,"column":77}},"206":{"start":{"line":438,"column":2},"end":{"line":442,"column":3}},"207":{"start":{"line":439,"column":4},"end":{"line":439,"column":62}},"208":{"start":{"line":441,"column":4},"end":{"line":441,"column":60}},"209":{"start":{"line":444,"column":2},"end":{"line":444,"column":54}},"210":{"start":{"line":451,"column":0},"end":{"line":455,"column":2}},"211":{"start":{"line":452,"column":2},"end":{"line":452,"column":57}},"212":{"start":{"line":452,"column":38},"end":{"line":452,"column":54}},"213":{"start":{"line":453,"column":2},"end":{"line":453,"column":55}},"214":{"start":{"line":454,"column":2},"end":{"line":454,"column":57}},"215":{"start":{"line":457,"column":0},"end":{"line":457,"column":25}}},"branchMap":{"1":{"line":173,"type":"binary-expr","locations":[{"start":{"line":173,"column":22},"end":{"line":173,"column":35}},{"start":{"line":173,"column":39},"end":{"line":173,"column":41}}]},"2":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":2},"end":{"line":176,"column":2}},{"start":{"line":176,"column":2},"end":{"line":176,"column":2}}]},"3":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":2},"end":{"line":180,"column":2}},{"start":{"line":180,"column":2},"end":{"line":180,"column":2}}]},"4":{"line":192,"type":"cond-expr","locations":[{"start":{"line":192,"column":55},"end":{"line":192,"column":68}},{"start":{"line":192,"column":71},"end":{"line":192,"column":83}}]},"5":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":4},"end":{"line":193,"column":4}},{"start":{"line":193,"column":4},"end":{"line":193,"column":4}}]},"6":{"line":200,"type":"if","locations":[{"start":{"line":200,"column":2},"end":{"line":200,"column":2}},{"start":{"line":200,"column":2},"end":{"line":200,"column":2}}]},"7":{"line":213,"type":"if","locations":[{"start":{"line":213,"column":2},"end":{"line":213,"column":2}},{"start":{"line":213,"column":2},"end":{"line":213,"column":2}}]},"8":{"line":223,"type":"binary-expr","locations":[{"start":{"line":223,"column":13},"end":{"line":223,"column":24}},{"start":{"line":223,"column":28},"end":{"line":223,"column":30}}]},"9":{"line":244,"type":"if","locations":[{"start":{"line":244,"column":2},"end":{"line":244,"column":2}},{"start":{"line":244,"column":2},"end":{"line":244,"column":2}}]},"10":{"line":247,"type":"if","locations":[{"start":{"line":247,"column":4},"end":{"line":247,"column":4}},{"start":{"line":247,"column":4},"end":{"line":247,"column":4}}]},"11":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":4},"end":{"line":256,"column":4}},{"start":{"line":256,"column":4},"end":{"line":256,"column":4}}]},"12":{"line":265,"type":"if","locations":[{"start":{"line":265,"column":2},"end":{"line":265,"column":2}},{"start":{"line":265,"column":2},"end":{"line":265,"column":2}}]},"13":{"line":265,"type":"binary-expr","locations":[{"start":{"line":265,"column":6},"end":{"line":265,"column":40}},{"start":{"line":265,"column":45},"end":{"line":265,"column":81}}]},"14":{"line":271,"type":"if","locations":[{"start":{"line":271,"column":2},"end":{"line":271,"column":2}},{"start":{"line":271,"column":2},"end":{"line":271,"column":2}}]},"15":{"line":271,"type":"binary-expr","locations":[{"start":{"line":271,"column":6},"end":{"line":271,"column":33}},{"start":{"line":271,"column":37},"end":{"line":271,"column":73}}]},"16":{"line":276,"type":"if","locations":[{"start":{"line":276,"column":2},"end":{"line":276,"column":2}},{"start":{"line":276,"column":2},"end":{"line":276,"column":2}}]},"17":{"line":277,"type":"if","locations":[{"start":{"line":277,"column":7},"end":{"line":277,"column":7}},{"start":{"line":277,"column":7},"end":{"line":277,"column":7}}]},"18":{"line":278,"type":"if","locations":[{"start":{"line":278,"column":7},"end":{"line":278,"column":7}},{"start":{"line":278,"column":7},"end":{"line":278,"column":7}}]},"19":{"line":279,"type":"if","locations":[{"start":{"line":279,"column":7},"end":{"line":279,"column":7}},{"start":{"line":279,"column":7},"end":{"line":279,"column":7}}]},"20":{"line":280,"type":"if","locations":[{"start":{"line":280,"column":7},"end":{"line":280,"column":7}},{"start":{"line":280,"column":7},"end":{"line":280,"column":7}}]},"21":{"line":281,"type":"if","locations":[{"start":{"line":281,"column":7},"end":{"line":281,"column":7}},{"start":{"line":281,"column":7},"end":{"line":281,"column":7}}]},"22":{"line":290,"type":"if","locations":[{"start":{"line":290,"column":2},"end":{"line":290,"column":2}},{"start":{"line":290,"column":2},"end":{"line":290,"column":2}}]},"23":{"line":300,"type":"cond-expr","locations":[{"start":{"line":300,"column":49},"end":{"line":300,"column":68}},{"start":{"line":300,"column":71},"end":{"line":300,"column":88}}]},"24":{"line":302,"type":"if","locations":[{"start":{"line":302,"column":2},"end":{"line":302,"column":2}},{"start":{"line":302,"column":2},"end":{"line":302,"column":2}}]},"25":{"line":302,"type":"binary-expr","locations":[{"start":{"line":302,"column":6},"end":{"line":302,"column":17}},{"start":{"line":302,"column":21},"end":{"line":302,"column":39}}]},"26":{"line":313,"type":"if","locations":[{"start":{"line":313,"column":2},"end":{"line":313,"column":2}},{"start":{"line":313,"column":2},"end":{"line":313,"column":2}}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":6},"end":{"line":313,"column":32}},{"start":{"line":313,"column":36},"end":{"line":313,"column":98}}]},"28":{"line":324,"type":"if","locations":[{"start":{"line":324,"column":2},"end":{"line":324,"column":2}},{"start":{"line":324,"column":2},"end":{"line":324,"column":2}}]},"29":{"line":325,"type":"if","locations":[{"start":{"line":325,"column":4},"end":{"line":325,"column":4}},{"start":{"line":325,"column":4},"end":{"line":325,"column":4}}]},"30":{"line":336,"type":"if","locations":[{"start":{"line":336,"column":2},"end":{"line":336,"column":2}},{"start":{"line":336,"column":2},"end":{"line":336,"column":2}}]},"31":{"line":336,"type":"binary-expr","locations":[{"start":{"line":336,"column":6},"end":{"line":336,"column":27}},{"start":{"line":336,"column":31},"end":{"line":336,"column":70}}]},"32":{"line":349,"type":"cond-expr","locations":[{"start":{"line":350,"column":6},"end":{"line":350,"column":92}},{"start":{"line":351,"column":11},"end":{"line":351,"column":56}}]},"33":{"line":350,"type":"binary-expr","locations":[{"start":{"line":350,"column":46},"end":{"line":350,"column":61}},{"start":{"line":350,"column":65},"end":{"line":350,"column":91}}]},"34":{"line":351,"type":"binary-expr","locations":[{"start":{"line":351,"column":11},"end":{"line":351,"column":26}},{"start":{"line":351,"column":30},"end":{"line":351,"column":56}}]},"35":{"line":362,"type":"if","locations":[{"start":{"line":362,"column":4},"end":{"line":362,"column":4}},{"start":{"line":362,"column":4},"end":{"line":362,"column":4}}]},"36":{"line":362,"type":"binary-expr","locations":[{"start":{"line":362,"column":8},"end":{"line":362,"column":32}},{"start":{"line":362,"column":36},"end":{"line":362,"column":61}}]},"37":{"line":371,"type":"if","locations":[{"start":{"line":371,"column":2},"end":{"line":371,"column":2}},{"start":{"line":371,"column":2},"end":{"line":371,"column":2}}]},"38":{"line":371,"type":"binary-expr","locations":[{"start":{"line":371,"column":6},"end":{"line":371,"column":40}},{"start":{"line":371,"column":44},"end":{"line":371,"column":73}}]},"39":{"line":388,"type":"if","locations":[{"start":{"line":388,"column":2},"end":{"line":388,"column":2}},{"start":{"line":388,"column":2},"end":{"line":388,"column":2}}]},"40":{"line":393,"type":"if","locations":[{"start":{"line":393,"column":2},"end":{"line":393,"column":2}},{"start":{"line":393,"column":2},"end":{"line":393,"column":2}}]},"41":{"line":393,"type":"binary-expr","locations":[{"start":{"line":393,"column":6},"end":{"line":393,"column":36}},{"start":{"line":393,"column":40},"end":{"line":393,"column":65}}]},"42":{"line":399,"type":"if","locations":[{"start":{"line":399,"column":2},"end":{"line":399,"column":2}},{"start":{"line":399,"column":2},"end":{"line":399,"column":2}}]},"43":{"line":411,"type":"if","locations":[{"start":{"line":411,"column":2},"end":{"line":411,"column":2}},{"start":{"line":411,"column":2},"end":{"line":411,"column":2}}]},"44":{"line":411,"type":"binary-expr","locations":[{"start":{"line":411,"column":6},"end":{"line":411,"column":35}},{"start":{"line":411,"column":39},"end":{"line":411,"column":65}}]},"45":{"line":432,"type":"binary-expr","locations":[{"start":{"line":432,"column":10},"end":{"line":432,"column":20}},{"start":{"line":432,"column":24},"end":{"line":432,"column":35}}]},"46":{"line":438,"type":"if","locations":[{"start":{"line":438,"column":2},"end":{"line":438,"column":2}},{"start":{"line":438,"column":2},"end":{"line":438,"column":2}}]}},"code":["'use strict';","","var EventEmitter = require('events').EventEmitter,","    util = require('util'),","","    StateMachine = require('stately.js'),","","    debug = require('debug')('amqp10:session'),","","    frames = require('./frames'),","    constants = require('./constants'),","    errors = require('./errors'),","    u = require('./utilities'),","","    Link = require('./link'),","    SenderLink = require('./sender_link'),","    ReceiverLink = require('./receiver_link'),","    Connection = require('./connection');","","var stateMachine = function(session) {","  return {","    'UNMAPPED': { sendBegin: 'BEGIN_SENT' },","    'BEGIN_SENT': { beginReceived: 'MAPPED' },","    'MAPPED': {","      sendEnd: 'END_SENT',","      endReceived: 'END_RCVD'","    },","    'END_SENT': { endReceived: 'UNMAPPED' },","    'DISCARDING': { endReceived: 'UNMAPPED' },","    'END_RCVD': { sendEnd: 'UNMAPPED' }","  };","};","","/**"," * A Session is a bidirectional sequential conversation between two containers that provides a"," * grouping for related links. Sessions serve as the context for link communication. Any number"," * of links of any directionality can be <i>attached</i> to a given Session. However, a link"," * may be attached to at most one Session at a time."," *"," * Session states, from AMQP 1.0 spec:"," *"," <dl>"," <dt>UNMAPPED</dt>"," <dd><p>In the UNMAPPED state, the Session endpoint is not mapped to any incoming or outgoing"," channels on the Connection endpoint. In this state an endpoint cannot send or receive"," frames.</p></dd>",""," <dt>BEGIN-SENT</dt>"," <dd><p>In the BEGIN-SENT state, the Session endpoint is assigned an outgoing channel number,"," but there is no entry in the incoming channel map. In this state the endpoint may send"," frames but cannot receive them.</p></dd>",""," <dt>BEGIN-RCVD</dt>"," <dd><p>In the BEGIN-RCVD state, the Session endpoint has an entry in the incoming channel"," map, but has not yet been assigned an outgoing channel number. The endpoint may receive"," frames, but cannot send them.</p></dd>",""," <dt>MAPPED</dt>"," <dd><p>In the MAPPED state, the Session endpoint has both an outgoing channel number and an"," entry in the incoming channel map. The endpoint may both send and receive"," frames.</p></dd>",""," <dt>END-SENT</dt>"," <dd><p>In the END-SENT state, the Session endpoint has an entry in the incoming channel map,"," but is no longer assigned an outgoing channel number. The endpoint may receive frames,"," but cannot send them.</p></dd>",""," <dt>END-RCVD</dt>"," <dd><p>In the END-RCVD state, the Session endpoint is assigned an outgoing channel number,"," but there is no entry in the incoming channel map. The endpoint may send frames, but"," cannot receive them.</p></dd>",""," <dt>DISCARDING</dt>"," <dd><p>The DISCARDING state is a variant of the END-SENT state where the <code>end</code>"," is triggered by an error. In this case any incoming frames on the session MUST be"," silently discarded until the peer's <code>end</code> frame is received.</p></dd>"," </dl>",""," <pre>","                         UNMAPPED< ------------------+","                            |                        |","                    +-------+-------+                |","            S:BEGIN |               | R:BEGIN        |","                    |               |                |","                   \\\\|/             \\\\|/               |","                BEGIN-SENT      BEGIN-RCVD           |","                    |               |                |","                    |               |                |","            R:BEGIN |               | S:BEGIN        |","                    +-------+-------+                |","                            |                        |","                           \\\\|/                       |","                          MAPPED                     |","                            |                        |","              +-------------+-------------+          |"," S:END(error) |       S:END |             | R:END    |","              |             |             |          |","             \\\\|/           \\\\|/           \\\\|/         |","          DISCARDING     END-SENT      END-RCVD      |","              |             |             |          |","              |             |             |          |","        R:END |       R:END |             | S:END    |","              +-------------+-------------+          |","                            |                        |","                            |                        |","                            +------------------------+","  </pre>"," *"," * There is no obligation to retain a Session Endpoint when it is in the UNMAPPED state, i.e."," * the UNMAPPED state is equivalent to a NONEXISTENT state."," *"," * Note: This implementation *assumes* it is the client, and thus will always be the one BEGIN-ing a Session."," *"," * @param {Connection} conn     Connection to bind session to."," * @constructor"," */","function Session(conn) {","  Session.super_.call(this);","  this.setMaxListeners(100);","  this.connection = conn;","  this.mapped = false;","  this.remoteChannel = undefined;","  this._allocatedHandles = {};","  this._deliveryTag = 1;","  this._senderLinks = {};","  this._receiverLinks = {};","  this._linksByRemoteHandle = {};","","  var self = this;","  this.sm = new StateMachine(stateMachine(this));","  this.sm.bind(function(event, oldState, newState) {","    debug('stateChange(' + self.remoteChannel + '):', oldState, '=>', newState, ', reason:', event);","  });","}","","util.inherits(Session, EventEmitter);","","// Events","Session.Mapped = 'mapped';","Session.Unmapped = 'unmapped';","","// Since 'error' events are \"special\" in Node (as in halt-the-process special),","// using a custom event for errors we receive from the other endpoint. Provides","// received AMQPError as an argument.","Session.ErrorReceived = 'errorReceived';","","// On receipt of a disposition frame, called with the first and last","// delivery-ids involved, whether they were settled, and the state.","Session.DispositionReceived = 'disposition';","","Session.prototype.begin = function(sessionPolicy) {","  var sessionParams = u.deepCopy(sessionPolicy.options);","  u.assertArguments(sessionParams, ['nextOutgoingId', 'incomingWindow', 'outgoingWindow']);","","  this.policy = sessionPolicy;","  this.channel = this.connection.associateSession(this);","  this._sessionParams = sessionParams;","  this._initialOutgoingId = sessionParams.nextOutgoingId;","","  this.sm.sendBegin();","  var self = this;","  this._processFrameEH = function(frame) { self._processFrame(frame); };","  this.connection.on(Connection.FrameReceived, this._processFrameEH);","  this.connection.on(Connection.Disconnected, this._resetLinkState);","","  var beginFrame = new frames.BeginFrame(this._sessionParams);","  beginFrame.channel = this.channel;","  this.connection.sendFrame(beginFrame);","};","","Session.prototype.createLink = function(linkPolicy) {","  var policy = u.deepCopy(linkPolicy),","      attachOptions = policy.attach || {};","","  attachOptions.handle = this._nextHandle();","  if (typeof attachOptions.name === 'function')","    attachOptions.name = attachOptions.name();","","  var link;","  if (attachOptions.role === constants.linkRole.sender) {","    link = new SenderLink(this, attachOptions.handle, policy);","    this._senderLinks[attachOptions.name] = link;","  } else {","    link = new ReceiverLink(this, attachOptions.handle, policy);","    this._receiverLinks[attachOptions.name] = link;","  }","","  this._allocatedHandles[attachOptions.handle] = link;","","  var self = this;","  link.on(Link.Detached, function(details) {","    debug('detached(' + this.name + '): ' + (details ? details.error : 'No details'));","    if (!this.shouldReattach()) self._removeLink(this);","  });","","  link.on(Link.ErrorReceived, function(err) {","    self.emit(Session.ErrorReceived, err);","  });","","  if (this.mapped) {","    // immediately attempt to attach link","    link.attach();","  }","","  return link;","};","","///","/// Remove a link from the session","///","Session.prototype._removeLink = function(link) {","  delete this._allocatedHandles[link.handle];","  if (link instanceof SenderLink) {","    debug('removing sender link ' + link.name);","    delete this._senderLinks[link.name];","  } else {","    debug('removing receiver link ' + link.name);","    delete this._receiverLinks[link.name];","  }","};","","Session.prototype.addWindow = function(windowSize, flowOptions) {","  var opts = flowOptions || {};","  this._sessionParams.incomingWindow += windowSize;","  opts.nextIncomingId = this._sessionParams.nextIncomingId;","  opts.incomingWindow = this._sessionParams.incomingWindow;","  opts.nextOutgoingId = this._sessionParams.nextOutgoingId;","  opts.outgoingWindow = this._sessionParams.outgoingWindow;","  opts.handle = null;","  opts.available = null;","  opts.deliveryCount = null;","  opts.drain = false;","","  var flow = new frames.FlowFrame(opts);","  flow.channel = this.channel;","  this.connection.sendFrame(flow);","};","","Session.prototype.detachLink = function(link) {","  return link.detach();","};","","Session.prototype.end = function() {","  if (this.remoteChannel !== undefined) {","    this.sm.sendEnd();","    this._sendEnd();","    if (this.sm.getMachineState() === 'UNMAPPED') this._unmap();","  } else {","    console.warn('Attempt to end session on channel ' + this.channel + ' before it is mapped.');","    this._unmap();","  }","};","","Session.prototype._nextHandle = function() {","  for (var hid = 0; hid <= this._sessionParams.handleMax; ++hid) {","    if (this._allocatedHandles[hid] === undefined) {","      this._allocatedHandles[hid] = true; // Will be replaced by link itself.","      return hid;","    }","  }","  throw new errors.OverCapacityError('Out of available handles (Max = ' + this._sessionParams.handleMax + ')');","};","","Session.prototype._processFrame = function(frame) {","  if (frame instanceof frames.BeginFrame && (frame.remoteChannel === this.channel)) {","    this.sm.beginReceived();","    this._beginReceived(frame);","    return;","  }","","  if (frame.channel === undefined || frame.channel !== this.remoteChannel) {","    debug('invalid frame: ', frame);","    return;","  }","","  if (frame instanceof frames.EndFrame) return this._processEndFrame(frame);","  else if (frame instanceof frames.AttachFrame) return this._processAttachFrame(frame);","  else if (frame instanceof frames.DetachFrame) return this._processDetachFrame(frame);","  else if (frame instanceof frames.FlowFrame) return this._processFlowFrame(frame);","  else if (frame instanceof frames.TransferFrame) return this._processTransferFrame(frame);","  else if (frame instanceof frames.DispositionFrame) return this._processDispositionFrame(frame);","","  // else","  debug('not yet processing frame type: ', frame);","};","","Session.prototype._processEndFrame = function(frame) {","  this.sm.endReceived();","  this._endReceived(frame);","  if (this.sm.getMachineState() !== 'UNMAPPED') {","    this.sm.sendEnd();","    this._sendEnd();","  }","","  this._unmap();","};","","Session.prototype._processAttachFrame = function(frame) {","  var links =","    (frame.role === constants.linkRole.sender) ? this._receiverLinks : this._senderLinks;","","  if (!frame.name || !links[frame.name]) {","    // @todo: Proper error reporting.  Should we shut down session?","    console.warn('received Attach for unknown link(', frame.name, '): ');","    console.log(frame);","    return;","  }","","  links[frame.name]._attachReceived(frame);","};","","Session.prototype._processDetachFrame = function(frame) {","  if (frame.handle === undefined || typeof this._linksByRemoteHandle[frame.handle] === 'undefined') {","    // @todo: Proper error reporting.  Should we shut down session?","    console.warn('received Detach for unknown link(' + frame.handle + '): ' + JSON.stringify(frame));","    return;","  }","","  this._linksByRemoteHandle[frame.handle].sm.detachReceived(frame);","};","","Session.prototype._processFlowFrame = function(frame) {","  this._flowReceived(frame);","  if (frame.handle !== null) {","    if (this._linksByRemoteHandle[frame.handle]) {","      this._linksByRemoteHandle[frame.handle]._flowReceived(frame);","    }","  } else {","    u.values(this._senderLinks).forEach(function (senderLink) {","      senderLink._flowReceived(frame);","    });","  }","};","","Session.prototype._processTransferFrame = function(frame) {","  if (frame.handle !== null && this._linksByRemoteHandle[frame.handle]) {","    this._transferReceived(frame);","    this._linksByRemoteHandle[frame.handle]._messageReceived(frame);","  } else {","    console.warn('received Transfer frame for unknown link(' + frame.handle + '): ' + JSON.stringify(frame));","  }","};","","Session.prototype._beginReceived = function(frame) {","  this.remoteChannel = frame.channel;","  this._sessionParams.nextIncomingId = frame.nextOutgoingId;","  this._sessionParams.remoteIncomingWindow = frame.incomingWindow;","  this._sessionParams.remoteOutgoingWindow = frame.outgoingWindow;","  this._sessionParams.handleMax = this._sessionParams.handleMax ?","      Math.min(this._sessionParams.handleMax, frame.handleMax || constants.defaultHandleMax)","        : (frame.handleMax || constants.defaultHandleMax);","  debug('On BEGIN_RCVD, setting params to (' + this._sessionParams.nextIncomingId + ',' + this._sessionParams.remoteIncomingWindow + ',' +","        this._sessionParams.remoteOutgoingWindow + ',' + this._sessionParams.handleMax + ')');","  // @todo: Cope with capabilities and properties","  this.mapped = true;","  this._deliveryTag = 1;","  this.emit(Session.Mapped, this);","","  // attach all links","  var attachHandler = function(l) {","    debug('Attaching link ' + l.name + ':' + l.handle + ' after begin received');","    if (l.state() !== 'attached' && l.state() !== 'attaching') l.attach();","  };","  u.values(this._senderLinks).forEach(attachHandler);","  u.values(this._receiverLinks).forEach(attachHandler);","};","","Session.prototype._flowReceived = function(frame) {","  this._sessionParams.nextIncomingId = frame.nextOutgoingId;","  this._sessionParams.remoteOutgoingWindow = frame.outgoingWindow;","  if (frame.nextIncomingId === undefined || frame.nextIncomingId === null) {","    this._sessionParams.remoteIncomingWindow = this._initialOutgoingId +","            frame.incomingWindow - this._sessionParams.nextOutgoingId;","    debug('New Incoming Window (no known id): ' + this._sessionParams.remoteIncomingWindow + ' = ' +","            this._initialOutgoingId + ' + ' + frame.incomingWindow + ' - ' + this._sessionParams.nextOutgoingId);","  } else {","    this._sessionParams.remoteIncomingWindow = frame.nextIncomingId +","            frame.incomingWindow - this._sessionParams.nextOutgoingId;","    debug('New Incoming Window (known id): ' + this._sessionParams.remoteIncomingWindow + ' = ' +","        frame.nextIncomingId + ' + ' + frame.incomingWindow + ' - ' + this._sessionParams.nextOutgoingId);","  }","};","","Session.prototype._transferReceived = function(frame) {","  this._sessionParams.incomingWindow--;","  this._sessionParams.remoteOutgoingWindow--;","","  if (this._sessionParams.incomingWindow < 0) {","    // @todo: Shut down session since sender is not respecting window.","    console.warn('Transfer frame received when no incoming window remaining, should shut down session but for now being tolerant.');","  }","","  if (frame.deliveryId !== undefined && frame.deliveryId !== null) {","    this._sessionParams.nextIncomingId = frame.deliveryId + 1;","  }","};","","Session.prototype._endReceived = function(frame) {","  if (frame.error) {","    this.emit(Session.ErrorReceived, errors.wrapProtocolError(frame.error));","  }","};","","Session.prototype._sendEnd = function(frame) {","  var endFrame = new frames.EndFrame();","  endFrame.channel = this.channel;","  this.connection.sendFrame(endFrame);","};","","Session.prototype._unmap = function() {","  if (this.connection !== undefined && this.channel !== undefined) {","    this.connection.removeListener(Connection.FrameReceived, this._processFrameEH);","    this.connection.dissociateSession(this.channel);","    this.connection = undefined;","    this.remoteChannel = undefined;","    this.channel = undefined;","    this.mapped = false;","","    debug('Session unmapped - force-detaching all links.');","    // force-detach all links (they've already been detached due to unmap, just need to let them know about it)","    this._resetLinkState();","    this._linksByRemoteHandle = {};","    this._allocatedHandles = {};","","    this.emit(Session.Unmapped);","  }","};","","Session.prototype._processDispositionFrame = function(frame) {","  var disposition = {","    first: frame.first,","    last: frame.last || frame.first,","    settled: frame.settled,","    state: frame.state","  };","","  var dispositionHandler = function(l) { l._dispositionReceived(disposition); };","  if (frame.role === constants.linkRole.sender) {","    u.values(this._receiverLinks).forEach(dispositionHandler);","  } else {","    u.values(this._senderLinks).forEach(dispositionHandler);","  }","","  this.emit(Session.DispositionReceived, disposition);","};","","/**"," * INTERNAL"," * Resets the state of all known links for this session."," */","Session.prototype._resetLinkState = function() {","  var forceDetachLink = function(l) { l.forceDetach(); };","  u.values(this._senderLinks).forEach(forceDetachLink);","  u.values(this._receiverLinks).forEach(forceDetachLink);","};","","module.exports = Session;",""],"l":{"3":1,"20":1,"21":0,"117":1,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"129":0,"130":0,"131":0,"132":0,"136":1,"139":1,"140":1,"145":1,"149":1,"151":1,"152":0,"153":0,"155":0,"156":0,"157":0,"158":0,"160":0,"161":0,"162":0,"163":0,"164":0,"166":0,"167":0,"168":0,"171":1,"172":0,"175":0,"176":0,"177":0,"179":0,"180":0,"181":0,"182":0,"184":0,"185":0,"188":0,"190":0,"191":0,"192":0,"193":0,"196":0,"197":0,"200":0,"202":0,"205":0,"211":1,"212":0,"213":0,"214":0,"215":0,"217":0,"218":0,"222":1,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"234":0,"235":0,"236":0,"239":1,"240":0,"243":1,"244":0,"245":0,"246":0,"247":0,"249":0,"250":0,"254":1,"255":0,"256":0,"257":0,"258":0,"261":0,"264":1,"265":0,"266":0,"267":0,"268":0,"271":0,"272":0,"273":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"284":0,"287":1,"288":0,"289":0,"290":0,"291":0,"292":0,"295":0,"298":1,"299":0,"302":0,"304":0,"305":0,"306":0,"309":0,"312":1,"313":0,"315":0,"316":0,"319":0,"322":1,"323":0,"324":0,"325":0,"326":0,"329":0,"330":0,"335":1,"336":0,"337":0,"338":0,"340":0,"344":1,"345":0,"346":0,"347":0,"348":0,"349":0,"352":0,"355":0,"356":0,"357":0,"360":0,"361":0,"362":0,"364":0,"365":0,"368":1,"369":0,"370":0,"371":0,"372":0,"374":0,"377":0,"379":0,"384":1,"385":0,"386":0,"388":0,"390":0,"393":0,"394":0,"398":1,"399":0,"400":0,"404":1,"405":0,"406":0,"407":0,"410":1,"411":0,"412":0,"413":0,"414":0,"415":0,"416":0,"417":0,"419":0,"421":0,"422":0,"423":0,"425":0,"429":1,"430":0,"437":0,"438":0,"439":0,"441":0,"444":0,"451":1,"452":0,"453":0,"454":0,"457":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/link.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/link.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":1,"30":1,"31":1,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1,"50":0,"51":1,"52":0,"53":1,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":1,"73":0,"74":0,"75":0,"76":0,"77":1,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":1,"87":1,"88":0,"89":0,"90":0,"91":1,"92":0,"93":0,"94":0,"95":1,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":1,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":1,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},"fnMap":{"1":{"name":"(anonymous_1)","line":14,"loc":{"start":{"line":14,"column":19},"end":{"line":14,"column":34}}},"2":{"name":"(anonymous_2)","line":15,"loc":{"start":{"line":15,"column":22},"end":{"line":15,"column":38}}},"3":{"name":"(anonymous_3)","line":32,"loc":{"start":{"line":32,"column":18},"end":{"line":32,"column":36}}},"4":{"name":"(anonymous_4)","line":40,"loc":{"start":{"line":40,"column":30},"end":{"line":40,"column":42}}},"5":{"name":"Link","line":56,"loc":{"start":{"line":56,"column":0},"end":{"line":56,"column":43}}},"6":{"name":"(anonymous_6)","line":70,"loc":{"start":{"line":70,"column":15},"end":{"line":70,"column":51}}},"7":{"name":"(anonymous_7)","line":108,"loc":{"start":{"line":108,"column":24},"end":{"line":108,"column":42}}},"8":{"name":"(anonymous_8)","line":111,"loc":{"start":{"line":111,"column":34},"end":{"line":111,"column":60}}},"9":{"name":"(anonymous_9)","line":112,"loc":{"start":{"line":112,"column":18},"end":{"line":112,"column":32}}},"10":{"name":"(anonymous_10)","line":114,"loc":{"start":{"line":114,"column":29},"end":{"line":114,"column":44}}},"11":{"name":"(anonymous_11)","line":131,"loc":{"start":{"line":131,"column":23},"end":{"line":131,"column":34}}},"12":{"name":"(anonymous_12)","line":136,"loc":{"start":{"line":136,"column":7},"end":{"line":136,"column":18}}},"13":{"name":"(anonymous_13)","line":139,"loc":{"start":{"line":139,"column":24},"end":{"line":139,"column":35}}},"14":{"name":"(anonymous_14)","line":156,"loc":{"start":{"line":156,"column":29},"end":{"line":156,"column":40}}},"15":{"name":"(anonymous_15)","line":171,"loc":{"start":{"line":171,"column":40},"end":{"line":171,"column":60}}},"16":{"name":"(anonymous_16)","line":180,"loc":{"start":{"line":180,"column":33},"end":{"line":180,"column":55}}},"17":{"name":"(anonymous_17)","line":197,"loc":{"start":{"line":197,"column":30},"end":{"line":197,"column":41}}},"18":{"name":"(anonymous_18)","line":198,"loc":{"start":{"line":198,"column":22},"end":{"line":198,"column":40}}},"19":{"name":"(anonymous_19)","line":216,"loc":{"start":{"line":216,"column":29},"end":{"line":216,"column":47}}},"20":{"name":"(anonymous_20)","line":228,"loc":{"start":{"line":228,"column":27},"end":{"line":228,"column":43}}},"21":{"name":"(anonymous_21)","line":246,"loc":{"start":{"line":246,"column":21},"end":{"line":246,"column":32}}},"22":{"name":"(anonymous_22)","line":250,"loc":{"start":{"line":250,"column":32},"end":{"line":250,"column":43}}},"23":{"name":"(anonymous_23)","line":257,"loc":{"start":{"line":257,"column":34},"end":{"line":257,"column":45}}},"24":{"name":"(anonymous_24)","line":264,"loc":{"start":{"line":264,"column":35},"end":{"line":264,"column":46}}},"25":{"name":"(anonymous_25)","line":269,"loc":{"start":{"line":269,"column":23},"end":{"line":269,"column":34}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":12,"column":33}},"2":{"start":{"line":14,"column":0},"end":{"line":46,"column":2}},"3":{"start":{"line":15,"column":2},"end":{"line":22,"column":4}},"4":{"start":{"line":16,"column":4},"end":{"line":18,"column":5}},"5":{"start":{"line":17,"column":6},"end":{"line":17,"column":57}},"6":{"start":{"line":20,"column":4},"end":{"line":20,"column":26}},"7":{"start":{"line":21,"column":4},"end":{"line":21,"column":25}},"8":{"start":{"line":24,"column":2},"end":{"line":38,"column":4}},"9":{"start":{"line":33,"column":8},"end":{"line":33,"column":34}},"10":{"start":{"line":34,"column":8},"end":{"line":34,"column":30}},"11":{"start":{"line":40,"column":2},"end":{"line":43,"column":5}},"12":{"start":{"line":41,"column":4},"end":{"line":41,"column":39}},"13":{"start":{"line":42,"column":4},"end":{"line":42,"column":45}},"14":{"start":{"line":45,"column":2},"end":{"line":45,"column":16}},"15":{"start":{"line":56,"column":0},"end":{"line":73,"column":1}},"16":{"start":{"line":57,"column":2},"end":{"line":57,"column":27}},"17":{"start":{"line":58,"column":2},"end":{"line":58,"column":25}},"18":{"start":{"line":59,"column":2},"end":{"line":59,"column":23}},"19":{"start":{"line":60,"column":2},"end":{"line":60,"column":38}},"20":{"start":{"line":61,"column":2},"end":{"line":61,"column":25}},"21":{"start":{"line":63,"column":2},"end":{"line":63,"column":22}},"22":{"start":{"line":64,"column":2},"end":{"line":66,"column":3}},"23":{"start":{"line":65,"column":4},"end":{"line":65,"column":62}},"24":{"start":{"line":68,"column":2},"end":{"line":68,"column":18}},"25":{"start":{"line":69,"column":2},"end":{"line":69,"column":49}},"26":{"start":{"line":70,"column":2},"end":{"line":72,"column":5}},"27":{"start":{"line":71,"column":4},"end":{"line":71,"column":89}},"28":{"start":{"line":75,"column":0},"end":{"line":75,"column":34}},"29":{"start":{"line":83,"column":0},"end":{"line":83,"column":37}},"30":{"start":{"line":90,"column":0},"end":{"line":90,"column":27}},"31":{"start":{"line":97,"column":0},"end":{"line":97,"column":27}},"32":{"start":{"line":108,"column":0},"end":{"line":128,"column":2}},"33":{"start":{"line":109,"column":2},"end":{"line":109,"column":18}},"34":{"start":{"line":110,"column":2},"end":{"line":110,"column":29}},"35":{"start":{"line":111,"column":2},"end":{"line":124,"column":5}},"36":{"start":{"line":112,"column":4},"end":{"line":112,"column":49}},"37":{"start":{"line":112,"column":34},"end":{"line":112,"column":46}},"38":{"start":{"line":113,"column":4},"end":{"line":113,"column":43}},"39":{"start":{"line":114,"column":4},"end":{"line":123,"column":7}},"40":{"start":{"line":115,"column":6},"end":{"line":115,"column":55}},"41":{"start":{"line":116,"column":6},"end":{"line":116,"column":50}},"42":{"start":{"line":116,"column":24},"end":{"line":116,"column":50}},"43":{"start":{"line":117,"column":6},"end":{"line":121,"column":7}},"44":{"start":{"line":118,"column":8},"end":{"line":120,"column":9}},"45":{"start":{"line":119,"column":10},"end":{"line":119,"column":43}},"46":{"start":{"line":122,"column":6},"end":{"line":122,"column":16}},"47":{"start":{"line":126,"column":2},"end":{"line":126,"column":30}},"48":{"start":{"line":127,"column":2},"end":{"line":127,"column":23}},"49":{"start":{"line":131,"column":0},"end":{"line":133,"column":2}},"50":{"start":{"line":132,"column":2},"end":{"line":132,"column":49}},"51":{"start":{"line":135,"column":0},"end":{"line":137,"column":3}},"52":{"start":{"line":136,"column":20},"end":{"line":136,"column":57}},"53":{"start":{"line":139,"column":0},"end":{"line":150,"column":2}},"54":{"start":{"line":140,"column":2},"end":{"line":140,"column":23}},"55":{"start":{"line":141,"column":2},"end":{"line":141,"column":63}},"56":{"start":{"line":142,"column":2},"end":{"line":142,"column":45}},"57":{"start":{"line":144,"column":2},"end":{"line":144,"column":31}},"58":{"start":{"line":145,"column":2},"end":{"line":145,"column":31}},"59":{"start":{"line":146,"column":2},"end":{"line":146,"column":22}},"60":{"start":{"line":147,"column":2},"end":{"line":147,"column":21}},"61":{"start":{"line":148,"column":2},"end":{"line":148,"column":21}},"62":{"start":{"line":149,"column":2},"end":{"line":149,"column":49}},"63":{"start":{"line":156,"column":0},"end":{"line":169,"column":2}},"64":{"start":{"line":157,"column":2},"end":{"line":157,"column":27}},"65":{"start":{"line":158,"column":2},"end":{"line":160,"column":3}},"66":{"start":{"line":159,"column":4},"end":{"line":159,"column":11}},"67":{"start":{"line":162,"column":2},"end":{"line":162,"column":63}},"68":{"start":{"line":163,"column":2},"end":{"line":163,"column":63}},"69":{"start":{"line":163,"column":29},"end":{"line":163,"column":63}},"70":{"start":{"line":164,"column":2},"end":{"line":164,"column":24}},"71":{"start":{"line":165,"column":2},"end":{"line":168,"column":5}},"72":{"start":{"line":171,"column":0},"end":{"line":178,"column":2}},"73":{"start":{"line":172,"column":2},"end":{"line":175,"column":3}},"74":{"start":{"line":173,"column":4},"end":{"line":173,"column":42}},"75":{"start":{"line":174,"column":4},"end":{"line":174,"column":29}},"76":{"start":{"line":177,"column":2},"end":{"line":177,"column":22}},"77":{"start":{"line":180,"column":0},"end":{"line":194,"column":2}},"78":{"start":{"line":181,"column":2},"end":{"line":181,"column":27}},"79":{"start":{"line":184,"column":2},"end":{"line":184,"column":42}},"80":{"start":{"line":185,"column":2},"end":{"line":185,"column":35}},"81":{"start":{"line":187,"column":2},"end":{"line":187,"column":63}},"82":{"start":{"line":188,"column":2},"end":{"line":188,"column":155}},"83":{"start":{"line":190,"column":2},"end":{"line":190,"column":33}},"84":{"start":{"line":191,"column":2},"end":{"line":191,"column":42}},"85":{"start":{"line":193,"column":2},"end":{"line":193,"column":39}},"86":{"start":{"line":197,"column":0},"end":{"line":197,"column":44}},"87":{"start":{"line":198,"column":0},"end":{"line":214,"column":2}},"88":{"start":{"line":199,"column":2},"end":{"line":199,"column":26}},"89":{"start":{"line":200,"column":2},"end":{"line":211,"column":5}},"90":{"start":{"line":213,"column":2},"end":{"line":213,"column":71}},"91":{"start":{"line":216,"column":0},"end":{"line":226,"column":2}},"92":{"start":{"line":217,"column":2},"end":{"line":217,"column":26}},"93":{"start":{"line":218,"column":2},"end":{"line":223,"column":5}},"94":{"start":{"line":225,"column":2},"end":{"line":225,"column":75}},"95":{"start":{"line":228,"column":0},"end":{"line":248,"column":2}},"96":{"start":{"line":229,"column":2},"end":{"line":231,"column":3}},"97":{"start":{"line":230,"column":4},"end":{"line":230,"column":73}},"98":{"start":{"line":233,"column":2},"end":{"line":233,"column":29}},"99":{"start":{"line":234,"column":2},"end":{"line":237,"column":3}},"100":{"start":{"line":235,"column":4},"end":{"line":235,"column":65}},"101":{"start":{"line":236,"column":4},"end":{"line":236,"column":35}},"102":{"start":{"line":239,"column":2},"end":{"line":239,"column":99}},"103":{"start":{"line":240,"column":2},"end":{"line":240,"column":73}},"104":{"start":{"line":241,"column":2},"end":{"line":241,"column":21}},"105":{"start":{"line":244,"column":2},"end":{"line":244,"column":18}},"106":{"start":{"line":245,"column":2},"end":{"line":247,"column":3}},"107":{"start":{"line":246,"column":4},"end":{"line":246,"column":62}},"108":{"start":{"line":246,"column":34},"end":{"line":246,"column":58}},"109":{"start":{"line":250,"column":0},"end":{"line":255,"column":2}},"110":{"start":{"line":251,"column":2},"end":{"line":251,"column":57}},"111":{"start":{"line":251,"column":44},"end":{"line":251,"column":57}},"112":{"start":{"line":252,"column":2},"end":{"line":252,"column":53}},"113":{"start":{"line":252,"column":40},"end":{"line":252,"column":53}},"114":{"start":{"line":253,"column":2},"end":{"line":253,"column":76}},"115":{"start":{"line":253,"column":63},"end":{"line":253,"column":76}},"116":{"start":{"line":254,"column":2},"end":{"line":254,"column":14}},"117":{"start":{"line":257,"column":0},"end":{"line":272,"column":2}},"118":{"start":{"line":258,"column":2},"end":{"line":258,"column":18}},"119":{"start":{"line":259,"column":2},"end":{"line":261,"column":3}},"120":{"start":{"line":260,"column":4},"end":{"line":260,"column":62}},"121":{"start":{"line":263,"column":2},"end":{"line":263,"column":21}},"122":{"start":{"line":264,"column":2},"end":{"line":271,"column":29}},"123":{"start":{"line":265,"column":4},"end":{"line":270,"column":5}},"124":{"start":{"line":266,"column":6},"end":{"line":266,"column":50}},"125":{"start":{"line":267,"column":6},"end":{"line":267,"column":20}},"126":{"start":{"line":269,"column":6},"end":{"line":269,"column":64}},"127":{"start":{"line":269,"column":36},"end":{"line":269,"column":60}},"128":{"start":{"line":274,"column":0},"end":{"line":274,"column":22}}},"branchMap":{"1":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":16,"column":4}},{"start":{"line":16,"column":4},"end":{"line":16,"column":4}}]},"2":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":2},"end":{"line":64,"column":2}},{"start":{"line":64,"column":2},"end":{"line":64,"column":2}}]},"3":{"line":64,"type":"binary-expr","locations":[{"start":{"line":64,"column":6},"end":{"line":64,"column":17}},{"start":{"line":64,"column":21},"end":{"line":64,"column":41}}]},"4":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":6},"end":{"line":116,"column":6}},{"start":{"line":116,"column":6},"end":{"line":116,"column":6}}]},"5":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":6},"end":{"line":117,"column":6}},{"start":{"line":117,"column":6},"end":{"line":117,"column":6}}]},"6":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":8},"end":{"line":118,"column":8}},{"start":{"line":118,"column":8},"end":{"line":118,"column":8}}]},"7":{"line":118,"type":"binary-expr","locations":[{"start":{"line":118,"column":12},"end":{"line":118,"column":20}},{"start":{"line":118,"column":24},"end":{"line":118,"column":38}}]},"8":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":2},"end":{"line":158,"column":2}},{"start":{"line":158,"column":2},"end":{"line":158,"column":2}}]},"9":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":6},"end":{"line":158,"column":26}},{"start":{"line":158,"column":30},"end":{"line":158,"column":51}},{"start":{"line":158,"column":55},"end":{"line":158,"column":78}}]},"10":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":2},"end":{"line":163,"column":2}},{"start":{"line":163,"column":2},"end":{"line":163,"column":2}}]},"11":{"line":199,"type":"binary-expr","locations":[{"start":{"line":199,"column":12},"end":{"line":199,"column":19}},{"start":{"line":199,"column":23},"end":{"line":199,"column":25}}]},"12":{"line":217,"type":"binary-expr","locations":[{"start":{"line":217,"column":12},"end":{"line":217,"column":19}},{"start":{"line":217,"column":23},"end":{"line":217,"column":25}}]},"13":{"line":229,"type":"if","locations":[{"start":{"line":229,"column":2},"end":{"line":229,"column":2}},{"start":{"line":229,"column":2},"end":{"line":229,"column":2}}]},"14":{"line":229,"type":"binary-expr","locations":[{"start":{"line":229,"column":6},"end":{"line":229,"column":11}},{"start":{"line":229,"column":15},"end":{"line":229,"column":26}}]},"15":{"line":234,"type":"if","locations":[{"start":{"line":234,"column":2},"end":{"line":234,"column":2}},{"start":{"line":234,"column":2},"end":{"line":234,"column":2}}]},"16":{"line":240,"type":"cond-expr","locations":[{"start":{"line":240,"column":44},"end":{"line":240,"column":55}},{"start":{"line":240,"column":58},"end":{"line":240,"column":71}}]},"17":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":2},"end":{"line":245,"column":2}},{"start":{"line":245,"column":2},"end":{"line":245,"column":2}}]},"18":{"line":251,"type":"if","locations":[{"start":{"line":251,"column":2},"end":{"line":251,"column":2}},{"start":{"line":251,"column":2},"end":{"line":251,"column":2}}]},"19":{"line":251,"type":"binary-expr","locations":[{"start":{"line":251,"column":6},"end":{"line":251,"column":18}},{"start":{"line":251,"column":22},"end":{"line":251,"column":42}}]},"20":{"line":252,"type":"if","locations":[{"start":{"line":252,"column":2},"end":{"line":252,"column":2}},{"start":{"line":252,"column":2},"end":{"line":252,"column":2}}]},"21":{"line":252,"type":"binary-expr","locations":[{"start":{"line":252,"column":6},"end":{"line":252,"column":19}},{"start":{"line":252,"column":23},"end":{"line":252,"column":38}}]},"22":{"line":253,"type":"if","locations":[{"start":{"line":253,"column":2},"end":{"line":253,"column":2}},{"start":{"line":253,"column":2},"end":{"line":253,"column":2}}]},"23":{"line":253,"type":"binary-expr","locations":[{"start":{"line":253,"column":6},"end":{"line":253,"column":28}},{"start":{"line":253,"column":32},"end":{"line":253,"column":61}}]},"24":{"line":259,"type":"if","locations":[{"start":{"line":259,"column":2},"end":{"line":259,"column":2}},{"start":{"line":259,"column":2},"end":{"line":259,"column":2}}]},"25":{"line":265,"type":"if","locations":[{"start":{"line":265,"column":4},"end":{"line":265,"column":4}},{"start":{"line":265,"column":4},"end":{"line":265,"column":4}}]}},"code":["'use strict';","","var EventEmitter = require('events').EventEmitter,","    Promise = require('bluebird'),","    util = require('util'),","","    StateMachine = require('stately.js'),","","    debug = require('debug')('amqp10:link'),","    u = require('./utilities'),","    frames = require('./frames'),","    errors = require('./errors');","","var stateMachine = function(link) {","  var detachHandler = function(frame) {","    if (this.getMachineState() === 'ATTACHED') {","      this.ATTACHED.sendDetach({ closed: frame.closed });","    }","","    link._detached(frame);","    return this.DETACHED;","  };","","  var states = {","    'DETACHED': {","      sendAttach: 'ATTACHING',","      reattach: 'REATTACHING'","    },","    'ATTACHING': { attachReceived: 'ATTACHED' },","    'REATTACHING': { attachReceived: 'ATTACHED' },","    'ATTACHED': {","      sendDetach: function(options) {","        link._sendDetach(options);","        return this.DETACHING;","      },","    },","    'DETACHING': { detached: 'DETACHED' }","  };","","  Object.keys(states).forEach(function(s) {","    states[s].forceDetach = 'DETACHED';","    states[s].detachReceived = detachHandler;","  });","","  return states;","};","","","/**"," * @class"," * @extends EventEmitter"," * @fires Link#errorReceived"," * @fires Link#attached"," * @fires Link#detached"," */","function Link(session, handle, linkPolicy) {","  this.policy = linkPolicy;","  this.session = session;","  this.handle = handle;","  this.remote = { handle: undefined };","  this.deliveryCount = 0;","","  this._onAttach = [];","  if (this.policy && this.policy.reattach) {","    this._timeouts = u.generateTimeouts(this.policy.reattach);","  }","","  var self = this;","  this.sm = new StateMachine(stateMachine(this));","  this.sm.bind(function(event, oldState, newState) {","    debug('stateChange(' + self.id + '):', oldState, '=>', newState, ', reason:', event);","  });","}","","util.inherits(Link, EventEmitter);","","/**"," * Error received event"," *"," * @event Link#errorReceived"," * @param {object} error the received error"," */","Link.ErrorReceived = 'errorReceived';","","/**"," * Attached event"," *"," * @event Link#attached"," */","Link.Attached = 'attached';","","/**"," * Detached event"," *"," * @event Link#detached"," */","Link.Detached = 'detached';","","// public api","","/**"," * Detach the link from the session"," *"," * @inner @memberof Link"," * @param {object} [options] detach frame options"," * @return {Promise}"," */","Link.prototype.detach = function(options) {","  var self = this;","  this._timeouts = undefined; // Disable any re-attachment policy.","  var detachPromise = new Promise(function(resolve, reject) {","    var onError = function(err) { reject(err); };","    self.once(Link.ErrorReceived, onError);","    self.once(Link.Detached, function(info) {","      self.removeListener(Link.ErrorReceived, onError);","      if (!!info.error) return reject(info.error);","      if (!info.closed) {","        if (!options || options.closed) {","          return reject('link not closed');","        }","      }","      resolve();","    });","  });","","  this.sm.sendDetach(options);","  return detachPromise;","};","","// private api","Link.prototype.state = function() {","  return this.sm.getMachineState().toLowerCase();","};","","Object.defineProperty(Link.prototype, 'id', {","  get: function() { return this.name + ':' + this.handle; }","});","","Link.prototype.attach = function() {","  this.sm.sendAttach();","  var attachFrame = new frames.AttachFrame(this.policy.attach);","  attachFrame.channel = this.session.channel;","","  this.name = attachFrame.name;","  this.role = attachFrame.role;","  this.linkCredit = 0;","  this.available = 0;","  this.drain = false;","  this.session.connection.sendFrame(attachFrame);","};","","///","/// Force link state to detached without sending detach message - usually due to forcible disconnect or unmap from above.","/// Important bit is that this should not trigger auto-reattach behavior as that'll happen with reconnect.","///","Link.prototype.forceDetach = function() {","  var state = this.state();","  if (state !== 'attached' && state !== 'attaching' && state !== 'reattaching') {","    return;","  }","","  debug('forceDetach(' + this.id + '): current state:', state);","  if (!!this._reattachTimer) clearTimeout(this._reattachTimer);","  this.sm.forceDetach();","  this.emit(Link.Detached, {","    closed: true,","    error: new errors.ProtocolError('amqp:link:detach-forced', 'detach-forced')","  });","};","","Link.prototype._resolveAttachPromises = function(err, link) {","  for (var i = 0; i < this._onAttach.length; ++i) {","    var attachPromise = this._onAttach[i];","    attachPromise(err, link);","  }","","  this._onAttach = [];","};","","Link.prototype._attachReceived = function(attachFrame) {","  this.sm.attachReceived();","","  // process params.","  this.remote.handle = attachFrame.handle;","  this.remote.attach = attachFrame;","","  this.session._linksByRemoteHandle[this.remote.handle] = this;","  debug(this.name + ': attached CH=[' + this.session.channel + '=>' + attachFrame.channel + '], Handle=[' + this.handle + '=>' + attachFrame.handle + ']');","","  this.emit(Link.Attached, this);","  this._resolveAttachPromises(null, this);","","  this._checkCredit({ initial: true });","};","","// default implementation does nothing","Link.prototype._checkCredit = function() {};","Link.prototype.flow = function(options) {","  options = options || {};","  var flowOptions = u.defaults(options, {","    channel: this.session.channel,","    handle: this.handle,","    linkCredit: this.linkCredit,","    nextIncomingId: this.session._sessionParams.nextIncomingId,","    incomingWindow: this.session._sessionParams.incomingWindow,","    nextOutgoingId: this.session._sessionParams.nextOutgoingId,","    outgoingWindow: this.session._sessionParams.outgoingWindow,","    available: this.available,","    deliveryCount: this.deliveryCount,","    drain: false","  });","","  this.session.connection.sendFrame(new frames.FlowFrame(flowOptions));","};","","Link.prototype._sendDetach = function(options) {","  options = options || {};","  var detachoptions = u.defaults(options, {","    handle: this.handle,","    channel: this.session.channel,","    closed: true,","    error: null","  });","","  this.session.connection.sendFrame(new frames.DetachFrame(detachoptions));","};","","Link.prototype._detached = function(frame) {","  if (frame && frame.error) {","    this.emit(Link.ErrorReceived, errors.wrapProtocolError(frame.error));","  }","","  this.remote.detach = frame;","  if (this.remote.handle !== undefined) {","    delete this.session._linksByRemoteHandle[this.remote.handle];","    this.remote.handle = undefined;","  }","","  this.emit(Link.Detached, { closed: frame.closed, error: errors.wrapProtocolError(frame.error) });","  this._resolveAttachPromises(frame.error ? frame.error : 'link closed');","  this.sm.detached();","","  // now check for whether we should reattach","  var self = this;","  if (self.shouldReattach()) {","    process.nextTick(function() { self._attemptReattach(); });","  }","};","","Link.prototype.shouldReattach = function() {","  if (this.session && !this.session.mapped) return false;","  if (!this.session || !this._timeouts) return false;","  if (!this._timeouts.length && !this.policy.reattach.forever) return false;","  return true;","};","","Link.prototype._attemptReattach = function() {","  var self = this;","  if (!self._timeouts.length) {","    self._timeouts = u.generateTimeouts(self.policy.reattach);","  }","","  self.sm.reattach();","  self._reattachTimer = setTimeout(function() {","    if (self.shouldReattach()) {","      debug('attempting to reattach: ' + self.id);","      self.attach();","    } else {","      process.nextTick(function() { self._attemptReattach(); });","    }","  }, self._timeouts.shift());","};","","module.exports = Link;",""],"l":{"3":1,"14":1,"15":0,"16":0,"17":0,"20":0,"21":0,"24":0,"33":0,"34":0,"40":0,"41":0,"42":0,"45":0,"56":1,"57":0,"58":0,"59":0,"60":0,"61":0,"63":0,"64":0,"65":0,"68":0,"69":0,"70":0,"71":0,"75":1,"83":1,"90":1,"97":1,"108":1,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"122":0,"126":0,"127":0,"131":1,"132":0,"135":1,"136":0,"139":1,"140":0,"141":0,"142":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"156":1,"157":0,"158":0,"159":0,"162":0,"163":0,"164":0,"165":0,"171":1,"172":0,"173":0,"174":0,"177":0,"180":1,"181":0,"184":0,"185":0,"187":0,"188":0,"190":0,"191":0,"193":0,"197":1,"198":1,"199":0,"200":0,"213":0,"216":1,"217":0,"218":0,"225":0,"228":1,"229":0,"230":0,"233":0,"234":0,"235":0,"236":0,"239":0,"240":0,"241":0,"244":0,"245":0,"246":0,"250":1,"251":0,"252":0,"253":0,"254":0,"257":1,"258":0,"259":0,"260":0,"263":0,"264":0,"265":0,"266":0,"267":0,"269":0,"274":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/sender_link.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/sender_link.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":1,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":1,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":1,"114":0,"115":0,"116":1,"117":0,"118":0,"119":0,"120":1,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":1,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":1,"146":0,"147":0,"148":1},"b":{"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"fnMap":{"1":{"name":"SenderLink","line":22,"loc":{"start":{"line":22,"column":0},"end":{"line":22,"column":49}}},"2":{"name":"(anonymous_2)","line":31,"loc":{"start":{"line":31,"column":30},"end":{"line":31,"column":41}}},"3":{"name":"(anonymous_3)","line":39,"loc":{"start":{"line":39,"column":31},"end":{"line":39,"column":42}}},"4":{"name":"(anonymous_4)","line":68,"loc":{"start":{"line":68,"column":28},"end":{"line":68,"column":51}}},"5":{"name":"(anonymous_5)","line":103,"loc":{"start":{"line":103,"column":22},"end":{"line":103,"column":36}}},"6":{"name":"(anonymous_6)","line":120,"loc":{"start":{"line":120,"column":21},"end":{"line":120,"column":47}}},"7":{"name":"(anonymous_7)","line":121,"loc":{"start":{"line":121,"column":22},"end":{"line":121,"column":36}}},"8":{"name":"(anonymous_8)","line":132,"loc":{"start":{"line":132,"column":29},"end":{"line":132,"column":50}}},"9":{"name":"(anonymous_9)","line":155,"loc":{"start":{"line":155,"column":36},"end":{"line":155,"column":63}}},"10":{"name":"(anonymous_10)","line":218,"loc":{"start":{"line":218,"column":37},"end":{"line":218,"column":53}}},"11":{"name":"(anonymous_11)","line":230,"loc":{"start":{"line":230,"column":39},"end":{"line":230,"column":61}}},"12":{"name":"(anonymous_12)","line":236,"loc":{"start":{"line":236,"column":33},"end":{"line":236,"column":49}}},"13":{"name":"(anonymous_13)","line":245,"loc":{"start":{"line":245,"column":45},"end":{"line":245,"column":59}}},"14":{"name":"(anonymous_14)","line":255,"loc":{"start":{"line":255,"column":46},"end":{"line":255,"column":59}}},"15":{"name":"(anonymous_15)","line":265,"loc":{"start":{"line":265,"column":44},"end":{"line":265,"column":62}}},"16":{"name":"(anonymous_16)","line":289,"loc":{"start":{"line":289,"column":35},"end":{"line":289,"column":46}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":16,"column":29}},"2":{"start":{"line":22,"column":0},"end":{"line":27,"column":1}},"3":{"start":{"line":23,"column":2},"end":{"line":23,"column":60}},"4":{"start":{"line":25,"column":2},"end":{"line":25,"column":26}},"5":{"start":{"line":26,"column":2},"end":{"line":26,"column":28}},"6":{"start":{"line":28,"column":0},"end":{"line":28,"column":32}},"7":{"start":{"line":31,"column":0},"end":{"line":37,"column":2}},"8":{"start":{"line":32,"column":2},"end":{"line":32,"column":70}},"9":{"start":{"line":33,"column":2},"end":{"line":33,"column":25}},"10":{"start":{"line":36,"column":2},"end":{"line":36,"column":48}},"11":{"start":{"line":39,"column":0},"end":{"line":48,"column":2}},"12":{"start":{"line":40,"column":2},"end":{"line":42,"column":3}},"13":{"start":{"line":41,"column":4},"end":{"line":41,"column":17}},"14":{"start":{"line":44,"column":2},"end":{"line":45,"column":109}},"15":{"start":{"line":46,"column":2},"end":{"line":46,"column":115}},"16":{"start":{"line":47,"column":2},"end":{"line":47,"column":18}},"17":{"start":{"line":68,"column":0},"end":{"line":152,"column":2}},"18":{"start":{"line":69,"column":2},"end":{"line":69,"column":26}},"19":{"start":{"line":71,"column":2},"end":{"line":71,"column":22}},"20":{"start":{"line":72,"column":2},"end":{"line":75,"column":3}},"21":{"start":{"line":73,"column":4},"end":{"line":73,"column":32}},"22":{"start":{"line":74,"column":4},"end":{"line":74,"column":27}},"23":{"start":{"line":77,"column":2},"end":{"line":81,"column":3}},"24":{"start":{"line":78,"column":4},"end":{"line":78,"column":53}},"25":{"start":{"line":78,"column":29},"end":{"line":78,"column":53}},"26":{"start":{"line":79,"column":4},"end":{"line":80,"column":62}},"27":{"start":{"line":80,"column":6},"end":{"line":80,"column":62}},"28":{"start":{"line":83,"column":2},"end":{"line":83,"column":14}},"29":{"start":{"line":84,"column":2},"end":{"line":84,"column":48}},"30":{"start":{"line":85,"column":2},"end":{"line":97,"column":3}},"31":{"start":{"line":86,"column":4},"end":{"line":86,"column":18}},"32":{"start":{"line":87,"column":4},"end":{"line":87,"column":90}},"33":{"start":{"line":88,"column":4},"end":{"line":88,"column":30}},"34":{"start":{"line":90,"column":4},"end":{"line":90,"column":63}},"35":{"start":{"line":91,"column":4},"end":{"line":96,"column":5}},"36":{"start":{"line":92,"column":6},"end":{"line":92,"column":25}},"37":{"start":{"line":93,"column":6},"end":{"line":93,"column":24}},"38":{"start":{"line":95,"column":6},"end":{"line":95,"column":30}},"39":{"start":{"line":99,"column":2},"end":{"line":100,"column":38}},"40":{"start":{"line":102,"column":2},"end":{"line":118,"column":3}},"41":{"start":{"line":103,"column":4},"end":{"line":109,"column":6}},"42":{"start":{"line":104,"column":6},"end":{"line":104,"column":27}},"43":{"start":{"line":104,"column":17},"end":{"line":104,"column":27}},"44":{"start":{"line":105,"column":6},"end":{"line":105,"column":30}},"45":{"start":{"line":106,"column":6},"end":{"line":108,"column":9}},"46":{"start":{"line":111,"column":4},"end":{"line":114,"column":5}},"47":{"start":{"line":112,"column":6},"end":{"line":112,"column":43}},"48":{"start":{"line":113,"column":6},"end":{"line":113,"column":13}},"49":{"start":{"line":116,"column":4},"end":{"line":116,"column":18}},"50":{"start":{"line":117,"column":4},"end":{"line":117,"column":11}},"51":{"start":{"line":120,"column":2},"end":{"line":151,"column":5}},"52":{"start":{"line":121,"column":4},"end":{"line":142,"column":6}},"53":{"start":{"line":122,"column":6},"end":{"line":124,"column":7}},"54":{"start":{"line":123,"column":8},"end":{"line":123,"column":27}},"55":{"start":{"line":126,"column":6},"end":{"line":126,"column":30}},"56":{"start":{"line":127,"column":6},"end":{"line":129,"column":9}},"57":{"start":{"line":131,"column":6},"end":{"line":141,"column":7}},"58":{"start":{"line":132,"column":8},"end":{"line":135,"column":10}},"59":{"start":{"line":133,"column":10},"end":{"line":133,"column":40}},"60":{"start":{"line":133,"column":21},"end":{"line":133,"column":40}},"61":{"start":{"line":134,"column":10},"end":{"line":134,"column":25}},"62":{"start":{"line":136,"column":8},"end":{"line":136,"column":57}},"63":{"start":{"line":137,"column":13},"end":{"line":141,"column":7}},"64":{"start":{"line":138,"column":8},"end":{"line":138,"column":18}},"65":{"start":{"line":140,"column":8},"end":{"line":140,"column":77}},"66":{"start":{"line":144,"column":4},"end":{"line":147,"column":5}},"67":{"start":{"line":145,"column":6},"end":{"line":145,"column":43}},"68":{"start":{"line":146,"column":6},"end":{"line":146,"column":13}},"69":{"start":{"line":150,"column":4},"end":{"line":150,"column":22}},"70":{"start":{"line":155,"column":0},"end":{"line":216,"column":2}},"71":{"start":{"line":157,"column":2},"end":{"line":159,"column":3}},"72":{"start":{"line":158,"column":4},"end":{"line":158,"column":73}},"73":{"start":{"line":161,"column":2},"end":{"line":161,"column":26}},"74":{"start":{"line":164,"column":2},"end":{"line":164,"column":61}},"75":{"start":{"line":165,"column":2},"end":{"line":165,"column":47}},"76":{"start":{"line":166,"column":2},"end":{"line":166,"column":53}},"77":{"start":{"line":167,"column":2},"end":{"line":167,"column":47}},"78":{"start":{"line":169,"column":2},"end":{"line":176,"column":3}},"79":{"start":{"line":170,"column":4},"end":{"line":175,"column":5}},"80":{"start":{"line":171,"column":6},"end":{"line":171,"column":161}},"81":{"start":{"line":173,"column":6},"end":{"line":174,"column":55}},"82":{"start":{"line":179,"column":2},"end":{"line":184,"column":5}},"83":{"start":{"line":187,"column":2},"end":{"line":187,"column":37}},"84":{"start":{"line":188,"column":2},"end":{"line":188,"column":43}},"85":{"start":{"line":189,"column":2},"end":{"line":189,"column":43}},"86":{"start":{"line":192,"column":2},"end":{"line":192,"column":12}},"87":{"start":{"line":193,"column":2},"end":{"line":193,"column":70}},"88":{"start":{"line":194,"column":2},"end":{"line":194,"column":82}},"89":{"start":{"line":195,"column":2},"end":{"line":195,"column":54}},"90":{"start":{"line":196,"column":2},"end":{"line":196,"column":66}},"91":{"start":{"line":197,"column":2},"end":{"line":211,"column":3}},"92":{"start":{"line":198,"column":4},"end":{"line":198,"column":74}},"93":{"start":{"line":199,"column":4},"end":{"line":199,"column":22}},"94":{"start":{"line":200,"column":4},"end":{"line":206,"column":5}},"95":{"start":{"line":201,"column":6},"end":{"line":201,"column":69}},"96":{"start":{"line":202,"column":6},"end":{"line":202,"column":56}},"97":{"start":{"line":203,"column":6},"end":{"line":203,"column":83}},"98":{"start":{"line":204,"column":6},"end":{"line":204,"column":47}},"99":{"start":{"line":205,"column":6},"end":{"line":205,"column":36}},"100":{"start":{"line":208,"column":4},"end":{"line":208,"column":54}},"101":{"start":{"line":209,"column":4},"end":{"line":209,"column":34}},"102":{"start":{"line":210,"column":4},"end":{"line":210,"column":45}},"103":{"start":{"line":213,"column":2},"end":{"line":213,"column":23}},"104":{"start":{"line":214,"column":2},"end":{"line":214,"column":20}},"105":{"start":{"line":215,"column":2},"end":{"line":215,"column":19}},"106":{"start":{"line":218,"column":0},"end":{"line":228,"column":2}},"107":{"start":{"line":219,"column":2},"end":{"line":224,"column":3}},"108":{"start":{"line":220,"column":4},"end":{"line":220,"column":37}},"109":{"start":{"line":221,"column":4},"end":{"line":221,"column":82}},"110":{"start":{"line":223,"column":4},"end":{"line":223,"column":112}},"111":{"start":{"line":226,"column":2},"end":{"line":226,"column":37}},"112":{"start":{"line":227,"column":2},"end":{"line":227,"column":35}},"113":{"start":{"line":230,"column":0},"end":{"line":234,"column":2}},"114":{"start":{"line":231,"column":2},"end":{"line":231,"column":70}},"115":{"start":{"line":233,"column":2},"end":{"line":233,"column":35}},"116":{"start":{"line":236,"column":0},"end":{"line":243,"column":2}},"117":{"start":{"line":237,"column":2},"end":{"line":237,"column":58}},"118":{"start":{"line":240,"column":2},"end":{"line":242,"column":3}},"119":{"start":{"line":241,"column":4},"end":{"line":241,"column":44}},"120":{"start":{"line":245,"column":0},"end":{"line":263,"column":2}},"121":{"start":{"line":246,"column":2},"end":{"line":251,"column":3}},"122":{"start":{"line":247,"column":4},"end":{"line":250,"column":5}},"123":{"start":{"line":248,"column":6},"end":{"line":248,"column":51}},"124":{"start":{"line":249,"column":6},"end":{"line":249,"column":23}},"125":{"start":{"line":253,"column":2},"end":{"line":262,"column":3}},"126":{"start":{"line":254,"column":4},"end":{"line":254,"column":20}},"127":{"start":{"line":255,"column":4},"end":{"line":259,"column":7}},"128":{"start":{"line":256,"column":6},"end":{"line":256,"column":52}},"129":{"start":{"line":257,"column":6},"end":{"line":257,"column":32}},"130":{"start":{"line":258,"column":6},"end":{"line":258,"column":38}},"131":{"start":{"line":261,"column":4},"end":{"line":261,"column":30}},"132":{"start":{"line":265,"column":0},"end":{"line":286,"column":2}},"133":{"start":{"line":266,"column":2},"end":{"line":268,"column":3}},"134":{"start":{"line":267,"column":4},"end":{"line":267,"column":11}},"135":{"start":{"line":270,"column":2},"end":{"line":270,"column":17}},"136":{"start":{"line":271,"column":2},"end":{"line":274,"column":3}},"137":{"start":{"line":272,"column":4},"end":{"line":273,"column":73}},"138":{"start":{"line":276,"column":2},"end":{"line":276,"column":28}},"139":{"start":{"line":277,"column":2},"end":{"line":277,"column":35}},"140":{"start":{"line":278,"column":2},"end":{"line":285,"column":3}},"141":{"start":{"line":279,"column":4},"end":{"line":281,"column":5}},"142":{"start":{"line":280,"column":6},"end":{"line":280,"column":15}},"143":{"start":{"line":283,"column":4},"end":{"line":283,"column":56}},"144":{"start":{"line":284,"column":4},"end":{"line":284,"column":43}},"145":{"start":{"line":289,"column":0},"end":{"line":292,"column":2}},"146":{"start":{"line":290,"column":2},"end":{"line":290,"column":99}},"147":{"start":{"line":291,"column":2},"end":{"line":291,"column":40}},"148":{"start":{"line":294,"column":0},"end":{"line":294,"column":28}}},"branchMap":{"1":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":2},"end":{"line":40,"column":2}},{"start":{"line":40,"column":2},"end":{"line":40,"column":2}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":17},"end":{"line":44,"column":37}},{"start":{"line":45,"column":5},"end":{"line":45,"column":50}},{"start":{"line":45,"column":54},"end":{"line":45,"column":107}}]},"3":{"line":69,"type":"binary-expr","locations":[{"start":{"line":69,"column":12},"end":{"line":69,"column":19}},{"start":{"line":69,"column":23},"end":{"line":69,"column":25}}]},"4":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":2},"end":{"line":72,"column":2}},{"start":{"line":72,"column":2},"end":{"line":72,"column":2}}]},"5":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":2},"end":{"line":77,"column":2}},{"start":{"line":77,"column":2},"end":{"line":77,"column":2}}]},"6":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":4},"end":{"line":78,"column":4}},{"start":{"line":78,"column":4},"end":{"line":78,"column":4}}]},"7":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":4},"end":{"line":79,"column":4}},{"start":{"line":79,"column":4},"end":{"line":79,"column":4}}]},"8":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":2},"end":{"line":85,"column":2}},{"start":{"line":85,"column":2},"end":{"line":85,"column":2}}]},"9":{"line":85,"type":"binary-expr","locations":[{"start":{"line":85,"column":6},"end":{"line":85,"column":21}},{"start":{"line":85,"column":25},"end":{"line":85,"column":51}}]},"10":{"line":87,"type":"cond-expr","locations":[{"start":{"line":87,"column":41},"end":{"line":87,"column":74}},{"start":{"line":87,"column":77},"end":{"line":87,"column":89}}]},"11":{"line":90,"type":"cond-expr","locations":[{"start":{"line":90,"column":32},"end":{"line":90,"column":56}},{"start":{"line":90,"column":59},"end":{"line":90,"column":62}}]},"12":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":91,"column":4}},{"start":{"line":91,"column":4},"end":{"line":91,"column":4}}]},"13":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":2},"end":{"line":102,"column":2}},{"start":{"line":102,"column":2},"end":{"line":102,"column":2}}]},"14":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":6},"end":{"line":104,"column":6}},{"start":{"line":104,"column":6},"end":{"line":104,"column":6}}]},"15":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":4},"end":{"line":111,"column":4}},{"start":{"line":111,"column":4},"end":{"line":111,"column":4}}]},"16":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":6},"end":{"line":122,"column":6}},{"start":{"line":122,"column":6},"end":{"line":122,"column":6}}]},"17":{"line":131,"type":"if","locations":[{"start":{"line":131,"column":6},"end":{"line":131,"column":6}},{"start":{"line":131,"column":6},"end":{"line":131,"column":6}}]},"18":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":10},"end":{"line":133,"column":10}},{"start":{"line":133,"column":10},"end":{"line":133,"column":10}}]},"19":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":13},"end":{"line":137,"column":13}},{"start":{"line":137,"column":13},"end":{"line":137,"column":13}}]},"20":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":4},"end":{"line":144,"column":4}},{"start":{"line":144,"column":4},"end":{"line":144,"column":4}}]},"21":{"line":157,"type":"if","locations":[{"start":{"line":157,"column":2},"end":{"line":157,"column":2}},{"start":{"line":157,"column":2},"end":{"line":157,"column":2}}]},"22":{"line":161,"type":"binary-expr","locations":[{"start":{"line":161,"column":12},"end":{"line":161,"column":19}},{"start":{"line":161,"column":23},"end":{"line":161,"column":25}}]},"23":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":2},"end":{"line":169,"column":2}},{"start":{"line":169,"column":2},"end":{"line":169,"column":2}}]},"24":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":4},"end":{"line":170,"column":4}},{"start":{"line":170,"column":4},"end":{"line":170,"column":4}}]},"25":{"line":197,"type":"if","locations":[{"start":{"line":197,"column":2},"end":{"line":197,"column":2}},{"start":{"line":197,"column":2},"end":{"line":197,"column":2}}]},"26":{"line":201,"type":"cond-expr","locations":[{"start":{"line":201,"column":56},"end":{"line":201,"column":60}},{"start":{"line":201,"column":63},"end":{"line":201,"column":68}}]},"27":{"line":219,"type":"if","locations":[{"start":{"line":219,"column":2},"end":{"line":219,"column":2}},{"start":{"line":219,"column":2},"end":{"line":219,"column":2}}]},"28":{"line":240,"type":"if","locations":[{"start":{"line":240,"column":2},"end":{"line":240,"column":2}},{"start":{"line":240,"column":2},"end":{"line":240,"column":2}}]},"29":{"line":240,"type":"binary-expr","locations":[{"start":{"line":240,"column":6},"end":{"line":240,"column":11}},{"start":{"line":240,"column":15},"end":{"line":240,"column":26}}]},"30":{"line":246,"type":"if","locations":[{"start":{"line":246,"column":2},"end":{"line":246,"column":2}},{"start":{"line":246,"column":2},"end":{"line":246,"column":2}}]},"31":{"line":246,"type":"binary-expr","locations":[{"start":{"line":246,"column":6},"end":{"line":246,"column":24}},{"start":{"line":246,"column":28},"end":{"line":246,"column":59}}]},"32":{"line":247,"type":"binary-expr","locations":[{"start":{"line":247,"column":11},"end":{"line":247,"column":40}},{"start":{"line":247,"column":45},"end":{"line":247,"column":74}}]},"33":{"line":247,"type":"cond-expr","locations":[{"start":{"line":247,"column":53},"end":{"line":247,"column":57}},{"start":{"line":247,"column":60},"end":{"line":247,"column":74}}]},"34":{"line":253,"type":"if","locations":[{"start":{"line":253,"column":2},"end":{"line":253,"column":2}},{"start":{"line":253,"column":2},"end":{"line":253,"column":2}}]},"35":{"line":253,"type":"binary-expr","locations":[{"start":{"line":253,"column":6},"end":{"line":253,"column":11}},{"start":{"line":253,"column":15},"end":{"line":253,"column":35}},{"start":{"line":253,"column":39},"end":{"line":253,"column":79}}]},"36":{"line":266,"type":"if","locations":[{"start":{"line":266,"column":2},"end":{"line":266,"column":2}},{"start":{"line":266,"column":2},"end":{"line":266,"column":2}}]},"37":{"line":271,"type":"if","locations":[{"start":{"line":271,"column":2},"end":{"line":271,"column":2}},{"start":{"line":271,"column":2},"end":{"line":271,"column":2}}]},"38":{"line":272,"type":"cond-expr","locations":[{"start":{"line":273,"column":6},"end":{"line":273,"column":25}},{"start":{"line":273,"column":28},"end":{"line":273,"column":72}}]},"39":{"line":277,"type":"binary-expr","locations":[{"start":{"line":277,"column":13},"end":{"line":277,"column":25}},{"start":{"line":277,"column":29},"end":{"line":277,"column":34}}]},"40":{"line":279,"type":"if","locations":[{"start":{"line":279,"column":4},"end":{"line":279,"column":4}},{"start":{"line":279,"column":4},"end":{"line":279,"column":4}}]}},"code":["'use strict';","","var Builder = require('buffer-builder'),","    Promise = require('bluebird'),","    util = require('util'),","    debug = require('debug')('amqp10:link:sender'),","","    frames = require('./frames'),","    errors = require('./errors'),","    constants = require('./constants'),","    putils = require('./policies/policy_utilities'),","    m = require('./types/message'),","    u = require('./utilities'),","","    DeliveryState = require('./types/delivery_state'),","    Link = require('./link');","","/**"," * @class"," * @extends Link"," */","function SenderLink(session, handle, linkPolicy) {","  SenderLink.super_.call(this, session, handle, linkPolicy);","","  this._pendingSends = [];","  this._unsettledSends = {};","}","util.inherits(SenderLink, Link);","","// public API","SenderLink.prototype.attach = function() {","  this.initialDeliveryCount = this.policy.attach.initialDeliveryCount;","  this.deliveryCount = 0;","","  // call super method","  SenderLink.super_.prototype.attach.call(this);","};","","SenderLink.prototype.canSend = function() {","  if (this.state() !== 'attached') {","    return false;","  }","","  var sendable = this.linkCredit >= 1 &&","    (!this.session.policy.enableSessionFlowControl || this.session._sessionParams.remoteIncomingWindow >= 1);","  debug('canSend(' + this.linkCredit + ',' + this.session._sessionParams.remoteIncomingWindow + ') = ' + sendable);","  return sendable;","};","","/**"," * Sends the given message, with the given options on this link"," *"," * @inner @memberof SenderLink"," * @param {object|string|array} msg Message to send.  Will be encoded using sender link policy's encoder."," * @param {object} [options] An object of options to attach to the message including: annotations, properties,"," *                           and application properties"," * @param {string} [options.callback] Determines when the send operation should callback. Possible"," *                                    options are: 'sent', 'settled' and 'none'. For the best performance"," *                                    choose 'none', which is essentially \"send and forget\" and notably will"," *                                    not return a promise."," * @param {object} [options.messageAnnotations] Annotations for the message, if any.  See AMQP spec for details, and server for specific"," *                                              annotations that might be relevant (e.g. x-opt-partition-key on EventHub).  If node-amqp-encoder'd"," *                                              map is given, it will be translated to appropriate internal types.  Simple maps will be converted"," *                                              to AMQP Fields type as defined in the spec."," *"," * @return {Promise|null}"," */","SenderLink.prototype.send = function(msg, options) {","  options = options || {};","","  var noReply = false;","  if (options.hasOwnProperty('noReply')) {","    noReply = !!options.noReply;","    delete options.noReply;","  }","","  if (!!this.policy.defaultSubject) {","    if (!options.properties) options.properties = {};","    if (!options.properties.subject)","      options.properties.subject = this.policy.defaultSubject;","  }","","  var message;","  var deliveryTag = this.session._deliveryTag++;","  if (u.isObject(msg) && msg.hasOwnProperty('body')) {","    message = msg;","    message.body = this.policy.encoder ? this.policy.encoder(message.body) : message.body;","    u.merge(message, options);","  } else {","    msg = this.policy.encoder ? this.policy.encoder(msg) : msg;","    if (u.isObject(options)) {","      options.body = msg;","      message = options;","    } else {","      message = { body: msg };","    }","  }","","  var self = this,","      cbPolicy = self.policy.callback;","","  if (cbPolicy === putils.SenderCallbackPolicies.None) {","    var sendMessage = function(err) {","      if (!!err) throw err;","      debug('sending: ', msg);","      return self._sendMessage(message, {","        deliveryTag: new Buffer(deliveryTag.toString())","      });","    };","","    if (!this.canSend()) {","      this._pendingSends.push(sendMessage);","      return;","    }","","    sendMessage();","    return;","  }","","  return new Promise(function(resolve, reject) {","    var sendMessage = function(err) {","      if (err) {","        return reject(err);","      }","","      debug('sending: ', msg);","      var messageId = self._sendMessage(message, {","        deliveryTag: new Buffer(deliveryTag.toString())","      });","","      if (cbPolicy === putils.SenderCallbackPolicies.OnSettle) {","        var deferredSender = function(err, state) {","          if (!!err) return reject(err);","          resolve(state);","        };","        self._unsettledSends[messageId] = deferredSender;","      } else if (cbPolicy === putils.SenderCallbackPolicies.OnSent) {","        resolve();","      } else {","        reject(new TypeError('Invalid sender callback policy: ' + cbPolicy));","      }","    };","","    if (!self.canSend()) {","      self._pendingSends.push(sendMessage);","      return;","    }","","    // otherwise send the message","    sendMessage(null);","  });","};","","// private API","SenderLink.prototype._sendMessage = function(message, options) {","  // preconditions","  if (this.linkCredit <= 0) {","    throw new errors.OverCapacityError('Cannot send if no link credit.');","  }","","  options = options || {};","","  // session bookkeeping","  var messageId = this.session._sessionParams.nextOutgoingId;","  this.session._sessionParams.nextOutgoingId++;","  this.session._sessionParams.remoteIncomingWindow--;","  this.session._sessionParams.outgoingWindow--;","","  if (this.session._sessionParams.remoteIncomingWindow < 0) {","    if (this.session.policy.enableSessionFlowControl) {","      throw new errors.OverCapacityError('Cannot send message - over Session window capacity (' + this.session._sessionParams.remoteIncomingWindow + ' window)');","    } else {","      this.session._sessionParams.remoteIncomingWindow =","        this.session._sessionParams.outgoingWindow = 0;","    }","  }","","  // create frame(s)","  var transferOptions = u.defaults(options, {","    channel: this.session.channel,","    handle: this.handle,","    deliveryId: messageId,","    settled: this.policy.attach.sndSettleMode === constants.senderSettleMode.settled,","  });","","  // pre-encode message to determine if multiple frames are required","  var messageBuilder = new Builder();","  m.encodeMessage(message, messageBuilder);","  var messageBuffer = messageBuilder.get();","","  // send the frame(s)","  var frame;","  var maxFrameSize = this.session.connection.remote.open.maxFrameSize;","  var frameOverhead = frames.TRANSFER_FRAME_OVERHEAD + options.deliveryTag.length;","  var idealMessageSize = maxFrameSize - frameOverhead;","  var approximateFrameSize = messageBuffer.length + frameOverhead;","  if (approximateFrameSize >= maxFrameSize) {","    var messageCount = Math.ceil(messageBuffer.length / idealMessageSize);","    var bufferIdx = 0;","    for (var i = 0; i < messageCount; ++i) {","      transferOptions.more = (i !== messageCount - 1) ? true : false;","      frame = new frames.TransferFrame(transferOptions);","      frame.payload = messageBuffer.slice(bufferIdx, bufferIdx + idealMessageSize);","      this.session.connection.sendFrame(frame);","      bufferIdx += idealMessageSize;","    }","  } else {","    frame = new frames.TransferFrame(transferOptions);","    frame.payload = messageBuffer;","    this.session.connection.sendFrame(frame);","  }","","  this.deliveryCount++;","  this.linkCredit--;","  return messageId;","};","","SenderLink.prototype._flowReceived = function(frame) {","  if (frame.handle !== null) {","    this.available = frame.available; // TODO: ?? I believe we should not be overwriting this","    this.linkCredit = frame.deliveryCount + frame.linkCredit - this.deliveryCount;","","    debug('setting credits (' + this.linkCredit + ',' + this.session._sessionParams.remoteIncomingWindow + ')');","  }","","  this.emit(Link.CreditChange, this);","  this._dispatchPendingSends(null);","};","","SenderLink.prototype._attachReceived = function(attachFrame) {","  SenderLink.super_.prototype._attachReceived.call(this, attachFrame);","","  this._dispatchPendingSends(null);","};","","SenderLink.prototype._detached = function(frame) {","  SenderLink.super_.prototype._detached.call(this, frame);","","  // has an error occurred?","  if (frame && frame.error) {","    this._dispatchPendingSends(frame.error);","  }","};","","SenderLink.prototype._dispatchPendingSends = function(err) {","  if (this._pendingSends && this._pendingSends.length !== 0) {","    while (this._pendingSends.length > 0 && (!!err ? true : this.canSend())) {","      var sendMessage = this._pendingSends.shift();","      sendMessage(err);","    }","  }","","  if (!!err && this._unsettledSends && Object.keys(this._unsettledSends).length) {","    var self = this;","    Object.keys(this._unsettledSends).forEach(function(id) {","      var deferredSender = self._unsettledSends[id];","      deferredSender(err, null);","      delete self._unsettledSends[id];","    });","","    this._unsettledSends = {};","  }","};","","SenderLink.prototype._dispositionReceived = function(details) {","  if (!details.settled) {","    return;","  }","","  var err = null;","  if (details.state instanceof DeliveryState.Rejected) {","    err = !!details.state.error ?","      details.state.error : new errors.BaseError('Message was rejected');","  }","","  var first = details.first;","  var last = details.last || first;","  for (var messageId = first; messageId <= last; ++messageId) {","    if (!this._unsettledSends[messageId]) {","      continue;","    }","","    this._unsettledSends[messageId](err, details.state);","    delete this._unsettledSends[messageId];","  }","};","","// @override","SenderLink.prototype.forceDetach = function() {","  this._dispatchPendingSends(new errors.ProtocolError('amqp:link:detach-forced', 'detach-forced'));","  Link.prototype.forceDetach.call(this);","};","","module.exports = SenderLink;",""],"l":{"3":1,"22":1,"23":0,"25":0,"26":0,"28":1,"31":1,"32":0,"33":0,"36":0,"39":1,"40":0,"41":0,"44":0,"46":0,"47":0,"68":1,"69":0,"71":0,"72":0,"73":0,"74":0,"77":0,"78":0,"79":0,"80":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"90":0,"91":0,"92":0,"93":0,"95":0,"99":0,"102":0,"103":0,"104":0,"105":0,"106":0,"111":0,"112":0,"113":0,"116":0,"117":0,"120":0,"121":0,"122":0,"123":0,"126":0,"127":0,"131":0,"132":0,"133":0,"134":0,"136":0,"137":0,"138":0,"140":0,"144":0,"145":0,"146":0,"150":0,"155":1,"157":0,"158":0,"161":0,"164":0,"165":0,"166":0,"167":0,"169":0,"170":0,"171":0,"173":0,"179":0,"187":0,"188":0,"189":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"208":0,"209":0,"210":0,"213":0,"214":0,"215":0,"218":1,"219":0,"220":0,"221":0,"223":0,"226":0,"227":0,"230":1,"231":0,"233":0,"236":1,"237":0,"240":0,"241":0,"245":1,"246":0,"247":0,"248":0,"249":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"261":0,"265":1,"266":0,"267":0,"270":0,"271":0,"272":0,"276":0,"277":0,"278":0,"279":0,"280":0,"283":0,"284":0,"289":1,"290":0,"291":0,"294":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types/message.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types/message.js","s":{"1":1,"2":1,"3":1,"4":9,"5":9,"6":1,"7":4,"8":4,"9":4,"10":0,"11":4,"12":4,"13":1,"14":2,"15":2,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":2,"27":2,"28":1,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0},"b":{"1":[4,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0]},"f":{"1":9,"2":4,"3":0,"4":2,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"defineSection","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":47}}},"2":{"name":"defineMapSection","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":38}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":12},"end":{"line":23,"column":41}}},"4":{"name":"defineCompositeSection","line":32,"loc":{"start":{"line":32,"column":0},"end":{"line":32,"column":44}}},"5":{"name":"(anonymous_5)","line":36,"loc":{"start":{"line":36,"column":12},"end":{"line":36,"column":36}}},"6":{"name":"(anonymous_6)","line":45,"loc":{"start":{"line":45,"column":12},"end":{"line":45,"column":41}}},"7":{"name":"(anonymous_7)","line":60,"loc":{"start":{"line":60,"column":13},"end":{"line":60,"column":25}}},"8":{"name":"(anonymous_8)","line":63,"loc":{"start":{"line":63,"column":10},"end":{"line":63,"column":39}}},"9":{"name":"(anonymous_9)","line":73,"loc":{"start":{"line":73,"column":17},"end":{"line":73,"column":29}}},"10":{"name":"(anonymous_10)","line":76,"loc":{"start":{"line":76,"column":10},"end":{"line":76,"column":39}}},"11":{"name":"(anonymous_11)","line":88,"loc":{"start":{"line":88,"column":10},"end":{"line":88,"column":39}}},"12":{"name":"(anonymous_12)","line":132,"loc":{"start":{"line":132,"column":31},"end":{"line":132,"column":48}}},"13":{"name":"(anonymous_13)","line":157,"loc":{"start":{"line":157,"column":31},"end":{"line":157,"column":57}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":8,"column":32}},"2":{"start":{"line":10,"column":0},"end":{"line":11,"column":27}},"3":{"start":{"line":13,"column":0},"end":{"line":16,"column":1}},"4":{"start":{"line":14,"column":2},"end":{"line":14,"column":52}},"5":{"start":{"line":15,"column":2},"end":{"line":15,"column":52}},"6":{"start":{"line":18,"column":0},"end":{"line":30,"column":1}},"7":{"start":{"line":19,"column":2},"end":{"line":19,"column":87}},"8":{"start":{"line":20,"column":2},"end":{"line":20,"column":46}},"9":{"start":{"line":21,"column":2},"end":{"line":26,"column":4}},"10":{"start":{"line":24,"column":6},"end":{"line":24,"column":42}},"11":{"start":{"line":28,"column":2},"end":{"line":28,"column":47}},"12":{"start":{"line":29,"column":2},"end":{"line":29,"column":50}},"13":{"start":{"line":32,"column":0},"end":{"line":58,"column":1}},"14":{"start":{"line":33,"column":2},"end":{"line":33,"column":88}},"15":{"start":{"line":34,"column":2},"end":{"line":54,"column":4}},"16":{"start":{"line":37,"column":6},"end":{"line":37,"column":55}},"17":{"start":{"line":38,"column":6},"end":{"line":41,"column":7}},"18":{"start":{"line":39,"column":8},"end":{"line":39,"column":41}},"19":{"start":{"line":40,"column":8},"end":{"line":40,"column":56}},"20":{"start":{"line":43,"column":6},"end":{"line":43,"column":20}},"21":{"start":{"line":46,"column":6},"end":{"line":46,"column":53}},"22":{"start":{"line":47,"column":6},"end":{"line":50,"column":7}},"23":{"start":{"line":48,"column":8},"end":{"line":48,"column":41}},"24":{"start":{"line":49,"column":8},"end":{"line":49,"column":46}},"25":{"start":{"line":52,"column":6},"end":{"line":52,"column":38}},"26":{"start":{"line":56,"column":2},"end":{"line":56,"column":47}},"27":{"start":{"line":57,"column":2},"end":{"line":57,"column":57}},"28":{"start":{"line":60,"column":0},"end":{"line":60,"column":57}},"29":{"start":{"line":60,"column":27},"end":{"line":60,"column":54}},"30":{"start":{"line":61,"column":0},"end":{"line":71,"column":3}},"31":{"start":{"line":64,"column":4},"end":{"line":67,"column":5}},"32":{"start":{"line":64,"column":41},"end":{"line":64,"column":59}},"33":{"start":{"line":65,"column":9},"end":{"line":67,"column":5}},"34":{"start":{"line":66,"column":6},"end":{"line":66,"column":111}},"35":{"start":{"line":69,"column":4},"end":{"line":69,"column":39}},"36":{"start":{"line":73,"column":0},"end":{"line":73,"column":58}},"37":{"start":{"line":73,"column":31},"end":{"line":73,"column":55}},"38":{"start":{"line":74,"column":0},"end":{"line":84,"column":3}},"39":{"start":{"line":77,"column":4},"end":{"line":80,"column":5}},"40":{"start":{"line":77,"column":41},"end":{"line":77,"column":59}},"41":{"start":{"line":78,"column":9},"end":{"line":80,"column":5}},"42":{"start":{"line":79,"column":6},"end":{"line":79,"column":127}},"43":{"start":{"line":82,"column":4},"end":{"line":82,"column":39}},"44":{"start":{"line":86,"column":0},"end":{"line":95,"column":3}},"45":{"start":{"line":89,"column":4},"end":{"line":91,"column":5}},"46":{"start":{"line":90,"column":6},"end":{"line":90,"column":108}},"47":{"start":{"line":93,"column":4},"end":{"line":93,"column":35}},"48":{"start":{"line":97,"column":0},"end":{"line":106,"column":3}},"49":{"start":{"line":108,"column":0},"end":{"line":125,"column":3}},"50":{"start":{"line":127,"column":0},"end":{"line":127,"column":81}},"51":{"start":{"line":128,"column":0},"end":{"line":128,"column":80}},"52":{"start":{"line":129,"column":0},"end":{"line":129,"column":80}},"53":{"start":{"line":130,"column":0},"end":{"line":130,"column":65}},"54":{"start":{"line":132,"column":0},"end":{"line":155,"column":2}},"55":{"start":{"line":133,"column":2},"end":{"line":133,"column":19}},"56":{"start":{"line":134,"column":2},"end":{"line":134,"column":17}},"57":{"start":{"line":135,"column":2},"end":{"line":150,"column":3}},"58":{"start":{"line":136,"column":4},"end":{"line":136,"column":47}},"59":{"start":{"line":137,"column":4},"end":{"line":139,"column":5}},"60":{"start":{"line":138,"column":6},"end":{"line":138,"column":130}},"61":{"start":{"line":141,"column":4},"end":{"line":141,"column":31}},"62":{"start":{"line":142,"column":4},"end":{"line":144,"column":5}},"63":{"start":{"line":143,"column":6},"end":{"line":143,"column":77}},"64":{"start":{"line":146,"column":4},"end":{"line":146,"column":70}},"65":{"start":{"line":147,"column":4},"end":{"line":147,"column":25}},"66":{"start":{"line":149,"column":4},"end":{"line":149,"column":49}},"67":{"start":{"line":152,"column":2},"end":{"line":153,"column":35}},"68":{"start":{"line":153,"column":4},"end":{"line":153,"column":35}},"69":{"start":{"line":154,"column":2},"end":{"line":154,"column":17}},"70":{"start":{"line":157,"column":0},"end":{"line":195,"column":2}},"71":{"start":{"line":158,"column":2},"end":{"line":158,"column":66}},"72":{"start":{"line":159,"column":2},"end":{"line":172,"column":3}},"73":{"start":{"line":160,"column":4},"end":{"line":160,"column":70}},"74":{"start":{"line":161,"column":4},"end":{"line":171,"column":5}},"75":{"start":{"line":162,"column":6},"end":{"line":162,"column":38}},"76":{"start":{"line":163,"column":6},"end":{"line":165,"column":7}},"77":{"start":{"line":164,"column":8},"end":{"line":164,"column":45}},"78":{"start":{"line":167,"column":6},"end":{"line":168,"column":61}},"79":{"start":{"line":169,"column":6},"end":{"line":169,"column":70}},"80":{"start":{"line":170,"column":6},"end":{"line":170,"column":38}},"81":{"start":{"line":174,"column":2},"end":{"line":192,"column":3}},"82":{"start":{"line":178,"column":4},"end":{"line":191,"column":5}},"83":{"start":{"line":179,"column":6},"end":{"line":179,"column":47}},"84":{"start":{"line":180,"column":6},"end":{"line":183,"column":7}},"85":{"start":{"line":181,"column":8},"end":{"line":182,"column":69}},"86":{"start":{"line":184,"column":6},"end":{"line":184,"column":41}},"87":{"start":{"line":185,"column":11},"end":{"line":191,"column":5}},"88":{"start":{"line":186,"column":6},"end":{"line":186,"column":66}},"89":{"start":{"line":187,"column":11},"end":{"line":191,"column":5}},"90":{"start":{"line":188,"column":6},"end":{"line":188,"column":66}},"91":{"start":{"line":190,"column":6},"end":{"line":190,"column":66}},"92":{"start":{"line":194,"column":2},"end":{"line":194,"column":16}}},"branchMap":{"1":{"line":22,"type":"cond-expr","locations":[{"start":{"line":22,"column":63},"end":{"line":22,"column":80}},{"start":{"line":22,"column":83},"end":{"line":22,"column":88}}]},"2":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":4},"end":{"line":64,"column":4}},{"start":{"line":64,"column":4},"end":{"line":64,"column":4}}]},"3":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":9},"end":{"line":65,"column":9}},{"start":{"line":65,"column":9},"end":{"line":65,"column":9}}]},"4":{"line":65,"type":"binary-expr","locations":[{"start":{"line":65,"column":13},"end":{"line":65,"column":41}},{"start":{"line":65,"column":45},"end":{"line":65,"column":72}}]},"5":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":4},"end":{"line":77,"column":4}},{"start":{"line":77,"column":4},"end":{"line":77,"column":4}}]},"6":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":9},"end":{"line":78,"column":9}},{"start":{"line":78,"column":9},"end":{"line":78,"column":9}}]},"7":{"line":78,"type":"binary-expr","locations":[{"start":{"line":78,"column":13},"end":{"line":78,"column":41}},{"start":{"line":78,"column":45},"end":{"line":78,"column":76}}]},"8":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":4},"end":{"line":89,"column":4}},{"start":{"line":89,"column":4},"end":{"line":89,"column":4}}]},"9":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":8},"end":{"line":89,"column":20}},{"start":{"line":89,"column":24},"end":{"line":89,"column":51}}]},"10":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":4},"end":{"line":137,"column":4}},{"start":{"line":137,"column":4},"end":{"line":137,"column":4}}]},"11":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":4},"end":{"line":142,"column":4}},{"start":{"line":142,"column":4},"end":{"line":142,"column":4}}]},"12":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":2},"end":{"line":152,"column":2}},{"start":{"line":152,"column":2},"end":{"line":152,"column":2}}]},"13":{"line":152,"type":"binary-expr","locations":[{"start":{"line":152,"column":6},"end":{"line":152,"column":33}},{"start":{"line":152,"column":37},"end":{"line":152,"column":62}}]},"14":{"line":161,"type":"if","locations":[{"start":{"line":161,"column":4},"end":{"line":161,"column":4}},{"start":{"line":161,"column":4},"end":{"line":161,"column":4}}]},"15":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":6},"end":{"line":163,"column":6}},{"start":{"line":163,"column":6},"end":{"line":163,"column":6}}]},"16":{"line":163,"type":"binary-expr","locations":[{"start":{"line":163,"column":10},"end":{"line":163,"column":27}},{"start":{"line":163,"column":31},"end":{"line":163,"column":70}}]},"17":{"line":167,"type":"cond-expr","locations":[{"start":{"line":168,"column":8},"end":{"line":168,"column":50}},{"start":{"line":168,"column":53},"end":{"line":168,"column":60}}]},"18":{"line":174,"type":"if","locations":[{"start":{"line":174,"column":2},"end":{"line":174,"column":2}},{"start":{"line":174,"column":2},"end":{"line":174,"column":2}}]},"19":{"line":174,"type":"binary-expr","locations":[{"start":{"line":174,"column":6},"end":{"line":174,"column":20}},{"start":{"line":174,"column":24},"end":{"line":174,"column":48}}]},"20":{"line":178,"type":"if","locations":[{"start":{"line":178,"column":4},"end":{"line":178,"column":4}},{"start":{"line":178,"column":4},"end":{"line":178,"column":4}}]},"21":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":6},"end":{"line":180,"column":6}},{"start":{"line":180,"column":6},"end":{"line":180,"column":6}}]},"22":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":11},"end":{"line":185,"column":11}},{"start":{"line":185,"column":11},"end":{"line":185,"column":11}}]},"23":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":11},"end":{"line":187,"column":11}},{"start":{"line":187,"column":11},"end":{"line":187,"column":11}}]}},"code":["'use strict';","var DescribedType = require('./described_type'),","    ForcedType = require('./forced_type'),","","    u = require('../utilities'),","    wrapField = require('./composite_type').wrapField,","    errors = require('../errors'),","    codec = require('../codec');","","var sectionByDescriptor = {},","    sectionByProperty = {};","","function defineSection(descriptor, definition) {","  sectionByDescriptor[descriptor.code] = definition;","  sectionByDescriptor[descriptor.name] = definition;","}","","function defineMapSection(definition) {","  var descriptor = { name: 'amqp:' + definition.name + ':map', code: definition.code };","  var property = u.camelCase(definition.name);","  var sectionDefinition = {","    descriptor: definition.code, source: !!definition.source ? definition.source : 'map',","    decode: function(message, described) {","      message[property] = described.value;","    }","  };","","  defineSection(descriptor, sectionDefinition);","  sectionByProperty[property] = sectionDefinition;","}","","function defineCompositeSection(definition) {","  var descriptor = { name: 'amqp:' + definition.name + ':list', code: definition.code };","  var sectionDefinition = {","    descriptor: definition.code,","    encode: function(value, buffer) {","      var _len = definition.fields.length, result = [];","      for (var i = 0; i < _len; ++i) {","        var field = definition.fields[i];","        result[i] = wrapField(field, value[field.name]);","      }","","      return result;","    },","    decode: function(message, described) {","      var _len = definition.fields.length, data = {};","      for (var i = 0; i < _len; ++i) {","        var field = definition.fields[i];","        data[field.name] = described.value[i];","      }","","      message[definition.name] = data;","    }","  };","","  defineSection(descriptor, sectionDefinition);","  sectionByProperty[definition.name] = sectionDefinition;","}","","var isData = function(x) { return x instanceof Buffer; };","defineSection({ code: 0x75, name: 'amqp:data:binary' }, {","  encode: null,","  decode: function(message, described) {","    if (!message.hasOwnProperty('body')) message.body = [];","    else if (!Array.isArray(message.body) || !message.body.every(isData)) {","      throw new errors.MalformedPayloadError('Attempt to put both Data and non-Data payloads in message body');","    }","","    message.body.push(described.value);","  }","});","","var isSequence = function(x) { return Array.isArray(x); };","defineSection({ code: 0x76, name: 'amqp:amqp-sequence:list' }, {","  encode: null,","  decode: function(message, described) {","    if (!message.hasOwnProperty('body')) message.body = [];","    else if (!Array.isArray(message.body) || !message.body.every(isSequence)) {","      throw new errors.MalformedPayloadError('Attempt to put both AMQPSequence and non-AMQPSequence payloads in message body');","    }","","    message.body.push(described.value);","  }","});","","defineSection({ code: 0x77, name: 'amqp:value:*' }, {","  encode: null,","  decode: function(message, described) {","    if (message.body && Array.isArray(message.body)) {","      throw new errors.MalformedPayloadError('Attempt to provide more than one AMQPValue for message body');","    }","","    message.body = described.value;","  }","});","","defineCompositeSection({","  name: 'header', code: 0x70,","  fields: [","    { name: 'durable', type: 'boolean', default: false },","    { name: 'priority', type: 'ubyte', default: 4 },","    { name: 'ttl', type: 'milliseconds' },","    { name: 'firstAcquirer', type: 'boolean', default: false },","    { name: 'deliveryCount', type: 'uint', default: 0 }","  ]","});","","defineCompositeSection({","  name: 'properties', code: 0x73,","  fields: [","    { name: 'messageId', type: '*' },         // @spec type: `*` requires: `message-id` => various values","    { name: 'userId', type: 'binary' },","    { name: 'to', type: 'address' },","    { name: 'subject', type: 'string' },","    { name: 'replyTo', type: 'address' },","    { name: 'correlationId', type: '*' },     // @spec type: `*` requires: `message-id` => various values","    { name: 'contentType', type: 'symbol' },","    { name: 'contentEncoding', type: 'symbol' },","    { name: 'absoluteExpiryTime', type: 'timestamp' },","    { name: 'creationTime', type: 'timestamp' },","    { name: 'groupId', type: 'string' },","    { name: 'groupSequence', type: 'sequence-no' },","    { name: 'replyToGroupId', type: 'string' }","  ]","});","","defineMapSection({ name: 'delivery-annotations', code: 0x71, source: 'fields' });","defineMapSection({ name: 'message-annotations', code: 0x72, source: 'fields' });","defineMapSection({ name: 'application-properties', code: 0x74, source: 'map' });","defineMapSection({ name: 'footer', code: 0x78 , source: 'map' });","","module.exports.decodeMessage = function(buffer) {","  var message = {};","  var curIdx = 0;","  while (curIdx < buffer.length) {","    var decoded = codec.decode(buffer, curIdx);","    if (!decoded) {","      throw new errors.MalformedPayloadError('Unable to decode bytes from message body: ' + buffer.slice(curIdx).toString('hex'));","    }","","    var described = decoded[0];","    if (!sectionByDescriptor.hasOwnProperty(described.descriptor)) {","      throw new errors.MalformedPayloadError('Unknown section: ', described);","    }","","    var sectionDefinition = sectionByDescriptor[described.descriptor];","    curIdx += decoded[1];","","    sectionDefinition.decode(message, described);","  }","","  if (Array.isArray(message.body) && message.body.length === 1)","    message.body = message.body[0];","  return message;","};","","module.exports.encodeMessage = function(message, buffer) {","  var _keys = Object.keys(sectionByProperty), _len = _keys.length;","  for (var i = 0; i < _len; ++i) {","    var property = _keys[i], definition = sectionByProperty[property];","    if (message.hasOwnProperty(property)) {","      var section = message[property];","      if (definition.encode && typeof definition.encode === 'function') {","        section = definition.encode(section);","      }","","      var value = definition.hasOwnProperty('source') ?","        new ForcedType(definition.source, section) : section;","      var described = new DescribedType(definition.descriptor, value);","      codec.encode(described, buffer);","    }","  }","","  if (!!message.body || u.isNumber(message.body)) {","    // @todo:","    //  Array[Buffer] => multiple Data segments","    //  Array[Array] => multiple AMQPSequence","    if (message.body instanceof DescribedType) {","      var descriptor = message.body.descriptor;","      if (!u.includes([0x75, 0x76, 0x77], descriptor)) {","        throw new errors.MalformedPayloadError(","            'Invalid described type for message body: ', descriptor);","      }","      codec.encode(message.body, buffer);","    } else if (message.body instanceof Buffer) {","      codec.encode(new DescribedType(0x75, message.body), buffer);  // Data","    } else if (Array.isArray(message.body)) {","      codec.encode(new DescribedType(0x76, message.body), buffer);  // AMQPSequence","    } else {","      codec.encode(new DescribedType(0x77, message.body), buffer);  // AMQPValue","    }","  }","","  return buffer;","};",""],"l":{"2":1,"10":1,"13":1,"14":9,"15":9,"18":1,"19":4,"20":4,"21":4,"24":0,"28":4,"29":4,"32":1,"33":2,"34":2,"37":0,"38":0,"39":0,"40":0,"43":0,"46":0,"47":0,"48":0,"49":0,"52":0,"56":2,"57":2,"60":1,"61":1,"64":0,"65":0,"66":0,"69":0,"73":1,"74":1,"77":0,"78":0,"79":0,"82":0,"86":1,"89":0,"90":0,"93":0,"97":1,"108":1,"127":1,"128":1,"129":1,"130":1,"132":1,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"141":0,"142":0,"143":0,"146":0,"147":0,"149":0,"152":0,"153":0,"154":0,"157":1,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"167":0,"169":0,"170":0,"174":0,"178":0,"179":0,"180":0,"181":0,"184":0,"185":0,"186":0,"187":0,"188":0,"190":0,"194":0}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types/delivery_state.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/types/delivery_state.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":66}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"3":{"start":{"line":5,"column":0},"end":{"line":11,"column":3}},"4":{"start":{"line":13,"column":0},"end":{"line":15,"column":3}},"5":{"start":{"line":17,"column":0},"end":{"line":22,"column":3}},"6":{"start":{"line":24,"column":0},"end":{"line":26,"column":3}},"7":{"start":{"line":28,"column":0},"end":{"line":35,"column":3}}},"branchMap":{},"code":["'use strict';","var defineComposite = require('./composite_type').defineComposite;","var DeliveryState = module.exports = {};","","DeliveryState.Received = defineComposite({","  name: 'received', code: 0x23,","  fields: [","    { name: 'sectionNumber', type: 'uint', mandatory: true },","    { name: 'sectionOffset', type: 'ulong', mandatory: true }","  ]","});","","DeliveryState.Accepted = defineComposite({","  name: 'accepted', code: 0x24, fields: []","});","","DeliveryState.Rejected = defineComposite({","  name: 'rejected', code: 0x25,","  fields: [","    { name: 'error', type: 'error' }","  ]","});","","DeliveryState.Released = defineComposite({","  name: 'released', code: 0x26, fields: []","});","","DeliveryState.Modified = defineComposite({","  name: 'modified', code: 0x27,","  fields: [","    { name: 'deliveryFailed', type: 'boolean' },","    { name: 'undeliverableHere', type: 'boolean' },","    { name: 'messageAnnotations', type: 'fields' }","  ]","});",""],"l":{"2":1,"3":1,"5":1,"13":1,"17":1,"24":1,"28":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/receiver_link.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/receiver_link.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":1,"21":0,"22":1,"23":0,"24":1,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":1,"40":0,"41":0,"42":1,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":1,"69":0,"70":1},"b":{"1":[0,0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"ReceiverLink","line":20,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":51}}},"2":{"name":"(anonymous_2)","line":53,"loc":{"start":{"line":53,"column":36},"end":{"line":53,"column":67}}},"3":{"name":"(anonymous_3)","line":72,"loc":{"start":{"line":72,"column":32},"end":{"line":72,"column":50}}},"4":{"name":"(anonymous_4)","line":83,"loc":{"start":{"line":83,"column":32},"end":{"line":83,"column":57}}},"5":{"name":"(anonymous_5)","line":93,"loc":{"start":{"line":93,"column":33},"end":{"line":93,"column":51}}},"6":{"name":"(anonymous_6)","line":107,"loc":{"start":{"line":107,"column":32},"end":{"line":107,"column":59}}},"7":{"name":"(anonymous_7)","line":118,"loc":{"start":{"line":118,"column":32},"end":{"line":118,"column":57}}},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":39},"end":{"line":133,"column":59}}},"9":{"name":"(anonymous_9)","line":140,"loc":{"start":{"line":140,"column":38},"end":{"line":140,"column":56}}},"10":{"name":"(anonymous_10)","line":146,"loc":{"start":{"line":146,"column":42},"end":{"line":146,"column":60}}},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":42},"end":{"line":158,"column":66}}},"12":{"name":"(anonymous_12)","line":206,"loc":{"start":{"line":206,"column":46},"end":{"line":206,"column":64}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":13,"column":29}},"2":{"start":{"line":20,"column":0},"end":{"line":26,"column":1}},"3":{"start":{"line":21,"column":2},"end":{"line":21,"column":62}},"4":{"start":{"line":23,"column":2},"end":{"line":23,"column":134}},"5":{"start":{"line":24,"column":2},"end":{"line":24,"column":36}},"6":{"start":{"line":25,"column":2},"end":{"line":25,"column":66}},"7":{"start":{"line":25,"column":26},"end":{"line":25,"column":66}},"8":{"start":{"line":27,"column":0},"end":{"line":27,"column":34}},"9":{"start":{"line":36,"column":0},"end":{"line":36,"column":41}},"10":{"start":{"line":43,"column":0},"end":{"line":43,"column":43}},"11":{"start":{"line":53,"column":0},"end":{"line":64,"column":2}},"12":{"start":{"line":54,"column":2},"end":{"line":54,"column":81}},"13":{"start":{"line":54,"column":41},"end":{"line":54,"column":81}},"14":{"start":{"line":57,"column":2},"end":{"line":57,"column":29}},"15":{"start":{"line":58,"column":2},"end":{"line":58,"column":56}},"16":{"start":{"line":60,"column":2},"end":{"line":60,"column":134}},"17":{"start":{"line":63,"column":2},"end":{"line":63,"column":25}},"18":{"start":{"line":72,"column":0},"end":{"line":74,"column":2}},"19":{"start":{"line":73,"column":2},"end":{"line":73,"column":53}},"20":{"start":{"line":83,"column":0},"end":{"line":85,"column":2}},"21":{"start":{"line":84,"column":2},"end":{"line":84,"column":69}},"22":{"start":{"line":93,"column":0},"end":{"line":95,"column":2}},"23":{"start":{"line":94,"column":2},"end":{"line":94,"column":53}},"24":{"start":{"line":107,"column":0},"end":{"line":109,"column":2}},"25":{"start":{"line":108,"column":2},"end":{"line":108,"column":60}},"26":{"start":{"line":118,"column":0},"end":{"line":130,"column":2}},"27":{"start":{"line":119,"column":2},"end":{"line":119,"column":42}},"28":{"start":{"line":120,"column":2},"end":{"line":122,"column":3}},"29":{"start":{"line":121,"column":4},"end":{"line":121,"column":72}},"30":{"start":{"line":124,"column":2},"end":{"line":127,"column":6}},"31":{"start":{"line":129,"column":2},"end":{"line":129,"column":22}},"32":{"start":{"line":133,"column":0},"end":{"line":138,"column":2}},"33":{"start":{"line":134,"column":2},"end":{"line":134,"column":31}},"34":{"start":{"line":135,"column":2},"end":{"line":135,"column":77}},"35":{"start":{"line":137,"column":2},"end":{"line":137,"column":45}},"36":{"start":{"line":140,"column":0},"end":{"line":144,"column":2}},"37":{"start":{"line":141,"column":2},"end":{"line":143,"column":3}},"38":{"start":{"line":142,"column":4},"end":{"line":142,"column":38}},"39":{"start":{"line":146,"column":0},"end":{"line":156,"column":2}},"40":{"start":{"line":147,"column":2},"end":{"line":151,"column":5}},"41":{"start":{"line":153,"column":2},"end":{"line":155,"column":4}},"42":{"start":{"line":158,"column":0},"end":{"line":204,"column":2}},"43":{"start":{"line":159,"column":2},"end":{"line":163,"column":3}},"44":{"start":{"line":160,"column":4},"end":{"line":160,"column":38}},"45":{"start":{"line":161,"column":4},"end":{"line":161,"column":39}},"46":{"start":{"line":162,"column":4},"end":{"line":162,"column":11}},"47":{"start":{"line":165,"column":2},"end":{"line":176,"column":3}},"48":{"start":{"line":166,"column":4},"end":{"line":173,"column":5}},"49":{"start":{"line":168,"column":6},"end":{"line":168,"column":71}},"50":{"start":{"line":170,"column":6},"end":{"line":170,"column":49}},"51":{"start":{"line":172,"column":6},"end":{"line":172,"column":94}},"52":{"start":{"line":175,"column":4},"end":{"line":175,"column":11}},"53":{"start":{"line":178,"column":2},"end":{"line":178,"column":31}},"54":{"start":{"line":179,"column":2},"end":{"line":183,"column":3}},"55":{"start":{"line":180,"column":4},"end":{"line":180,"column":69}},"56":{"start":{"line":181,"column":4},"end":{"line":181,"column":42}},"57":{"start":{"line":182,"column":4},"end":{"line":182,"column":38}},"58":{"start":{"line":185,"column":2},"end":{"line":185,"column":50}},"59":{"start":{"line":187,"column":2},"end":{"line":187,"column":80}},"60":{"start":{"line":189,"column":2},"end":{"line":189,"column":20}},"61":{"start":{"line":190,"column":2},"end":{"line":190,"column":23}},"62":{"start":{"line":191,"column":2},"end":{"line":191,"column":173}},"63":{"start":{"line":195,"column":2},"end":{"line":197,"column":3}},"64":{"start":{"line":196,"column":4},"end":{"line":196,"column":25}},"65":{"start":{"line":200,"column":2},"end":{"line":200,"column":88}},"66":{"start":{"line":201,"column":2},"end":{"line":201,"column":62}},"67":{"start":{"line":203,"column":2},"end":{"line":203,"column":61}},"68":{"start":{"line":206,"column":0},"end":{"line":208,"column":2}},"69":{"start":{"line":207,"column":2},"end":{"line":207,"column":71}},"70":{"start":{"line":210,"column":0},"end":{"line":210,"column":30}}},"branchMap":{"1":{"line":23,"type":"binary-expr","locations":[{"start":{"line":23,"column":23},"end":{"line":23,"column":33}},{"start":{"line":23,"column":37},"end":{"line":23,"column":54}},{"start":{"line":23,"column":58},"end":{"line":23,"column":133}}]},"2":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":25,"column":2}},{"start":{"line":25,"column":2},"end":{"line":25,"column":2}}]},"3":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":2},"end":{"line":54,"column":2}},{"start":{"line":54,"column":2},"end":{"line":54,"column":2}}]},"4":{"line":54,"type":"binary-expr","locations":[{"start":{"line":54,"column":6},"end":{"line":54,"column":17}},{"start":{"line":54,"column":21},"end":{"line":54,"column":39}}]},"5":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":2},"end":{"line":120,"column":2}},{"start":{"line":120,"column":2},"end":{"line":120,"column":2}}]},"6":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":2},"end":{"line":141,"column":2}},{"start":{"line":141,"column":2},"end":{"line":141,"column":2}}]},"7":{"line":141,"type":"binary-expr","locations":[{"start":{"line":141,"column":6},"end":{"line":141,"column":24}},{"start":{"line":141,"column":28},"end":{"line":141,"column":68}}]},"8":{"line":159,"type":"if","locations":[{"start":{"line":159,"column":2},"end":{"line":159,"column":2}},{"start":{"line":159,"column":2},"end":{"line":159,"column":2}}]},"9":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":2},"end":{"line":165,"column":2}},{"start":{"line":165,"column":2},"end":{"line":165,"column":2}}]},"10":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":4},"end":{"line":166,"column":4}},{"start":{"line":166,"column":4},"end":{"line":166,"column":4}}]},"11":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":2},"end":{"line":179,"column":2}},{"start":{"line":179,"column":2},"end":{"line":179,"column":2}}]},"12":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":2},"end":{"line":195,"column":2}},{"start":{"line":195,"column":2},"end":{"line":195,"column":2}}]},"13":{"line":200,"type":"cond-expr","locations":[{"start":{"line":200,"column":39},"end":{"line":200,"column":72}},{"start":{"line":200,"column":75},"end":{"line":200,"column":87}}]}},"code":["'use strict';","","var util = require('util'),","    BufferList = require('bl'),","    debug = require('debug')('amqp10:link:receiver'),","","    constants = require('./constants'),","    u = require('./utilities'),","","    m = require('./types/message'),","    frames = require('./frames'),","    DeliveryState = require('./types/delivery_state'),","    Link = require('./link');","","/**"," * @class"," * @extends Link"," * @fires ReceiverLink#message"," */","function ReceiverLink(session, handle, linkPolicy) {","  ReceiverLink.super_.call(this, session, handle, linkPolicy);","  // If we're not auto-settling, we should track settles to allow refresh policies to decide when to re-up.","  this._trackSettles = linkPolicy && linkPolicy.attach && linkPolicy.attach.rcvSettleMode !== constants.receiverSettleMode.autoSettle;","  this._currentTransferFrame = null;","  if (this._trackSettles) this.settledMessagesSinceLastCredit = 0;","}","util.inherits(ReceiverLink, Link);","","/**"," * Message received event.  Message payload given as argument."," *"," * @event ReceiverLink#message"," * @param {object} message the received message"," * @param {object} [transferFrame] the transfer frame the message was extracted from"," */","ReceiverLink.MessageReceived = 'message';","","/**"," * Credit change event"," *"," * @event ReceiverLink#creditChange"," */","ReceiverLink.CreditChange = 'creditChange';","","// public API","/**"," * Add credits to this link"," *"," * @inner @memberof ReceiverLink"," * @param {number} credits number of credits to add"," * @param {object} [flowOptions] additional options to include in flow frame"," */","ReceiverLink.prototype.addCredits = function(credits, flowOptions) {","  if (credits > 0 && this._trackSettles) this.settledMessagesSinceLastCredit = 0;","","  // increment credits","  this.linkCredit += credits;","  this.session._sessionParams.incomingWindow += credits;","","  debug('addCredits ('+this.name+'): New values: link('+this.linkCredit+'), session('+this.session._sessionParams.incomingWindow+')');","","  // send flow frame","  this.flow(flowOptions);","};","","/**"," * Settle a message (or array of messages) with an Accepted delivery outcome"," *"," * @inner @memberof ReceiverLink"," * @param {string|array} message message, or array of messages to settle"," */","ReceiverLink.prototype.accept = function(message) {","  this.settle(message, new DeliveryState.Accepted());","};","","/**"," * Settle a message (or array of messages) with a Rejected delivery outcome"," *"," * @inner @memberof ReceiverLink"," * @param {string|array} message message, or array of messages to settle"," * @param {string} [error] error that caused the message to be rejected"," */","ReceiverLink.prototype.reject = function(message, error) {","  this.settle(message, new DeliveryState.Rejected({ error: error }));","};","","/**"," * Settle a message (or array of messages) with a Released delivery outcome"," *"," * @inner @memberof ReceiverLink"," * @param {string|array} message message, or array of messages to settle"," */","ReceiverLink.prototype.release = function(message) {","  this.settle(message, new DeliveryState.Released());","};","","/**"," * Settle a message (or array of messages) with a Modified delivery outcome"," *"," * @inner @memberof ReceiverLink"," * @param {string|array} message message, or array of messages to settle"," * @param {object} [options] options used for a Modified outcome"," * @param {boolean} [options.deliveryFailed] count the transfer as an unsuccessful delivery attempt"," * @param {boolean} [options.undeliverableHere] prevent redelivery"," * @param {object} [options.messageAnnotations] message attributes to combine with existing annotations"," */","ReceiverLink.prototype.modify = function(message, options) {","  this.settle(message, new DeliveryState.Modified(options));","};","","/**"," * Settle a message (or array of messages) with a given delivery state"," *"," * @inner @memberof ReceiverLink"," * @param {string|array} message message, or array of messages to settle"," * @param {object} [state] outcome of message delivery"," */","ReceiverLink.prototype.settle = function(message, state) {","  var range = u.dispositionRange(message);","  if (this._trackSettles) {","    this.settledMessagesSinceLastCredit += range.last - range.first + 1;","  }","","  this._sendDisposition(u.defaults(range, {","    settled: true,","    state: state","  }));","","  this._checkCredit();","};","","// private API","ReceiverLink.prototype._flowReceived = function(flowFrame) {","  this.drain = flowFrame.drain;","  this.deliveryCount = Math.min(this.deliveryCount, flowFrame.deliveryCount);","","  this.emit(ReceiverLink.CreditChange, this);","};","","ReceiverLink.prototype._checkCredit = function(options) {","  if (this.policy.credit && typeof this.policy.credit === 'function') {","    this.policy.credit(this, options);","  }","};","","ReceiverLink.prototype._sendDisposition = function(options) {","  var dispositionOptions = u.defaults(options, {","    role: constants.linkRole.receiver,","    channel: this.session.channel,","    handle: this.handle","  });","","  this.session.connection.sendFrame(","    new frames.DispositionFrame(dispositionOptions)","  );","};","","ReceiverLink.prototype._messageReceived = function(transferFrame) {","  if (transferFrame.aborted) {","    this._currentTransferFrame = null;","    debug('Message transfer aborted.');","    return;","  }","","  if (transferFrame.more) {","    if (this._currentTransferFrame) {","      // @todo: What do we do if deliveryId/deliveryTag don't match?","      this._currentTransferFrame.payload.append(transferFrame.payload);","    } else {","      this._currentTransferFrame = transferFrame;","      // Replace with BufferList for more performant appends.","      this._currentTransferFrame.payload = new BufferList(this._currentTransferFrame.payload);","    }","","    return;","  }","","  var curFrame = transferFrame;","  if (this._currentTransferFrame) {","    this._currentTransferFrame.payload.append(transferFrame.payload);","    curFrame = this._currentTransferFrame;","    this._currentTransferFrame = null;","  }","","  var message = m.decodeMessage(curFrame.payload);","  // store deliveryId for later use","  Object.defineProperty(message, '_deliveryId', { value: curFrame.deliveryId });","","  this.linkCredit--;","  this.deliveryCount++;","  debug('Rx message ' + transferFrame.deliveryId + ' on ' + this.name + ', ' + this.linkCredit + ' credit, ' + this.session._sessionParams.incomingWindow + ' window left.');","  // @todo: Bump link credit based on strategy","","  // respect settle mode in policy","  if (this.policy.attach.rcvSettleMode === constants.receiverSettleMode.autoSettle) {","    this.accept(message);","  }","","  // optionally decode message based on policy","  message.body = this.policy.decoder ? this.policy.decoder(message.body) : message.body;","  debug('received from (' + this.name + '): ' + message.body);","","  this.emit(ReceiverLink.MessageReceived, message, curFrame);","};","","ReceiverLink.prototype._dispositionReceived = function(details) {","  debug('not yet processing \"receiver\" disposition frames: ', details);","};","","module.exports = ReceiverLink;",""],"l":{"3":1,"20":1,"21":0,"23":0,"24":0,"25":0,"27":1,"36":1,"43":1,"53":1,"54":0,"57":0,"58":0,"60":0,"63":0,"72":1,"73":0,"83":1,"84":0,"93":1,"94":0,"107":1,"108":0,"118":1,"119":0,"120":0,"121":0,"124":0,"129":0,"133":1,"134":0,"135":0,"137":0,"140":1,"141":0,"142":0,"146":1,"147":0,"153":0,"158":1,"159":0,"160":0,"161":0,"162":0,"165":0,"166":0,"168":0,"170":0,"172":0,"175":0,"178":0,"179":0,"180":0,"181":0,"182":0,"185":0,"187":0,"189":0,"190":0,"191":0,"195":0,"196":0,"200":0,"201":0,"203":0,"206":1,"207":0,"210":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/streams/receiver_stream.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/streams/receiver_stream.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":0,"15":1,"16":0,"17":0,"18":1,"19":0,"20":1,"21":0,"22":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"ReceiverStream","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":39}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":48}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":43},"end":{"line":24,"column":61}}},"4":{"name":"(anonymous_4)","line":30,"loc":{"start":{"line":30,"column":43},"end":{"line":30,"column":54}}},"5":{"name":"(anonymous_5)","line":34,"loc":{"start":{"line":34,"column":41},"end":{"line":34,"column":59}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":3,"column":27}},"2":{"start":{"line":5,"column":0},"end":{"line":15,"column":1}},"3":{"start":{"line":6,"column":2},"end":{"line":6,"column":54}},"4":{"start":{"line":7,"column":2},"end":{"line":7,"column":74}},"5":{"start":{"line":8,"column":2},"end":{"line":8,"column":20}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":27}},"7":{"start":{"line":11,"column":2},"end":{"line":11,"column":54}},"8":{"start":{"line":12,"column":2},"end":{"line":12,"column":55}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":60}},"10":{"start":{"line":14,"column":2},"end":{"line":14,"column":57}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":40}},"12":{"start":{"line":18,"column":0},"end":{"line":22,"column":2}},"13":{"start":{"line":19,"column":2},"end":{"line":21,"column":3}},"14":{"start":{"line":20,"column":4},"end":{"line":20,"column":39}},"15":{"start":{"line":24,"column":0},"end":{"line":28,"column":2}},"16":{"start":{"line":25,"column":2},"end":{"line":27,"column":3}},"17":{"start":{"line":26,"column":4},"end":{"line":26,"column":46}},"18":{"start":{"line":30,"column":0},"end":{"line":32,"column":2}},"19":{"start":{"line":31,"column":2},"end":{"line":31,"column":18}},"20":{"start":{"line":34,"column":0},"end":{"line":36,"column":2}},"21":{"start":{"line":35,"column":2},"end":{"line":35,"column":27}},"22":{"start":{"line":38,"column":0},"end":{"line":38,"column":32}}},"branchMap":{"1":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":22},"end":{"line":6,"column":47}},{"start":{"line":6,"column":51},"end":{"line":6,"column":53}}]},"2":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":2},"end":{"line":19,"column":2}},{"start":{"line":19,"column":2},"end":{"line":19,"column":2}}]},"3":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":6},"end":{"line":19,"column":32}},{"start":{"line":19,"column":36},"end":{"line":19,"column":53}}]},"4":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":25,"column":2}},{"start":{"line":25,"column":2},"end":{"line":25,"column":2}}]}},"code":["'use strict';","var Readable = require('stream').Readable,","    util = require('util');","","function ReceiverStream(link, options) {","  var highWaterMark = link.policy.creditQuantum || 16;","  Readable.call(this, { objectMode: true, highWaterMark: highWaterMark });","  this._link = link;","  this._increasing = false;","","  link.on('message', this._processMessage.bind(this));","  link.on('detached', this._haltProcessing.bind(this));","  link.on('errorReceived', this._haltProcessing.bind(this));","  link.on('creditChange', this._creditChange.bind(this));","}","util.inherits(ReceiverStream, Readable);","","ReceiverStream.prototype._read = function(size) {","  if (this._link.linkCredit <= 0 && !this._increasing) {","    return this._link.addCredits(size);","  }","};","","ReceiverStream.prototype._processMessage = function(message) {","  if (!this.push(message)) {","    return this._link.flow({ linkCredit: 0 });","  }","};","","ReceiverStream.prototype._haltProcessing = function() {","  this.push(null);","};","","ReceiverStream.prototype._creditChange = function(credits) {","  this._increasing = false;","};","","module.exports = ReceiverStream;",""],"l":{"2":1,"5":1,"6":0,"7":0,"8":0,"9":0,"11":0,"12":0,"13":0,"14":0,"16":1,"18":1,"19":0,"20":0,"24":1,"25":0,"26":0,"30":1,"31":0,"34":1,"35":0,"38":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/streams/sender_stream.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/streams/sender_stream.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"SenderStream","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":37}}},"2":{"name":"(anonymous_2)","line":15,"loc":{"start":{"line":15,"column":32},"end":{"line":15,"column":68}}},"3":{"name":"(anonymous_3)","line":20,"loc":{"start":{"line":20,"column":10},"end":{"line":20,"column":21}}},"4":{"name":"(anonymous_4)","line":21,"loc":{"start":{"line":21,"column":11},"end":{"line":21,"column":25}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":4,"column":27}},"2":{"start":{"line":6,"column":0},"end":{"line":12,"column":1}},"3":{"start":{"line":7,"column":2},"end":{"line":7,"column":44}},"4":{"start":{"line":9,"column":2},"end":{"line":9,"column":26}},"5":{"start":{"line":10,"column":2},"end":{"line":10,"column":80}},"6":{"start":{"line":11,"column":2},"end":{"line":11,"column":20}},"7":{"start":{"line":13,"column":0},"end":{"line":13,"column":38}},"8":{"start":{"line":15,"column":0},"end":{"line":22,"column":2}},"9":{"start":{"line":16,"column":2},"end":{"line":16,"column":67}},"10":{"start":{"line":17,"column":2},"end":{"line":17,"column":55}},"11":{"start":{"line":17,"column":37},"end":{"line":17,"column":55}},"12":{"start":{"line":19,"column":2},"end":{"line":21,"column":45}},"13":{"start":{"line":20,"column":23},"end":{"line":20,"column":34}},"14":{"start":{"line":21,"column":27},"end":{"line":21,"column":41}},"15":{"start":{"line":24,"column":0},"end":{"line":24,"column":30}}},"branchMap":{"1":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":12},"end":{"line":9,"column":19}},{"start":{"line":9,"column":23},"end":{"line":9,"column":25}}]},"2":{"line":10,"type":"cond-expr","locations":[{"start":{"line":10,"column":54},"end":{"line":10,"column":71}},{"start":{"line":10,"column":74},"end":{"line":10,"column":79}}]},"3":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":2},"end":{"line":17,"column":2}},{"start":{"line":17,"column":2},"end":{"line":17,"column":2}}]}},"code":["'use strict';","var Promise = require('bluebird'),","    Writable = require('stream').Writable,","    util = require('util');","","function SenderStream(link, options) {","  Writable.call(this, { objectMode: true });","","  options = options || {};","  this._noReply = options.hasOwnProperty('noReply') ? !!options.noReply : false;","  this._link = link;","}","util.inherits(SenderStream, Writable);","","SenderStream.prototype._write = function(chunk, encoding, callback) {","  var promise = this._link.send(chunk, { noReply: this._noReply });","  if (!(promise instanceof Promise)) return callback();","","  return promise","    .then(function() { callback(); })","    .error(function(err) { callback(err); });","};","","module.exports = SenderStream;",""],"l":{"2":1,"6":1,"7":0,"9":0,"10":0,"11":0,"13":1,"15":1,"16":0,"17":0,"19":0,"20":0,"21":0,"24":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/adapters/translate_encoder.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/adapters/translate_encoder.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"translate","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":26}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":6,"column":36}},"2":{"start":{"line":8,"column":0},"end":{"line":12,"column":2}},"3":{"start":{"line":14,"column":0},"end":{"line":40,"column":1}},"4":{"start":{"line":15,"column":2},"end":{"line":17,"column":3}},"5":{"start":{"line":16,"column":4},"end":{"line":16,"column":17}},"6":{"start":{"line":19,"column":2},"end":{"line":19,"column":26}},"7":{"start":{"line":20,"column":2},"end":{"line":20,"column":29}},"8":{"start":{"line":21,"column":2},"end":{"line":37,"column":3}},"9":{"start":{"line":22,"column":4},"end":{"line":22,"column":43}},"10":{"start":{"line":23,"column":9},"end":{"line":37,"column":3}},"11":{"start":{"line":24,"column":4},"end":{"line":24,"column":17}},"12":{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},"13":{"start":{"line":26,"column":6},"end":{"line":26,"column":57}},"14":{"start":{"line":29,"column":4},"end":{"line":29,"column":25}},"15":{"start":{"line":30,"column":9},"end":{"line":37,"column":3}},"16":{"start":{"line":31,"column":4},"end":{"line":31,"column":29}},"17":{"start":{"line":32,"column":4},"end":{"line":32,"column":67}},"18":{"start":{"line":33,"column":9},"end":{"line":37,"column":3}},"19":{"start":{"line":34,"column":4},"end":{"line":34,"column":71}},"20":{"start":{"line":35,"column":9},"end":{"line":37,"column":3}},"21":{"start":{"line":36,"column":4},"end":{"line":36,"column":36}},"22":{"start":{"line":39,"column":2},"end":{"line":39,"column":52}},"23":{"start":{"line":42,"column":0},"end":{"line":42,"column":27}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":2},"end":{"line":15,"column":2}},{"start":{"line":15,"column":2},"end":{"line":15,"column":2}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":2},"end":{"line":21,"column":2}},{"start":{"line":21,"column":2},"end":{"line":21,"column":2}}]},"3":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":9},"end":{"line":23,"column":9}},{"start":{"line":23,"column":9},"end":{"line":23,"column":9}}]},"4":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":9},"end":{"line":30,"column":9}},{"start":{"line":30,"column":9},"end":{"line":30,"column":9}}]},"5":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":9},"end":{"line":33,"column":9}},{"start":{"line":33,"column":9},"end":{"line":33,"column":9}}]},"6":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":9},"end":{"line":35,"column":9}},{"start":{"line":35,"column":9},"end":{"line":35,"column":9}}]}},"code":["'use strict';","var Composites = require('../types/amqp_composites'),","    AMQPArray = Composites.Array,","    DescribedType = require('../types/described_type'),","    ForcedType = require('../types/forced_type'),","    Type = require('../types').Type;","","var KNOWN_TYPES = [","  'byte', 'short', 'int', 'long', 'ubyte', 'ushort', 'uint', 'ulong',","  'float', 'double', 'null', 'boolean', 'string', 'symbol', 'list',","  'map', 'array', 'uuid'","];","","function translate(input) {","  if (!Array.isArray(input)) {  // raw value","    return input;","  }","","  var typeName = input[0];","  var value = input.slice(1);","  if (typeName === 'list') {","    return Type.list(value.map(translate));","  } else if (typeName === 'map') {","    var map = {};","    for (var i = 0; i < value.length; i += 2) {","      map[translate(value[i])] = translate(value[i + 1]);","    }","","    return Type.map(map);","  } else if (typeName === 'array') {","    var arrayType = value[0];","    return new AMQPArray(value.slice(1).map(translate), arrayType);","  } else if (typeName === 'described') {","    return new DescribedType(translate(value[0]), translate(value[1]));","  } else if (KNOWN_TYPES.indexOf(typeName) !== -1) {","    return Type[typeName](value[0]);","  }","","  return new ForcedType(typeName, translate(value));","}","","module.exports = translate;",""],"l":{"2":1,"8":1,"14":1,"15":0,"16":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"39":0,"42":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/policies/event_hub_policy.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/policies/event_hub_policy.js","s":{"1":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":49}}},"branchMap":{},"code":["'use strict';","module.exports = require('./service_bus_policy');",""],"l":{"2":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/policies/service_bus_policy.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/policies/service_bus_policy.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":13},"end":{"line":12,"column":28}}},"2":{"name":"(anonymous_2)","line":27,"loc":{"start":{"line":27,"column":13},"end":{"line":27,"column":28}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":3,"column":33}},"2":{"start":{"line":5,"column":0},"end":{"line":49,"column":3}},"3":{"start":{"line":13,"column":6},"end":{"line":13,"column":46}},"4":{"start":{"line":13,"column":34},"end":{"line":13,"column":46}},"5":{"start":{"line":14,"column":6},"end":{"line":14,"column":25}},"6":{"start":{"line":15,"column":6},"end":{"line":17,"column":7}},"7":{"start":{"line":16,"column":8},"end":{"line":16,"column":39}},"8":{"start":{"line":18,"column":6},"end":{"line":18,"column":41}},"9":{"start":{"line":28,"column":6},"end":{"line":28,"column":25}},"10":{"start":{"line":29,"column":6},"end":{"line":35,"column":7}},"11":{"start":{"line":30,"column":8},"end":{"line":30,"column":34}},"12":{"start":{"line":31,"column":13},"end":{"line":35,"column":7}},"13":{"start":{"line":32,"column":8},"end":{"line":32,"column":23}},"14":{"start":{"line":34,"column":8},"end":{"line":34,"column":20}},"15":{"start":{"line":37,"column":6},"end":{"line":41,"column":7}},"16":{"start":{"line":38,"column":8},"end":{"line":38,"column":35}},"17":{"start":{"line":40,"column":8},"end":{"line":40,"column":23}}},"branchMap":{"1":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":6},"end":{"line":13,"column":6}},{"start":{"line":13,"column":6},"end":{"line":13,"column":6}}]},"2":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":6},"end":{"line":15,"column":6}},{"start":{"line":15,"column":6},"end":{"line":15,"column":6}}]},"3":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":6},"end":{"line":29,"column":6}},{"start":{"line":29,"column":6},"end":{"line":29,"column":6}}]},"4":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":13},"end":{"line":31,"column":13}},{"start":{"line":31,"column":13},"end":{"line":31,"column":13}}]}},"code":["'use strict';","var constants = require('../constants'),","    Policy = require('./policy');","","module.exports = new Policy({","  defaultSubjects: false,","  senderLink: {","    attach: {","      sndSettleMode: constants.senderSettleMode.settled,","      maxMessageSize: 10000, // Arbitrary choice","    },","    encoder: function(body) {","      if (body instanceof Buffer) return body;","      var bodyStr = body;","      if (typeof body !== 'string') {","        bodyStr = JSON.stringify(body);","      }","      return new Buffer(bodyStr, 'utf8');","    },","    reattach: {","      retries: 10,","      strategy: 'fibonacci', // || 'exponential'","      forever: true","    }","  },","  receiverLink: {","    decoder: function(body) {","      var bodyStr = null;","      if (body instanceof Buffer) {","        bodyStr = body.toString();","      } else if (typeof body === 'string') {","        bodyStr = body;","      } else {","        return body; // No clue.","      }","","      try {","        return JSON.parse(bodyStr);","      } catch (e) {","        return bodyStr;","      }","    },","    reattach: {","      retries: 10,","      strategy: 'fibonacci', // || 'exponential'","      forever: true","    }","  }","});",""],"l":{"2":1,"5":1,"13":0,"14":0,"15":0,"16":0,"18":0,"28":0,"29":0,"30":0,"31":0,"32":0,"34":0,"37":0,"38":0,"40":0}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/policies/service_bus_queue_policy.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/policies/service_bus_queue_policy.js","s":{"1":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":49}}},"branchMap":{},"code":["'use strict';","module.exports = require('./service_bus_policy');"],"l":{"2":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/policies/service_bus_topic_policy.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/policies/service_bus_topic_policy.js","s":{"1":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":49}}},"branchMap":{},"code":["'use strict';","module.exports = require('./service_bus_policy');",""],"l":{"2":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/policies/qpid_java_policy.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/policies/qpid_java_policy.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"b":{"1":[0,0]},"f":{"1":1,"2":0},"fnMap":{"1":{"name":"QpidJavaPolicy","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":26}}},"2":{"name":"(anonymous_2)","line":13,"loc":{"start":{"line":13,"column":40},"end":{"line":13,"column":58}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":3,"column":27}},"2":{"start":{"line":5,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":6,"column":2},"end":{"line":8,"column":5}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":38}},"5":{"start":{"line":12,"column":0},"end":{"line":12,"column":50}},"6":{"start":{"line":13,"column":0},"end":{"line":24,"column":2}},"7":{"start":{"line":14,"column":2},"end":{"line":14,"column":38}},"8":{"start":{"line":17,"column":2},"end":{"line":21,"column":3}},"9":{"start":{"line":18,"column":4},"end":{"line":18,"column":53}},"10":{"start":{"line":19,"column":4},"end":{"line":19,"column":32}},"11":{"start":{"line":20,"column":4},"end":{"line":20,"column":53}},"12":{"start":{"line":23,"column":2},"end":{"line":23,"column":16}},"13":{"start":{"line":26,"column":0},"end":{"line":26,"column":38}}},"branchMap":{"1":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":2},"end":{"line":17,"column":2}},{"start":{"line":17,"column":2},"end":{"line":17,"column":2}}]}},"code":["'use strict';","var Policy = require('./policy'),","    util = require('util');","","function QpidJavaPolicy() {","  Policy.call(this, {","    defaultSubjects: false","  });","}","util.inherits(QpidJavaPolicy, Policy);","","var _parseAddress = Policy.prototype.parseAddress;","QpidJavaPolicy.prototype.parseAddress = function(address) {","  var result = _parseAddress(address);","","  // accept vhosts","  if (result.path !== '/') {","    var pathParts = result.path.substr(1).split('/');","    result.vhost = pathParts[0];","    result.path = '/' + pathParts.slice(1).join('/');","  }","","  return result;","};","","module.exports = new QpidJavaPolicy();",""],"l":{"2":1,"5":1,"6":1,"10":1,"12":1,"13":1,"14":0,"17":0,"18":0,"19":0,"20":0,"23":0,"26":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/policies/activemq_policy.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/lib/policies/activemq_policy.js","s":{"1":1,"2":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":33}},"2":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}}},"branchMap":{},"code":["'use strict';","var Policy = require('./policy');","module.exports = new Policy({","  defaultSubjects: false","});",""],"l":{"2":1,"3":1}},"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/tools/formatDebugLog.js":{"path":"/home/travis/build/npmtest/node-npmtest-amqp10/node_modules/amqp10/tools/formatDebugLog.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":2,"9":1,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":1,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":2,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0},"b":{"1":[2,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0,0,0,0,0,0,0,0,0],"6":[0,0],"7":[0,0,0],"8":[0,0],"9":[0,0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"s","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":16}}},"2":{"name":"checkLength","line":24,"loc":{"start":{"line":24,"column":0},"end":{"line":24,"column":29}}},"3":{"name":"x","line":32,"loc":{"start":{"line":32,"column":0},"end":{"line":32,"column":45}}},"4":{"name":"parseHex","line":133,"loc":{"start":{"line":133,"column":0},"end":{"line":133,"column":26}}},"5":{"name":"(anonymous_5)","line":164,"loc":{"start":{"line":164,"column":29},"end":{"line":164,"column":50}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":5,"column":44}},"2":{"start":{"line":7,"column":0},"end":{"line":10,"column":1}},"3":{"start":{"line":8,"column":2},"end":{"line":8,"column":74}},"4":{"start":{"line":9,"column":2},"end":{"line":9,"column":18}},"5":{"start":{"line":12,"column":0},"end":{"line":12,"column":38}},"6":{"start":{"line":13,"column":0},"end":{"line":13,"column":24}},"7":{"start":{"line":15,"column":0},"end":{"line":15,"column":39}},"8":{"start":{"line":16,"column":0},"end":{"line":16,"column":47}},"9":{"start":{"line":18,"column":0},"end":{"line":22,"column":1}},"10":{"start":{"line":19,"column":2},"end":{"line":19,"column":13}},"11":{"start":{"line":20,"column":2},"end":{"line":20,"column":47}},"12":{"start":{"line":20,"column":38},"end":{"line":20,"column":47}},"13":{"start":{"line":21,"column":2},"end":{"line":21,"column":11}},"14":{"start":{"line":24,"column":0},"end":{"line":30,"column":1}},"15":{"start":{"line":25,"column":2},"end":{"line":28,"column":3}},"16":{"start":{"line":26,"column":4},"end":{"line":26,"column":74}},"17":{"start":{"line":27,"column":4},"end":{"line":27,"column":17}},"18":{"start":{"line":29,"column":2},"end":{"line":29,"column":14}},"19":{"start":{"line":32,"column":0},"end":{"line":131,"column":1}},"20":{"start":{"line":33,"column":2},"end":{"line":33,"column":73}},"21":{"start":{"line":33,"column":27},"end":{"line":33,"column":73}},"22":{"start":{"line":35,"column":2},"end":{"line":35,"column":35}},"23":{"start":{"line":36,"column":2},"end":{"line":36,"column":28}},"24":{"start":{"line":37,"column":2},"end":{"line":37,"column":16}},"25":{"start":{"line":38,"column":2},"end":{"line":129,"column":3}},"26":{"start":{"line":39,"column":4},"end":{"line":39,"column":40}},"27":{"start":{"line":40,"column":4},"end":{"line":40,"column":56}},"28":{"start":{"line":41,"column":4},"end":{"line":41,"column":54}},"29":{"start":{"line":42,"column":4},"end":{"line":42,"column":26}},"30":{"start":{"line":43,"column":4},"end":{"line":43,"column":30}},"31":{"start":{"line":44,"column":4},"end":{"line":44,"column":55}},"32":{"start":{"line":45,"column":4},"end":{"line":45,"column":53}},"33":{"start":{"line":46,"column":4},"end":{"line":46,"column":25}},"34":{"start":{"line":47,"column":4},"end":{"line":47,"column":29}},"35":{"start":{"line":49,"column":4},"end":{"line":49,"column":35}},"36":{"start":{"line":50,"column":4},"end":{"line":128,"column":5}},"37":{"start":{"line":52,"column":8},"end":{"line":52,"column":44}},"38":{"start":{"line":53,"column":8},"end":{"line":53,"column":14}},"39":{"start":{"line":55,"column":8},"end":{"line":55,"column":34}},"40":{"start":{"line":56,"column":8},"end":{"line":56,"column":22}},"41":{"start":{"line":57,"column":8},"end":{"line":57,"column":34}},"42":{"start":{"line":58,"column":8},"end":{"line":58,"column":56}},"43":{"start":{"line":59,"column":8},"end":{"line":59,"column":14}},"44":{"start":{"line":61,"column":8},"end":{"line":61,"column":34}},"45":{"start":{"line":62,"column":8},"end":{"line":62,"column":22}},"46":{"start":{"line":63,"column":8},"end":{"line":63,"column":34}},"47":{"start":{"line":64,"column":8},"end":{"line":64,"column":56}},"48":{"start":{"line":65,"column":8},"end":{"line":65,"column":14}},"49":{"start":{"line":67,"column":8},"end":{"line":67,"column":34}},"50":{"start":{"line":68,"column":8},"end":{"line":68,"column":22}},"51":{"start":{"line":69,"column":8},"end":{"line":69,"column":34}},"52":{"start":{"line":70,"column":8},"end":{"line":70,"column":56}},"53":{"start":{"line":71,"column":8},"end":{"line":71,"column":14}},"54":{"start":{"line":73,"column":8},"end":{"line":73,"column":35}},"55":{"start":{"line":74,"column":8},"end":{"line":74,"column":23}},"56":{"start":{"line":75,"column":8},"end":{"line":75,"column":35}},"57":{"start":{"line":76,"column":8},"end":{"line":76,"column":56}},"58":{"start":{"line":77,"column":8},"end":{"line":77,"column":14}},"59":{"start":{"line":79,"column":8},"end":{"line":79,"column":66}},"60":{"start":{"line":80,"column":8},"end":{"line":80,"column":22}},"61":{"start":{"line":81,"column":8},"end":{"line":81,"column":34}},"62":{"start":{"line":82,"column":8},"end":{"line":82,"column":40}},"63":{"start":{"line":83,"column":8},"end":{"line":83,"column":28}},"64":{"start":{"line":84,"column":8},"end":{"line":84,"column":40}},"65":{"start":{"line":85,"column":8},"end":{"line":85,"column":114}},"66":{"start":{"line":85,"column":68},"end":{"line":85,"column":114}},"67":{"start":{"line":86,"column":8},"end":{"line":86,"column":85}},"68":{"start":{"line":87,"column":8},"end":{"line":87,"column":14}},"69":{"start":{"line":89,"column":8},"end":{"line":89,"column":69}},"70":{"start":{"line":90,"column":8},"end":{"line":90,"column":22}},"71":{"start":{"line":91,"column":8},"end":{"line":91,"column":34}},"72":{"start":{"line":92,"column":8},"end":{"line":92,"column":40}},"73":{"start":{"line":93,"column":8},"end":{"line":93,"column":28}},"74":{"start":{"line":94,"column":8},"end":{"line":94,"column":40}},"75":{"start":{"line":95,"column":8},"end":{"line":95,"column":114}},"76":{"start":{"line":95,"column":68},"end":{"line":95,"column":114}},"77":{"start":{"line":96,"column":8},"end":{"line":96,"column":85}},"78":{"start":{"line":97,"column":8},"end":{"line":97,"column":14}},"79":{"start":{"line":99,"column":8},"end":{"line":99,"column":66}},"80":{"start":{"line":100,"column":8},"end":{"line":100,"column":22}},"81":{"start":{"line":101,"column":8},"end":{"line":101,"column":34}},"82":{"start":{"line":102,"column":8},"end":{"line":102,"column":67}},"83":{"start":{"line":103,"column":8},"end":{"line":103,"column":22}},"84":{"start":{"line":104,"column":8},"end":{"line":104,"column":34}},"85":{"start":{"line":105,"column":8},"end":{"line":105,"column":46}},"86":{"start":{"line":106,"column":8},"end":{"line":106,"column":34}},"87":{"start":{"line":107,"column":8},"end":{"line":107,"column":46}},"88":{"start":{"line":108,"column":8},"end":{"line":108,"column":47}},"89":{"start":{"line":109,"column":8},"end":{"line":109,"column":89}},"90":{"start":{"line":110,"column":8},"end":{"line":110,"column":14}},"91":{"start":{"line":112,"column":8},"end":{"line":112,"column":69}},"92":{"start":{"line":113,"column":8},"end":{"line":113,"column":22}},"93":{"start":{"line":114,"column":8},"end":{"line":114,"column":34}},"94":{"start":{"line":115,"column":8},"end":{"line":115,"column":70}},"95":{"start":{"line":116,"column":8},"end":{"line":116,"column":22}},"96":{"start":{"line":117,"column":8},"end":{"line":117,"column":34}},"97":{"start":{"line":118,"column":8},"end":{"line":118,"column":46}},"98":{"start":{"line":119,"column":8},"end":{"line":119,"column":34}},"99":{"start":{"line":120,"column":8},"end":{"line":120,"column":46}},"100":{"start":{"line":121,"column":8},"end":{"line":121,"column":47}},"101":{"start":{"line":122,"column":8},"end":{"line":122,"column":89}},"102":{"start":{"line":123,"column":8},"end":{"line":123,"column":14}},"103":{"start":{"line":125,"column":8},"end":{"line":125,"column":58}},"104":{"start":{"line":126,"column":8},"end":{"line":126,"column":55}},"105":{"start":{"line":127,"column":8},"end":{"line":127,"column":14}},"106":{"start":{"line":130,"column":2},"end":{"line":130,"column":45}},"107":{"start":{"line":133,"column":0},"end":{"line":162,"column":1}},"108":{"start":{"line":134,"column":2},"end":{"line":134,"column":54}},"109":{"start":{"line":135,"column":2},"end":{"line":135,"column":42}},"110":{"start":{"line":136,"column":2},"end":{"line":136,"column":20}},"111":{"start":{"line":137,"column":2},"end":{"line":141,"column":3}},"112":{"start":{"line":138,"column":4},"end":{"line":138,"column":138}},"113":{"start":{"line":140,"column":4},"end":{"line":140,"column":53}},"114":{"start":{"line":144,"column":2},"end":{"line":144,"column":18}},"115":{"start":{"line":145,"column":2},"end":{"line":145,"column":20}},"116":{"start":{"line":146,"column":2},"end":{"line":160,"column":3}},"117":{"start":{"line":147,"column":4},"end":{"line":147,"column":38}},"118":{"start":{"line":148,"column":4},"end":{"line":159,"column":24}},"119":{"start":{"line":149,"column":6},"end":{"line":149,"column":29}},"120":{"start":{"line":150,"column":6},"end":{"line":150,"column":79}},"121":{"start":{"line":151,"column":6},"end":{"line":151,"column":60}},"122":{"start":{"line":152,"column":6},"end":{"line":158,"column":26}},"123":{"start":{"line":153,"column":8},"end":{"line":153,"column":48}},"124":{"start":{"line":154,"column":8},"end":{"line":154,"column":52}},"125":{"start":{"line":155,"column":8},"end":{"line":155,"column":59}},"126":{"start":{"line":156,"column":8},"end":{"line":156,"column":30}},"127":{"start":{"line":157,"column":8},"end":{"line":157,"column":40}},"128":{"start":{"line":158,"column":13},"end":{"line":158,"column":26}},"129":{"start":{"line":159,"column":11},"end":{"line":159,"column":24}},"130":{"start":{"line":161,"column":2},"end":{"line":161,"column":16}},"131":{"start":{"line":164,"column":0},"end":{"line":207,"column":3}},"132":{"start":{"line":165,"column":2},"end":{"line":165,"column":42}},"133":{"start":{"line":166,"column":2},"end":{"line":166,"column":17}},"134":{"start":{"line":167,"column":2},"end":{"line":167,"column":17}},"135":{"start":{"line":168,"column":2},"end":{"line":190,"column":3}},"136":{"start":{"line":169,"column":4},"end":{"line":169,"column":33}},"137":{"start":{"line":170,"column":4},"end":{"line":170,"column":45}},"138":{"start":{"line":171,"column":4},"end":{"line":177,"column":5}},"139":{"start":{"line":172,"column":6},"end":{"line":172,"column":75}},"140":{"start":{"line":173,"column":6},"end":{"line":175,"column":7}},"141":{"start":{"line":174,"column":8},"end":{"line":174,"column":62}},"142":{"start":{"line":176,"column":6},"end":{"line":176,"column":24}},"143":{"start":{"line":178,"column":4},"end":{"line":178,"column":41}},"144":{"start":{"line":179,"column":4},"end":{"line":189,"column":5}},"145":{"start":{"line":180,"column":6},"end":{"line":180,"column":71}},"146":{"start":{"line":181,"column":6},"end":{"line":181,"column":47}},"147":{"start":{"line":182,"column":6},"end":{"line":188,"column":7}},"148":{"start":{"line":183,"column":8},"end":{"line":183,"column":66}},"149":{"start":{"line":184,"column":8},"end":{"line":186,"column":9}},"150":{"start":{"line":185,"column":10},"end":{"line":185,"column":64}},"151":{"start":{"line":187,"column":8},"end":{"line":187,"column":26}},"152":{"start":{"line":191,"column":2},"end":{"line":191,"column":36}},"153":{"start":{"line":192,"column":2},"end":{"line":192,"column":36}},"154":{"start":{"line":193,"column":2},"end":{"line":193,"column":62}},"155":{"start":{"line":194,"column":2},"end":{"line":194,"column":62}},"156":{"start":{"line":195,"column":2},"end":{"line":195,"column":64}},"157":{"start":{"line":196,"column":2},"end":{"line":196,"column":22}},"158":{"start":{"line":197,"column":2},"end":{"line":197,"column":21}},"159":{"start":{"line":198,"column":2},"end":{"line":198,"column":27}},"160":{"start":{"line":199,"column":2},"end":{"line":199,"column":27}},"161":{"start":{"line":200,"column":2},"end":{"line":200,"column":64}},"162":{"start":{"line":201,"column":2},"end":{"line":201,"column":62}},"163":{"start":{"line":202,"column":2},"end":{"line":202,"column":64}},"164":{"start":{"line":203,"column":2},"end":{"line":203,"column":22}},"165":{"start":{"line":204,"column":2},"end":{"line":204,"column":21}},"166":{"start":{"line":205,"column":2},"end":{"line":205,"column":27}},"167":{"start":{"line":206,"column":2},"end":{"line":206,"column":27}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":0},"end":{"line":7,"column":0}},{"start":{"line":7,"column":0},"end":{"line":7,"column":0}}]},"2":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":25,"column":2}},{"start":{"line":25,"column":2},"end":{"line":25,"column":2}}]},"3":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":2},"end":{"line":33,"column":2}},{"start":{"line":33,"column":2},"end":{"line":33,"column":2}}]},"4":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":2},"end":{"line":38,"column":2}},{"start":{"line":38,"column":2},"end":{"line":38,"column":2}}]},"5":{"line":50,"type":"switch","locations":[{"start":{"line":51,"column":6},"end":{"line":53,"column":14}},{"start":{"line":54,"column":6},"end":{"line":59,"column":14}},{"start":{"line":60,"column":6},"end":{"line":65,"column":14}},{"start":{"line":66,"column":6},"end":{"line":71,"column":14}},{"start":{"line":72,"column":6},"end":{"line":77,"column":14}},{"start":{"line":78,"column":6},"end":{"line":87,"column":14}},{"start":{"line":88,"column":6},"end":{"line":97,"column":14}},{"start":{"line":98,"column":6},"end":{"line":110,"column":14}},{"start":{"line":111,"column":6},"end":{"line":123,"column":14}},{"start":{"line":124,"column":6},"end":{"line":127,"column":14}}]},"6":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":8},"end":{"line":85,"column":8}},{"start":{"line":85,"column":8},"end":{"line":85,"column":8}}]},"7":{"line":85,"type":"binary-expr","locations":[{"start":{"line":85,"column":12},"end":{"line":85,"column":24}},{"start":{"line":85,"column":28},"end":{"line":85,"column":45}},{"start":{"line":85,"column":49},"end":{"line":85,"column":66}}]},"8":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":8},"end":{"line":95,"column":8}},{"start":{"line":95,"column":8},"end":{"line":95,"column":8}}]},"9":{"line":95,"type":"binary-expr","locations":[{"start":{"line":95,"column":12},"end":{"line":95,"column":24}},{"start":{"line":95,"column":28},"end":{"line":95,"column":45}},{"start":{"line":95,"column":49},"end":{"line":95,"column":66}}]},"10":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":2},"end":{"line":137,"column":2}},{"start":{"line":137,"column":2},"end":{"line":137,"column":2}}]},"11":{"line":146,"type":"binary-expr","locations":[{"start":{"line":146,"column":9},"end":{"line":146,"column":15}},{"start":{"line":146,"column":19},"end":{"line":146,"column":34}}]},"12":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":4},"end":{"line":148,"column":4}},{"start":{"line":148,"column":4},"end":{"line":148,"column":4}}]},"13":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":6},"end":{"line":152,"column":6}},{"start":{"line":152,"column":6},"end":{"line":152,"column":6}}]},"14":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":4},"end":{"line":171,"column":4}},{"start":{"line":171,"column":4},"end":{"line":171,"column":4}}]},"15":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":6},"end":{"line":173,"column":6}},{"start":{"line":173,"column":6},"end":{"line":173,"column":6}}]},"16":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":4},"end":{"line":179,"column":4}},{"start":{"line":179,"column":4},"end":{"line":179,"column":4}}]},"17":{"line":182,"type":"if","locations":[{"start":{"line":182,"column":6},"end":{"line":182,"column":6}},{"start":{"line":182,"column":6},"end":{"line":182,"column":6}}]},"18":{"line":184,"type":"if","locations":[{"start":{"line":184,"column":8},"end":{"line":184,"column":8}},{"start":{"line":184,"column":8},"end":{"line":184,"column":8}}]}},"code":["'use strict';","","var fs = require('fs'),","    Int64 = require('node-int64'),","    constants = require('../lib/constants');","","if (process.argv.length < 3) {","  console.warn('Usage: node ' + process.argv[1] + ' <debug output file>');","  process.exit(1);","}","","var debugOutputFile = process.argv[2];","var tryToConvert = true;","","var rxPrefix = 'amqp10:connection Rx:';","var txPrefix = 'amqp10:framing sending frame:';","","function s(cnt) {","  var r = '';","  for (var idx = 0; idx < cnt; ++idx) r += ' ';","  return r;","}","","function checkLength(str, l) {","  if (str.length < l) {","    console.log('String smaller than expected: ('+str.length+' < '+l+')');","    return false;","  }","  return true;","}","","function x(hexstr, consumed, result, indent) {","  if (hexstr.length === 0) return { consumed: consumed, result: result };","","  var prefix = hexstr.substr(0, 2);","  hexstr = hexstr.substr(2);","  consumed += 2;","  if (prefix === '00') {","    result += s(indent) + prefix + '\\n';","    var label = x(hexstr, consumed, result, indent + 2);","    hexstr = hexstr.substr(label.consumed - consumed);","    result = label.result;","    consumed = label.consumed;","    var body = x(hexstr, consumed, result, indent + 2);","    hexstr = hexstr.substr(body.consumed - consumed);","    result = body.result;","    consumed = body.consumed;","  } else {","    var len, nent, val, parsedColl;","    switch (prefix[0]) {","      case '4':","        result += s(indent) + prefix + '\\n';","        break;","      case '5':","        val = hexstr.substr(0, 2);","        consumed += 2;","        hexstr = hexstr.substr(2);","        result += s(indent) + prefix + ' ' + val + '\\n';","        break;","      case '6':","        val = hexstr.substr(0, 4);","        consumed += 4;","        hexstr = hexstr.substr(4);","        result += s(indent) + prefix + ' ' + val + '\\n';","        break;","      case '7':","        val = hexstr.substr(0, 8);","        consumed += 8;","        hexstr = hexstr.substr(8);","        result += s(indent) + prefix + ' ' + val + '\\n';","        break;","      case '8':","        val = hexstr.substr(0, 16);","        consumed += 16;","        hexstr = hexstr.substr(16);","        result += s(indent) + prefix + ' ' + val + '\\n';","        break;","      case 'a':","        len = new Buffer(hexstr.substr(0, 2), 'hex').readUInt8(0);","        consumed += 2;","        hexstr = hexstr.substr(2);","        val = hexstr.substr(0, len * 2);","        consumed += len * 2;","        hexstr = hexstr.substr(len * 2);","        if (tryToConvert || prefix[1] === '1' || prefix[1] === '3') val = new Buffer(val, 'hex').toString('utf8');","        result += s(indent) + prefix + ' ' + len + '\\n' + s(indent + 2) + val + '\\n';","        break;","      case 'b':","        len = new Buffer(hexstr.substr(0, 8), 'hex').readUInt32BE(0);","        consumed += 8;","        hexstr = hexstr.substr(8);","        val = hexstr.substr(0, len * 2);","        consumed += len * 2;","        hexstr = hexstr.substr(len * 2);","        if (tryToConvert || prefix[1] === '1' || prefix[1] === '3') val = new Buffer(val, 'hex').toString('utf8');","        result += s(indent) + prefix + ' ' + len + '\\n' + s(indent + 2) + val + '\\n';","        break;","      case 'c':","        len = new Buffer(hexstr.substr(0, 2), 'hex').readUInt8(0);","        consumed += 2;","        hexstr = hexstr.substr(2);","        nent = new Buffer(hexstr.substr(0, 2), 'hex').readUInt8(0);","        consumed += 2;","        hexstr = hexstr.substr(2);","        val = hexstr.substr(0, (len - 1) * 2);","        consumed += (len - 1) * 2;","        hexstr = hexstr.substr((len - 1) * 2);","        parsedColl = x(val, 0, '', indent + 2);","        result += s(indent) + prefix + ' ' + len + ' ' + nent + '\\n' + parsedColl.result;","        break;","      case 'd':","        len = new Buffer(hexstr.substr(0, 8), 'hex').readUInt32BE(0);","        consumed += 8;","        hexstr = hexstr.substr(8);","        nent = new Buffer(hexstr.substr(0, 8), 'hex').readUInt32BE(0);","        consumed += 8;","        hexstr = hexstr.substr(8);","        val = hexstr.substr(0, (len - 1) * 2);","        consumed += (len - 1) * 2;","        hexstr = hexstr.substr((len - 1) * 2);","        parsedColl = x(val, 0, '', indent + 2);","        result += s(indent) + prefix + ' ' + len + ' ' + nent + '\\n' + parsedColl.result;","        break;","      default:","        console.log('Error: Unexpected prefix ' + prefix);","        result += s(indent) + prefix + ' unexpected\\n';","        break;","    }","  }","  return x(hexstr, consumed, result, indent);","}","","function parseHex(hexstr) {","  var amqpstr = constants.amqpVersion.toString('hex');","  var headerIdx = hexstr.indexOf(amqpstr);","  var body = hexstr;","  if (headerIdx === -1) {","    console.log('Header \"' + amqpstr + '\" not found, assuming partial trace.  If trace is not frame-aligned, results will be incorrect.');","  } else {","    body = hexstr.substr(headerIdx + amqpstr.length);","  }","","  // Assume everything from here on out is frames","  var parsed = '';","  var error = false;","  while (!error && body.length > 0) {","    var lengthstr = body.substr(0, 8);","    if (checkLength(body, 16)) {","      body = body.substr(16);","      var frameLength64 = new Int64(new Buffer('00000000' + lengthstr, 'hex'));","      var frameLength = frameLength64.valueOf() * 2 - (8*2);","      if (checkLength(body, frameLength)) {","        var frame = body.substr(0, frameLength);","        var parsedFrame = x(frame, 0, '', 2).result;","        parsed += 'Frame of length ' + frameLength + ':\\n';","        parsed += parsedFrame;","        body = body.substr(frameLength);","      } else error = true;","    } else error = true;","  }","  return parsed;","}","","fs.readFile(debugOutputFile, function (err, data) {","  var lines = data.toString().split('\\n');","  var rxHex = '';","  var txHex = '';","  for (var idx in lines) {","    var line = lines[idx].trim();","    var idxOfPrefix = line.indexOf(rxPrefix);","    if (idxOfPrefix >= 0) {","      var curRxHex = line.substr(idxOfPrefix + rxPrefix.length + 1).trim();","      if (curRxHex.indexOf(' +') !== -1) {","        curRxHex = curRxHex.substr(0, curRxHex.indexOf(' +'));","      }","      rxHex += curRxHex;","    }","    idxOfPrefix = line.indexOf(txPrefix);","    if (idxOfPrefix >= 0) {","      var rest = line.substr(idxOfPrefix + txPrefix.length + 1).trim();","      var idxOfHexStart = rest.indexOf('] : ');","      if (idxOfHexStart >= 0) {","        var curTxHex = rest.substr(idxOfHexStart + '] : '.length);","        if (curTxHex.indexOf(' +') !== -1) {","          curTxHex = curTxHex.substr(0, curTxHex.indexOf(' +'));","        }","        txHex += curTxHex;","      }","    }","  }","  var parsedRxHex = parseHex(rxHex);","  var parsedTxHex = parseHex(txHex);","  console.log('============================================');","  console.log('=============== Received ===================');","  console.log('============================================\\n');","  console.log('Hex:');","  console.log(rxHex);","  console.log('\\nParsed:');","  console.log(parsedRxHex);","  console.log('\\n============================================');","  console.log('================= Sent =====================');","  console.log('============================================\\n');","  console.log('Hex:');","  console.log(txHex);","  console.log('\\nParsed:');","  console.log(parsedTxHex);","});",""],"l":{"3":2,"7":2,"8":2,"9":2,"12":2,"13":2,"15":2,"16":2,"18":1,"19":0,"20":0,"21":0,"24":1,"25":0,"26":0,"27":0,"29":0,"32":1,"33":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"49":0,"50":0,"52":0,"53":0,"55":0,"56":0,"57":0,"58":0,"59":0,"61":0,"62":0,"63":0,"64":0,"65":0,"67":0,"68":0,"69":0,"70":0,"71":0,"73":0,"74":0,"75":0,"76":0,"77":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"125":0,"126":0,"127":0,"130":0,"133":1,"134":0,"135":0,"136":0,"137":0,"138":0,"140":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"161":0,"164":2,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"176":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"187":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0}}}